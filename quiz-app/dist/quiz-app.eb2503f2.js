let e,t,n;function r(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var i,s,o,a,l,u,c,h,f,d,p,g,m,y,v,b,w,_,E,C,S,A,x,I,k,T,D,N,L,R,B,P=globalThis,O={},M={},F=P.parcelRequiree238;null==F&&((F=function(e){if(e in O)return O[e].exports;if(e in M){var t=M[e];delete M[e];var n={id:e,exports:{}};return O[e]=n,t.call(n.exports,n,n.exports),n.exports}var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){M[e]=t},P.parcelRequiree238=F);var U=F.register;U("bDyTI",function(e,t){r(e.exports,"Fragment",()=>n,e=>n=e),r(e.exports,"jsx",()=>i,e=>i=e),r(e.exports,"jsxs",()=>s,e=>s=e);var n,i,s,o=F("3OyDL"),a=Symbol.for("react.element"),l=Symbol.for("react.fragment"),u=Object.prototype.hasOwnProperty,c=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,h={key:!0,ref:!0,__self:!0,__source:!0};function f(e,t,n){var r,i={},s=null,o=null;for(r in void 0!==n&&(s=""+n),void 0!==t.key&&(s=""+t.key),void 0!==t.ref&&(o=t.ref),t)u.call(t,r)&&!h.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:a,type:e,key:s,ref:o,props:i,_owner:c.current}}n=l,i=f,s=f}),U("3OyDL",function(e,t){e.exports=F("7TFsZ")}),U("7TFsZ",function(e,t){r(e.exports,"Children",()=>n,e=>n=e),r(e.exports,"Component",()=>i,e=>i=e),r(e.exports,"Fragment",()=>s,e=>s=e),r(e.exports,"Profiler",()=>o,e=>o=e),r(e.exports,"PureComponent",()=>a,e=>a=e),r(e.exports,"StrictMode",()=>l,e=>l=e),r(e.exports,"Suspense",()=>u,e=>u=e),r(e.exports,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",()=>c,e=>c=e),r(e.exports,"act",()=>h,e=>h=e),r(e.exports,"cloneElement",()=>f,e=>f=e),r(e.exports,"createContext",()=>d,e=>d=e),r(e.exports,"createElement",()=>p,e=>p=e),r(e.exports,"createFactory",()=>g,e=>g=e),r(e.exports,"createRef",()=>m,e=>m=e),r(e.exports,"forwardRef",()=>y,e=>y=e),r(e.exports,"isValidElement",()=>v,e=>v=e),r(e.exports,"lazy",()=>b,e=>b=e),r(e.exports,"memo",()=>w,e=>w=e),r(e.exports,"startTransition",()=>_,e=>_=e),r(e.exports,"unstable_act",()=>E,e=>E=e),r(e.exports,"useCallback",()=>C,e=>C=e),r(e.exports,"useContext",()=>S,e=>S=e),r(e.exports,"useDebugValue",()=>A,e=>A=e),r(e.exports,"useDeferredValue",()=>x,e=>x=e),r(e.exports,"useEffect",()=>I,e=>I=e),r(e.exports,"useId",()=>k,e=>k=e),r(e.exports,"useImperativeHandle",()=>T,e=>T=e),r(e.exports,"useInsertionEffect",()=>D,e=>D=e),r(e.exports,"useLayoutEffect",()=>N,e=>N=e),r(e.exports,"useMemo",()=>L,e=>L=e),r(e.exports,"useReducer",()=>R,e=>R=e),r(e.exports,"useRef",()=>B,e=>B=e),r(e.exports,"useState",()=>P,e=>P=e),r(e.exports,"useSyncExternalStore",()=>O,e=>O=e),r(e.exports,"useTransition",()=>M,e=>M=e),r(e.exports,"version",()=>F,e=>F=e);var n,i,s,o,a,l,u,c,h,f,d,p,g,m,y,v,b,w,_,E,C,S,A,x,I,k,T,D,N,L,R,B,P,O,M,F,U=Symbol.for("react.element"),V=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),H=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),Q=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),Y=Symbol.iterator,X={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,Z={};function ee(e,t,n){this.props=e,this.context=t,this.refs=Z,this.updater=n||X}function et(){}function en(e,t,n){this.props=e,this.context=t,this.refs=Z,this.updater=n||X}ee.prototype.isReactComponent={},ee.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},ee.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},et.prototype=ee.prototype;var er=en.prototype=new et;er.constructor=en,J(er,ee.prototype),er.isPureReactComponent=!0;var ei=Array.isArray,es=Object.prototype.hasOwnProperty,eo={current:null},ea={key:!0,ref:!0,__self:!0,__source:!0};function el(e,t,n){var r,i={},s=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)es.call(t,r)&&!ea.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===i[r]&&(i[r]=a[r]);return{$$typeof:U,type:e,key:s,ref:o,props:i,_owner:eo.current}}function eu(e){return"object"==typeof e&&null!==e&&e.$$typeof===U}var ec=/\/+/g;function eh(e,t){var n,r;return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,r={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,function(e){return r[e]})):t.toString(36)}function ef(e,t,n){if(null==e)return e;var r=[],i=0;return!function e(t,n,r,i,s){var o,a,l,u=typeof t;("undefined"===u||"boolean"===u)&&(t=null);var c=!1;if(null===t)c=!0;else switch(u){case"string":case"number":c=!0;break;case"object":switch(t.$$typeof){case U:case V:c=!0}}if(c)return s=s(c=t),t=""===i?"."+eh(c,0):i,ei(s)?(r="",null!=t&&(r=t.replace(ec,"$&/")+"/"),e(s,n,r,"",function(e){return e})):null!=s&&(eu(s)&&(o=s,a=r+(!s.key||c&&c.key===s.key?"":(""+s.key).replace(ec,"$&/")+"/")+t,s={$$typeof:U,type:o.type,key:a,ref:o.ref,props:o.props,_owner:o._owner}),n.push(s)),1;if(c=0,i=""===i?".":i+":",ei(t))for(var h=0;h<t.length;h++){var f=i+eh(u=t[h],h);c+=e(u,n,r,f,s)}else if("function"==typeof(f=null===(l=t)||"object"!=typeof l?null:"function"==typeof(l=Y&&l[Y]||l["@@iterator"])?l:null))for(t=f.call(t),h=0;!(u=t.next()).done;)f=i+eh(u=u.value,h++),c+=e(u,n,r,f,s);else if("object"===u)throw Error("Objects are not valid as a React child (found: "+("[object Object]"===(n=String(t))?"object with keys {"+Object.keys(t).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return c}(e,r,"","",function(e){return t.call(n,e,i++)}),r}function ed(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){(0===e._status||-1===e._status)&&(e._status=1,e._result=t)},function(t){(0===e._status||-1===e._status)&&(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var ep={current:null},eg={transition:null};function em(){throw Error("act(...) is not supported in production builds of React.")}n={map:ef,forEach:function(e,t,n){ef(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ef(e,function(){t++}),t},toArray:function(e){return ef(e,function(e){return e})||[]},only:function(e){if(!eu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},i=ee,s=j,o=q,a=en,l=z,u=K,c={ReactCurrentDispatcher:ep,ReactCurrentBatchConfig:eg,ReactCurrentOwner:eo},h=em,f=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=J({},e.props),i=e.key,s=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,o=eo.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)es.call(t,l)&&!ea.hasOwnProperty(l)&&(r[l]=void 0===t[l]&&void 0!==a?a[l]:t[l])}var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:U,type:e.type,key:i,ref:s,props:r,_owner:o}},d=function(e){return(e={$$typeof:H,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:$,_context:e},e.Consumer=e},p=el,g=function(e){var t=el.bind(null,e);return t.type=e,t},m=function(){return{current:null}},y=function(e){return{$$typeof:G,render:e}},v=eu,b=function(e){return{$$typeof:W,_payload:{_status:-1,_result:e},_init:ed}},w=function(e,t){return{$$typeof:Q,type:e,compare:void 0===t?null:t}},_=function(e){var t=eg.transition;eg.transition={};try{e()}finally{eg.transition=t}},E=em,C=function(e,t){return ep.current.useCallback(e,t)},S=function(e){return ep.current.useContext(e)},A=function(){},x=function(e){return ep.current.useDeferredValue(e)},I=function(e,t){return ep.current.useEffect(e,t)},k=function(){return ep.current.useId()},T=function(e,t,n){return ep.current.useImperativeHandle(e,t,n)},D=function(e,t){return ep.current.useInsertionEffect(e,t)},N=function(e,t){return ep.current.useLayoutEffect(e,t)},L=function(e,t){return ep.current.useMemo(e,t)},R=function(e,t,n){return ep.current.useReducer(e,t,n)},B=function(e){return ep.current.useRef(e)},P=function(e){return ep.current.useState(e)},O=function(e,t,n){return ep.current.useSyncExternalStore(e,t,n)},M=function(){return ep.current.useTransition()},F="18.3.1"}),U("4b4Zm",function(e,t){r(e.exports,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",()=>q,e=>q=e),r(e.exports,"createPortal",()=>$,e=>$=e),r(e.exports,"createRoot",()=>H,e=>H=e),r(e.exports,"findDOMNode",()=>G,e=>G=e),r(e.exports,"flushSync",()=>K,e=>K=e),r(e.exports,"hydrate",()=>Q,e=>Q=e),r(e.exports,"hydrateRoot",()=>W,e=>W=e),r(e.exports,"render",()=>Y,e=>Y=e),r(e.exports,"unmountComponentAtNode",()=>X,e=>X=e),r(e.exports,"unstable_batchedUpdates",()=>J,e=>J=e),r(e.exports,"unstable_renderSubtreeIntoContainer",()=>Z,e=>Z=e),r(e.exports,"version",()=>ee,e=>ee=e);var n,i,s,o,a,l,u=F("3OyDL"),c=F("jztx6");function h(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f=new Set,d={};function p(e,t){g(e,t),g(e+"Capture",t)}function g(e,t){for(d[e]=t,e=0;e<t.length;e++)f.add(t[e])}var m="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,y=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b={},w={};function _(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){E[e]=new _(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];E[t]=new _(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){E[e]=new _(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){E[e]=new _(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){E[e]=new _(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){E[e]=new _(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){E[e]=new _(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){E[e]=new _(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){E[e]=new _(e,5,!1,e.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function S(e){return e[1].toUpperCase()}function A(e,t,n,r){var i,s=E.hasOwnProperty(t)?E[t]:null;(null!==s?0!==s.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":if(r)return!1;if(null!==n)return!n.acceptsBooleans;return"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e;default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,s,r)&&(n=null),r||null===s?(i=t,(y.call(w,i)||!y.call(b,i)&&(v.test(i)?w[i]=!0:(b[i]=!0,!1)))&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n))):s.mustUseProperty?e[s.propertyName]=null===n?3!==s.type&&"":n:(t=s.attributeName,r=s.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(C,S);E[t]=new _(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(C,S);E[t]=new _(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(C,S);E[t]=new _(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){E[e]=new _(e,1,!1,e.toLowerCase(),null,!1,!1)}),E.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){E[e]=new _(e,1,!1,e.toLowerCase(),null,!0,!0)});var x=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),k=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),R=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),U=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var V=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var j=Symbol.iterator;function z(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=j&&e[j]||e["@@iterator"])?e:null}var q,$,H,G,K,Q,W,Y,X,J,Z,ee,et,en=Object.assign;function er(e){if(void 0===et)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);et=t&&t[1]||""}return"\n"+et+e}var ei=!1;function es(e,t){if(!e||ei)return"";ei=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a)break}}}finally{ei=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?er(e):""}function eo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ea(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function el(e){e._valueTracker||(e._valueTracker=function(e){var t=ea(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function eu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ea(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ec(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function eh(e,t){var n=t.checked;return en({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ef(e,t){var n=null==t.defaultValue?"":t.defaultValue;e._wrapperState={initialChecked:null!=t.checked?t.checked:t.defaultChecked,initialValue:n=eo(null!=t.value?t.value:n),controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function ed(e,t){null!=(t=t.checked)&&A(e,"checked",t,!1)}function ep(e,t){ed(e,t);var n=eo(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?em(e,t.type,n):t.hasOwnProperty("defaultValue")&&em(e,t.type,eo(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function eg(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(("submit"===r||"reset"===r)&&(void 0===t.value||null===t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function em(e,t,n){("number"!==t||ec(e.ownerDocument)!==e)&&(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ey=Array.isArray;function ev(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(i=0,n=""+eo(n),t=null;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function eb(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(h(91));return en({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ew(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(h(92));if(ey(n)){if(1<n.length)throw Error(h(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:eo(n)}}function e_(e,t){var n=eo(t.value),r=eo(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function eE(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function eC(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function eS(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?eC(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var eA,ex,eI=(eA=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ex=ex||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ex.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return eA(e,t,n,r)})}:eA);function ek(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType){n.nodeValue=t;return}}e.textContent=t}var eT={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eD=["Webkit","ms","Moz","O"];function eN(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||eT.hasOwnProperty(e)&&eT[e]?(""+t).trim():t+"px"}function eL(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=eN(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(eT).forEach(function(e){eD.forEach(function(t){eT[t=t+e.charAt(0).toUpperCase()+e.substring(1)]=eT[e]})});var eR=en({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eB(e,t){if(t){if(eR[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(h(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(h(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(h(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(h(62))}}function eP(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eO=null;function eM(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var eF=null,eU=null,eV=null;function ej(e){if(e=rW(e)){if("function"!=typeof eF)throw Error(h(280));var t=e.stateNode;t&&(t=rX(t),eF(e.stateNode,e.type,t))}}function ez(e){eU?eV?eV.push(e):eV=[e]:eU=e}function eq(){if(eU){var e=eU,t=eV;if(eV=eU=null,ej(e),t)for(e=0;e<t.length;e++)ej(t[e])}}function e$(e,t){return e(t)}function eH(){}var eG=!1;function eK(e,t,n){if(eG)return e(t,n);eG=!0;try{return e$(e,t,n)}finally{eG=!1,(null!==eU||null!==eV)&&(eH(),eq())}}function eQ(e,t){var n=e.stateNode;if(null===n)return null;var r=rX(n);if(null===r)return null;switch(n=r[t],t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r="button"!==(e=e.type)&&"input"!==e&&"select"!==e&&"textarea"!==e),e=!r;break;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(h(231,t,typeof n));return n}var eW=!1;if(m)try{var eY={};Object.defineProperty(eY,"passive",{get:function(){eW=!0}}),window.addEventListener("test",eY,eY),window.removeEventListener("test",eY,eY)}catch(e){eW=!1}function eX(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var eJ=!1,eZ=null,e0=!1,e1=null,e2={onError:function(e){eJ=!0,eZ=e}};function e3(e,t,n,r,i,s,o,a,l){eJ=!1,eZ=null,eX.apply(e2,arguments)}function e4(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do 0!=(4098&(t=e).flags)&&(n=t.return),e=t.return;while(e)}return 3===t.tag?n:null}function e6(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function e5(e){if(e4(e)!==e)throw Error(h(188))}function e8(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=e4(e)))throw Error(h(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return e5(i),e;if(s===r)return e5(i),t;s=s.sibling}throw Error(h(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(h(189))}}if(n.alternate!==r)throw Error(h(190))}if(3!==n.tag)throw Error(h(188));return n.stateNode.current===n?e:t}(e))?function e(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var n=e(t);if(null!==n)return n;t=t.sibling}return null}(e):null}var e9=c.unstable_scheduleCallback,e7=c.unstable_cancelCallback,te=c.unstable_shouldYield,tt=c.unstable_requestPaint,tn=c.unstable_now,tr=c.unstable_getCurrentPriorityLevel,ti=c.unstable_ImmediatePriority,ts=c.unstable_UserBlockingPriority,to=c.unstable_NormalPriority,ta=c.unstable_LowPriority,tl=c.unstable_IdlePriority,tu=null,tc=null,th=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(tf(e)/td|0)|0},tf=Math.log,td=Math.LN2,tp=64,tg=4194304;function tm(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:return 0x7c00000&e;case 0x8000000:return 0x8000000;case 0x10000000:return 0x10000000;case 0x20000000:return 0x20000000;case 0x40000000:return 0x40000000;default:return e}}function ty(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=0xfffffff&n;if(0!==o){var a=o&~i;0!==a?r=tm(a):0!=(s&=o)&&(r=tm(s))}else 0!=(o=n&~i)?r=tm(o):0!==s&&(r=tm(s));if(0===r)return 0;if(0!==t&&t!==r&&0==(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!=(4194240&s)))return t;if(0!=(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-th(t)),r|=e[n],t&=~i;return r}function tv(e){return 0!=(e=-0x40000001&e.pendingLanes)?e:0x40000000&e?0x40000000:0}function tb(){var e=tp;return 0==(4194240&(tp<<=1))&&(tp=64),e}function tw(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function t_(e,t,n){e.pendingLanes|=t,0x20000000!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-th(t)]=n}function tE(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-th(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var tC=0;function tS(e){return 1<(e&=-e)?4<e?0!=(0xfffffff&e)?16:0x20000000:4:1}var tA,tx,tI,tk,tT,tD=!1,tN=[],tL=null,tR=null,tB=null,tP=new Map,tO=new Map,tM=[],tF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tU(e,t){switch(e){case"focusin":case"focusout":tL=null;break;case"dragenter":case"dragleave":tR=null;break;case"mouseover":case"mouseout":tB=null;break;case"pointerover":case"pointerout":tP.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":tO.delete(t.pointerId)}}function tV(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&null!==(t=rW(t))&&tx(t)):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i)),e}function tj(e){var t=rQ(e.target);if(null!==t){var n=e4(t);if(null!==n){if(13===(t=n.tag)){if(null!==(t=e6(n))){e.blockedOn=t,tT(e.priority,function(){tI(n)});return}}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=3===n.tag?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tz(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=tZ(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=rW(n))&&tx(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);eO=r,n.target.dispatchEvent(r),eO=null,t.shift()}return!0}function tq(e,t,n){tz(e)&&n.delete(t)}function t$(){tD=!1,null!==tL&&tz(tL)&&(tL=null),null!==tR&&tz(tR)&&(tR=null),null!==tB&&tz(tB)&&(tB=null),tP.forEach(tq),tO.forEach(tq)}function tH(e,t){e.blockedOn===t&&(e.blockedOn=null,tD||(tD=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,t$)))}function tG(e){function t(t){return tH(t,e)}if(0<tN.length){tH(tN[0],e);for(var n=1;n<tN.length;n++){var r=tN[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==tL&&tH(tL,e),null!==tR&&tH(tR,e),null!==tB&&tH(tB,e),tP.forEach(t),tO.forEach(t),n=0;n<tM.length;n++)(r=tM[n]).blockedOn===e&&(r.blockedOn=null);for(;0<tM.length&&null===(n=tM[0]).blockedOn;)tj(n),null===n.blockedOn&&tM.shift()}var tK=x.ReactCurrentBatchConfig,tQ=!0;function tW(e,t,n,r){var i=tC,s=tK.transition;tK.transition=null;try{tC=1,tX(e,t,n,r)}finally{tC=i,tK.transition=s}}function tY(e,t,n,r){var i=tC,s=tK.transition;tK.transition=null;try{tC=4,tX(e,t,n,r)}finally{tC=i,tK.transition=s}}function tX(e,t,n,r){if(tQ){var i=tZ(e,t,n,r);if(null===i)rw(e,t,r,tJ,n),tU(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return tL=tV(tL,e,t,n,r,i),!0;case"dragenter":return tR=tV(tR,e,t,n,r,i),!0;case"mouseover":return tB=tV(tB,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return tP.set(s,tV(tP.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,tO.set(s,tV(tO.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(tU(e,r),4&t&&-1<tF.indexOf(e)){for(;null!==i;){var s=rW(i);if(null!==s&&tA(s),null===(s=tZ(e,t,n,r))&&rw(e,t,r,tJ,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else rw(e,t,r,null,n)}}var tJ=null;function tZ(e,t,n,r){if(tJ=null,null!==(e=rQ(e=eM(r))))if(null===(t=e4(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=e6(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return tJ=e,null}function t0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tr()){case ti:return 1;case ts:return 4;case to:case ta:return 16;case tl:return 0x20000000;default:return 16}default:return 16}}var t1=null,t2=null,t3=null;function t4(){if(t3)return t3;var e,t,n=t2,r=n.length,i="value"in t1?t1.value:t1.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return t3=i.slice(e,1<t?1-t:void 0)}function t6(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function t5(){return!0}function t8(){return!1}function t9(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?t5:t8,this.isPropagationStopped=t8,this}return en(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=t5)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=t5)},persist:function(){},isPersistent:t5}),t}var t7,ne,nt,nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nr=t9(nn),ni=en({},nn,{view:0,detail:0}),ns=t9(ni),no=en({},ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ny,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nt&&(nt&&"mousemove"===e.type?(t7=e.screenX-nt.screenX,ne=e.screenY-nt.screenY):ne=t7=0,nt=e),t7)},movementY:function(e){return"movementY"in e?e.movementY:ne}}),na=t9(no),nl=t9(en({},no,{dataTransfer:0})),nu=t9(en({},ni,{relatedTarget:0})),nc=t9(en({},nn,{animationName:0,elapsedTime:0,pseudoElement:0})),nh=t9(en({},nn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),nf=t9(en({},nn,{data:0})),nd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},np={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ng={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=ng[e])&&!!t[e]}function ny(){return nm}var nv=t9(en({},ni,{key:function(e){if(e.key){var t=nd[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=t6(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?np[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ny,charCode:function(e){return"keypress"===e.type?t6(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?t6(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),nb=t9(en({},no,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),nw=t9(en({},ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ny})),n_=t9(en({},nn,{propertyName:0,elapsedTime:0,pseudoElement:0})),nE=t9(en({},no,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),nC=[9,13,27,32],nS=m&&"CompositionEvent"in window,nA=null;m&&"documentMode"in document&&(nA=document.documentMode);var nx=m&&"TextEvent"in window&&!nA,nI=m&&(!nS||nA&&8<nA&&11>=nA),nk=!1;function nT(e,t){switch(e){case"keyup":return -1!==nC.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nD(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var nN=!1,nL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nR(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!nL[e.type]:"textarea"===t}function nB(e,t,n,r){ez(r),0<(t=rE(t,"onChange")).length&&(n=new nr("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var nP=null,nO=null;function nM(e){rp(e,0)}function nF(e){if(eu(rY(e)))return e}function nU(e,t){if("change"===e)return t}var nV=!1;if(m){if(m){var nj="oninput"in document;if(!nj){var nz=document.createElement("div");nz.setAttribute("oninput","return;"),nj="function"==typeof nz.oninput}n=nj}else n=!1;nV=n&&(!document.documentMode||9<document.documentMode)}function nq(){nP&&(nP.detachEvent("onpropertychange",n$),nO=nP=null)}function n$(e){if("value"===e.propertyName&&nF(nO)){var t=[];nB(t,nO,e,eM(e)),eK(nM,t)}}function nH(e,t,n){"focusin"===e?(nq(),nP=t,nO=n,nP.attachEvent("onpropertychange",n$)):"focusout"===e&&nq()}function nG(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return nF(nO)}function nK(e,t){if("click"===e)return nF(t)}function nQ(e,t){if("input"===e||"change"===e)return nF(t)}var nW="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function nY(e,t){if(nW(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!y.call(t,i)||!nW(e[i],t[i]))return!1}return!0}function nX(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nJ(e,t){var n,r=nX(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=nX(r)}}function nZ(){for(var e=window,t=ec();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(n)e=t.contentWindow;else break;t=ec(e.document)}return t}function n0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var n1=m&&"documentMode"in document&&11>=document.documentMode,n2=null,n3=null,n4=null,n6=!1;function n5(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;n6||null==n2||n2!==ec(r)||(r="selectionStart"in(r=n2)&&n0(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},n4&&nY(n4,r)||(n4=r,0<(r=rE(n3,"onSelect")).length&&(t=new nr("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=n2)))}function n8(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var n9={animationend:n8("Animation","AnimationEnd"),animationiteration:n8("Animation","AnimationIteration"),animationstart:n8("Animation","AnimationStart"),transitionend:n8("Transition","TransitionEnd")},n7={},re={};function rt(e){if(n7[e])return n7[e];if(!n9[e])return e;var t,n=n9[e];for(t in n)if(n.hasOwnProperty(t)&&t in re)return n7[e]=n[t];return e}m&&(re=document.createElement("div").style,"AnimationEvent"in window||(delete n9.animationend.animation,delete n9.animationiteration.animation,delete n9.animationstart.animation),"TransitionEvent"in window||delete n9.transitionend.transition);var rn=rt("animationend"),rr=rt("animationiteration"),ri=rt("animationstart"),rs=rt("transitionend"),ro=new Map,ra="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rl(e,t){ro.set(e,t),p(t,[e])}for(var ru=0;ru<ra.length;ru++){var rc=ra[ru];rl(rc.toLowerCase(),"on"+(rc[0].toUpperCase()+rc.slice(1)))}rl(rn,"onAnimationEnd"),rl(rr,"onAnimationIteration"),rl(ri,"onAnimationStart"),rl("dblclick","onDoubleClick"),rl("focusin","onFocus"),rl("focusout","onBlur"),rl(rs,"onTransitionEnd"),g("onMouseEnter",["mouseout","mouseover"]),g("onMouseLeave",["mouseout","mouseover"]),g("onPointerEnter",["pointerout","pointerover"]),g("onPointerLeave",["pointerout","pointerover"]),p("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),p("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),p("onBeforeInput",["compositionend","keypress","textInput","paste"]),p("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rf=new Set("cancel close invalid load scroll toggle".split(" ").concat(rh));function rd(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,o,a,l){if(e3.apply(this,arguments),eJ){if(eJ){var u=eZ;eJ=!1,eZ=null}else throw Error(h(198));e0||(e0=!0,e1=u)}}(r,t,void 0,e),e.currentTarget=null}function rp(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;rd(i,a,u),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;rd(i,a,u),s=l}}}if(e0)throw e=e1,e0=!1,e1=null,e}function rg(e,t){var n=t[rH];void 0===n&&(n=t[rH]=new Set);var r=e+"__bubble";n.has(r)||(rb(t,e,2,!1),n.add(r))}function rm(e,t,n){var r=0;t&&(r|=4),rb(n,e,r,t)}var ry="_reactListening"+Math.random().toString(36).slice(2);function rv(e){if(!e[ry]){e[ry]=!0,f.forEach(function(t){"selectionchange"!==t&&(rf.has(t)||rm(t,!1,e),rm(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[ry]||(t[ry]=!0,rm("selectionchange",!1,t))}}function rb(e,t,n,r){switch(t0(t)){case 1:var i=tW;break;case 4:i=tY;break;default:i=tX}n=i.bind(null,t,n,e),i=void 0,eW&&("touchstart"===t||"touchmove"===t||"wheel"===t)&&(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function rw(e,t,n,r,i){var s=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=rQ(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}eK(function(){var r=s,i=eM(n),o=[];e:{var a=ro.get(e);if(void 0!==a){var l=nr,u=e;switch(e){case"keypress":if(0===t6(n))break e;case"keydown":case"keyup":l=nv;break;case"focusin":u="focus",l=nu;break;case"focusout":u="blur",l=nu;break;case"beforeblur":case"afterblur":l=nu;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=na;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=nl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=nw;break;case rn:case rr:case ri:l=nc;break;case rs:l=n_;break;case"scroll":l=ns;break;case"wheel":l=nE;break;case"copy":case"cut":case"paste":l=nh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=nb}var c=0!=(4&t),h=!c&&"scroll"===e,f=c?null!==a?a+"Capture":null:a;c=[];for(var d,p=r;null!==p;){var g=(d=p).stateNode;if(5===d.tag&&null!==g&&(d=g,null!==f&&null!=(g=eQ(p,f))&&c.push(r_(p,g,d))),h)break;p=p.return}0<c.length&&(a=new l(a,u,null,n,i),o.push({event:a,listeners:c}))}}if(0==(7&t)){if((a="mouseover"===e||"pointerover"===e,l="mouseout"===e||"pointerout"===e,!(a&&n!==eO&&(u=n.relatedTarget||n.fromElement)&&(rQ(u)||u[r$])))&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(u=n.relatedTarget||n.toElement,l=r,null!==(u=u?rQ(u):null)&&(h=e4(u),u!==h||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=na,g="onMouseLeave",f="onMouseEnter",p="mouse",("pointerout"===e||"pointerover"===e)&&(c=nb,g="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==l?a:rY(l),d=null==u?a:rY(u),(a=new c(g,p+"leave",l,n,i)).target=h,a.relatedTarget=d,g=null,rQ(i)===r&&((c=new c(f,p+"enter",u,n,i)).target=d,c.relatedTarget=h,g=c),h=g,l&&u)t:{for(c=l,f=u,p=0,d=c;d;d=rC(d))p++;for(d=0,g=f;g;g=rC(g))d++;for(;0<p-d;)c=rC(c),p--;for(;0<d-p;)f=rC(f),d--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break t;c=rC(c),f=rC(f)}c=null}else c=null;null!==l&&rS(o,a,l,c,!1),null!==u&&null!==h&&rS(o,h,u,c,!0)}e:{if("select"===(l=(a=r?rY(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m,y=nU;else if(nR(a))if(nV)y=nQ;else{y=nG;var v=nH}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(y=nK);if(y&&(y=y(e,r))){nB(o,y,n,i);break e}v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&em(a,"number",a.value)}switch(v=r?rY(r):window,e){case"focusin":(nR(v)||"true"===v.contentEditable)&&(n2=v,n3=r,n4=null);break;case"focusout":n4=n3=n2=null;break;case"mousedown":n6=!0;break;case"contextmenu":case"mouseup":case"dragend":n6=!1,n5(o,n,i);break;case"selectionchange":if(n1)break;case"keydown":case"keyup":n5(o,n,i)}if(nS)t:{switch(e){case"compositionstart":var b="onCompositionStart";break t;case"compositionend":b="onCompositionEnd";break t;case"compositionupdate":b="onCompositionUpdate";break t}b=void 0}else nN?nT(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(nI&&"ko"!==n.locale&&(nN||"onCompositionStart"!==b?"onCompositionEnd"===b&&nN&&(m=t4()):(t2="value"in(t1=i)?t1.value:t1.textContent,nN=!0)),0<(v=rE(r,b)).length&&(b=new nf(b,e,null,n,i),o.push({event:b,listeners:v}),m?b.data=m:null!==(m=nD(n))&&(b.data=m))),(m=nx?function(e,t){switch(e){case"compositionend":return nD(t);case"keypress":if(32!==t.which)return null;return nk=!0," ";case"textInput":return" "===(e=t.data)&&nk?null:e;default:return null}}(e,n):function(e,t){if(nN)return"compositionend"===e||!nS&&nT(e,t)?(e=t4(),t3=t2=t1=null,nN=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nI&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=rE(r,"onBeforeInput")).length&&(i=new nf("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=m)}rp(o,t)})}function r_(e,t,n){return{instance:e,listener:t,currentTarget:n}}function rE(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=eQ(e,n))&&r.unshift(r_(e,s,i)),null!=(s=eQ(e,t))&&r.push(r_(e,s,i))),e=e.return}return r}function rC(e){if(null===e)return null;do e=e.return;while(e&&5!==e.tag)return e||null}function rS(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==u&&(a=u,i?null!=(l=eQ(n,s))&&o.unshift(r_(n,l,a)):i||null!=(l=eQ(n,s))&&o.push(r_(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var rA=/\r\n?/g,rx=/\u0000|\uFFFD/g;function rI(e){return("string"==typeof e?e:""+e).replace(rA,"\n").replace(rx,"")}function rk(e,t,n){if(t=rI(t),rI(e)!==t&&n)throw Error(h(425))}function rT(){}var rD=null,rN=null;function rL(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rR="function"==typeof setTimeout?setTimeout:void 0,rB="function"==typeof clearTimeout?clearTimeout:void 0,rP="function"==typeof Promise?Promise:void 0,rO="function"==typeof queueMicrotask?queueMicrotask:void 0!==rP?function(e){return rP.resolve(null).then(e).catch(rM)}:rR;function rM(e){setTimeout(function(){throw e})}function rF(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r){e.removeChild(i),tG(t);return}r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n)tG(t)}function rU(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function rV(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var rj=Math.random().toString(36).slice(2),rz="__reactFiber$"+rj,rq="__reactProps$"+rj,r$="__reactContainer$"+rj,rH="__reactEvents$"+rj,rG="__reactListeners$"+rj,rK="__reactHandles$"+rj;function rQ(e){var t=e[rz];if(t)return t;for(var n=e.parentNode;n;){if(t=n[r$]||n[rz]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=rV(e);null!==e;){if(n=e[rz])return n;e=rV(e)}return t}n=(e=n).parentNode}return null}function rW(e){return(e=e[rz]||e[r$])&&(5===e.tag||6===e.tag||13===e.tag||3===e.tag)?e:null}function rY(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(h(33))}function rX(e){return e[rq]||null}var rJ=[],rZ=-1;function r0(e){return{current:e}}function r1(e){0>rZ||(e.current=rJ[rZ],rJ[rZ]=null,rZ--)}function r2(e,t){rJ[++rZ]=e.current,e.current=t}var r3={},r4=r0(r3),r6=r0(!1),r5=r3;function r8(e,t){var n=e.type.contextTypes;if(!n)return r3;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function r9(e){return null!=(e=e.childContextTypes)}function r7(){r1(r6),r1(r4)}function ie(e,t,n){if(r4.current!==r3)throw Error(h(168));r2(r4,t),r2(r6,n)}function it(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(h(108,function(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return function e(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case T:return"Fragment";case k:return"Portal";case N:return"Profiler";case D:return"StrictMode";case P:return"Suspense";case O:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case R:return(t.displayName||"Context")+".Consumer";case L:return(t._context.displayName||"Context")+".Provider";case B:var n=t.render;return(t=t.displayName)||(t=""!==(t=n.displayName||n.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case M:return null!==(n=t.displayName||null)?n:e(t.type)||"Memo";case U:n=t._payload,t=t._init;try{return e(t(n))}catch(e){}}return null}(t);case 8:return t===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}(e)||"Unknown",i));return en({},n,r)}function ir(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||r3,r5=r4.current,r2(r4,e),r2(r6,r6.current),!0}function ii(e,t,n){var r=e.stateNode;if(!r)throw Error(h(169));n?(r.__reactInternalMemoizedMergedChildContext=e=it(e,t,r5),r1(r6),r1(r4),r2(r4,e)):r1(r6),r2(r6,n)}var is=null,io=!1,ia=!1;function il(e){null===is?is=[e]:is.push(e)}function iu(){if(!ia&&null!==is){ia=!0;var e=0,t=tC;try{var n=is;for(tC=1;e<n.length;e++){var r=n[e];do r=r(!0);while(null!==r)}is=null,io=!1}catch(t){throw null!==is&&(is=is.slice(e+1)),e9(ti,iu),t}finally{tC=t,ia=!1}}return null}var ic=[],ih=0,id=null,ip=0,ig=[],im=0,iy=null,iv=1,ib="";function iw(e,t){ic[ih++]=ip,ic[ih++]=id,id=e,ip=t}function i_(e,t,n){ig[im++]=iv,ig[im++]=ib,ig[im++]=iy,iy=e;var r=iv;e=ib;var i=32-th(r)-1;r&=~(1<<i),n+=1;var s=32-th(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,iv=1<<32-th(t)+i|n<<i|r,ib=s+e}else iv=1<<s|n<<i|r,ib=e}function iE(e){null!==e.return&&(iw(e,1),i_(e,1,0))}function iC(e){for(;e===id;)id=ic[--ih],ic[ih]=null,ip=ic[--ih],ic[ih]=null;for(;e===iy;)iy=ig[--im],ig[im]=null,ib=ig[--im],ig[im]=null,iv=ig[--im],ig[im]=null}var iS=null,iA=null,ix=!1,iI=null;function ik(e,t){var n=a8(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function iT(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,iS=e,iA=rU(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,iS=e,iA=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(e.memoizedState={dehydrated:t,treeContext:n=null!==iy?{id:iv,overflow:ib}:null,retryLane:0x40000000},(n=a8(18,null,null,0)).stateNode=t,n.return=e,e.child=n,iS=e,iA=null,!0);default:return!1}}function iD(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function iN(e){if(ix){var t=iA;if(t){var n=t;if(!iT(e,t)){if(iD(e))throw Error(h(418));t=rU(n.nextSibling);var r=iS;t&&iT(e,t)?ik(r,n):(e.flags=-4097&e.flags|2,ix=!1,iS=e)}}else{if(iD(e))throw Error(h(418));e.flags=-4097&e.flags|2,ix=!1,iS=e}}}function iL(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;iS=e}function iR(e){if(e!==iS)return!1;if(!ix)return iL(e),ix=!0,!1;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!rL(e.type,e.memoizedProps)),t&&(t=iA)){if(iD(e))throw iB(),Error(h(418));for(;t;)ik(e,t),t=rU(t.nextSibling)}if(iL(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(h(317));e:{for(t=0,e=e.nextSibling;e;){if(8===e.nodeType){var t,n=e.data;if("/$"===n){if(0===t){iA=rU(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}iA=null}}else iA=iS?rU(e.stateNode.nextSibling):null;return!0}function iB(){for(var e=iA;e;)e=rU(e.nextSibling)}function iP(){iA=iS=null,ix=!1}function iO(e){null===iI?iI=[e]:iI.push(e)}var iM=x.ReactCurrentBatchConfig;function iF(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(h(309));var r=n.stateNode}if(!r)throw Error(h(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===s?t.ref:((t=function(e){var t=i.refs;null===e?delete t[s]:t[s]=e})._stringRef=s,t)}if("string"!=typeof e)throw Error(h(284));if(!n._owner)throw Error(h(290,e))}return e}function iU(e,t){throw Error(h(31,"[object Object]"===(e=Object.prototype.toString.call(t))?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function iV(e){return(0,e._init)(e._payload)}function ij(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=a7(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return(t.index=r,e)?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function a(e,t,n,r){return null===t||6!==t.tag?(t=lr(n,e.mode,r)).return=e:(t=i(t,n)).return=e,t}function l(e,t,n,r){var s=n.type;return s===T?c(e,t,n.props.children,r,n.key):(null!==t&&(t.elementType===s||"object"==typeof s&&null!==s&&s.$$typeof===U&&iV(s)===t.type)?(r=i(t,n.props)).ref=iF(e,t,n):(r=le(n.type,n.key,n.props,null,e.mode,r)).ref=iF(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=li(n,e.mode,r)).return=e:(t=i(t,n.children||[])).return=e,t}function c(e,t,n,r,s){return null===t||7!==t.tag?(t=lt(n,e.mode,r,s)).return=e:(t=i(t,n)).return=e,t}function f(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=lr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case I:return(n=le(t.type,t.key,t.props,null,e.mode,n)).ref=iF(e,null,t),n.return=e,n;case k:return(t=li(t,e.mode,n)).return=e,t;case U:return f(e,(0,t._init)(t._payload),n)}if(ey(t)||z(t))return(t=lt(t,e.mode,n,null)).return=e,t;iU(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:a(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case I:return n.key===i?l(e,t,n,r):null;case k:return n.key===i?u(e,t,n,r):null;case U:return d(e,t,(i=n._init)(n._payload),r)}if(ey(n)||z(n))return null!==i?null:c(e,t,n,r,null);iU(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return a(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case I:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case U:return p(e,t,n,(0,r._init)(r._payload),i)}if(ey(r)||z(r))return c(t,e=e.get(n)||null,r,i,null);iU(t,r)}return null}return function a(l,u,c,g){if("object"==typeof c&&null!==c&&c.type===T&&null===c.key&&(c=c.props.children),"object"==typeof c&&null!==c){switch(c.$$typeof){case I:e:{for(var m=c.key,y=u;null!==y;){if(y.key===m){if((m=c.type)===T){if(7===y.tag){n(l,y.sibling),(u=i(y,c.props.children)).return=l,l=u;break e}}else if(y.elementType===m||"object"==typeof m&&null!==m&&m.$$typeof===U&&iV(m)===y.type){n(l,y.sibling),(u=i(y,c.props)).ref=iF(l,y,c),u.return=l,l=u;break e}n(l,y);break}t(l,y),y=y.sibling}c.type===T?((u=lt(c.props.children,l.mode,g,c.key)).return=l,l=u):((g=le(c.type,c.key,c.props,null,l.mode,g)).ref=iF(l,u,c),g.return=l,l=g)}return o(l);case k:e:{for(y=c.key;null!==u;){if(u.key===y)if(4===u.tag&&u.stateNode.containerInfo===c.containerInfo&&u.stateNode.implementation===c.implementation){n(l,u.sibling),(u=i(u,c.children||[])).return=l,l=u;break e}else{n(l,u);break}t(l,u),u=u.sibling}(u=li(c,l.mode,g)).return=l,l=u}return o(l);case U:return a(l,u,(y=c._init)(c._payload),g)}if(ey(c))return function(i,o,a,l){for(var u=null,c=null,h=o,g=o=0,m=null;null!==h&&g<a.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var y=d(i,h,a[g],l);if(null===y){null===h&&(h=m);break}e&&h&&null===y.alternate&&t(i,h),o=s(y,o,g),null===c?u=y:c.sibling=y,c=y,h=m}if(g===a.length)return n(i,h),ix&&iw(i,g),u;if(null===h){for(;g<a.length;g++)null!==(h=f(i,a[g],l))&&(o=s(h,o,g),null===c?u=h:c.sibling=h,c=h);return ix&&iw(i,g),u}for(h=r(i,h);g<a.length;g++)null!==(m=p(h,i,g,a[g],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?g:m.key),o=s(m,o,g),null===c?u=m:c.sibling=m,c=m);return e&&h.forEach(function(e){return t(i,e)}),ix&&iw(i,g),u}(l,u,c,g);if(z(c))return function(i,o,a,l){var u=z(a);if("function"!=typeof u)throw Error(h(150));if(null==(a=u.call(a)))throw Error(h(151));for(var c=u=null,g=o,m=o=0,y=null,v=a.next();null!==g&&!v.done;m++,v=a.next()){g.index>m?(y=g,g=null):y=g.sibling;var b=d(i,g,v.value,l);if(null===b){null===g&&(g=y);break}e&&g&&null===b.alternate&&t(i,g),o=s(b,o,m),null===c?u=b:c.sibling=b,c=b,g=y}if(v.done)return n(i,g),ix&&iw(i,m),u;if(null===g){for(;!v.done;m++,v=a.next())null!==(v=f(i,v.value,l))&&(o=s(v,o,m),null===c?u=v:c.sibling=v,c=v);return ix&&iw(i,m),u}for(g=r(i,g);!v.done;m++,v=a.next())null!==(v=p(g,i,m,v.value,l))&&(e&&null!==v.alternate&&g.delete(null===v.key?m:v.key),o=s(v,o,m),null===c?u=v:c.sibling=v,c=v);return e&&g.forEach(function(e){return t(i,e)}),ix&&iw(i,m),u}(l,u,c,g);iU(l,c)}return"string"==typeof c&&""!==c||"number"==typeof c?(c=""+c,null!==u&&6===u.tag?(n(l,u.sibling),(u=i(u,c)).return=l):(n(l,u),(u=lr(c,l.mode,g)).return=l),o(l=u)):n(l,u)}}var iz=ij(!0),iq=ij(!1),i$=r0(null),iH=null,iG=null,iK=null;function iQ(){iK=iG=iH=null}function iW(e){var t=i$.current;r1(i$),e._currentValue=t}function iY(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function iX(e,t){iH=e,iK=iG=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(ow=!0),e.firstContext=null)}function iJ(e){var t=e._currentValue;if(iK!==e)if(e={context:e,memoizedValue:t,next:null},null===iG){if(null===iH)throw Error(h(308));iG=e,iH.dependencies={lanes:0,firstContext:e}}else iG=iG.next=e;return t}var iZ=null;function i0(e){null===iZ?iZ=[e]:iZ.push(e)}function i1(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,i0(t)):(n.next=i.next,i.next=n),t.interleaved=n,i2(e,r)}function i2(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var i3=!1;function i4(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function i6(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function i5(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function i8(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!=(2&aa)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,i2(e,n)}return null===(i=r.interleaved)?(t.next=t,i0(r)):(t.next=i.next,i.next=t),r.interleaved=t,i2(e,n)}function i9(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&n))){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,tE(e,n)}}function i7(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n)null===s?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function se(e,t,n,r){var i=e.updateQueue;i3=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,u=l.next;l.next=null,null===o?s=u:o.next=u,o=l;var c=e.alternate;null!==c&&(a=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l)}if(null!==s){var h=i.baseState;for(o=0,c=u=l=null,a=s;;){var f=a.lane,d=a.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(f=t,d=n,g.tag){case 1:if("function"==typeof(p=g.payload)){h=p.call(d,h,f);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(f="function"==typeof(p=g.payload)?p.call(d,h,f):p))break e;h=en({},h,f);break e;case 2:i3=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[a]:f.push(a))}else d={eventTime:d,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=d,l=h):c=c.next=d,o|=f;if(null===(a=a.next))if(null===(a=i.shared.pending))break;else a=(f=a).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}if(null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do o|=i.lane,i=i.next;while(i!==t)}else null===s&&(i.shared.lanes=0);ag|=o,e.lanes=o,e.memoizedState=h}}function st(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(h(191,i));i.call(r)}}}var sn={},sr=r0(sn),si=r0(sn),ss=r0(sn);function so(e){if(e===sn)throw Error(h(174));return e}function sa(e,t){switch(r2(ss,t),r2(si,e),r2(sr,sn),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:eS(null,"");break;default:t=eS(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}r1(sr),r2(sr,t)}function sl(){r1(sr),r1(si),r1(ss)}function su(e){so(ss.current);var t=so(sr.current),n=eS(t,e.type);t!==n&&(r2(si,e),r2(sr,n))}function sc(e){si.current===e&&(r1(sr),r1(si))}var sh=r0(0);function sf(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var sd=[];function sp(){for(var e=0;e<sd.length;e++)sd[e]._workInProgressVersionPrimary=null;sd.length=0}var sg=x.ReactCurrentDispatcher,sm=x.ReactCurrentBatchConfig,sy=0,sv=null,sb=null,sw=null,s_=!1,sE=!1,sC=0,sS=0;function sA(){throw Error(h(321))}function sx(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!nW(e[n],t[n]))return!1;return!0}function sI(e,t,n,r,i,s){if(sy=s,sv=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,sg.current=null===e||null===e.memoizedState?oe:ot,e=n(r,i),sE){s=0;do{if(sE=!1,sC=0,25<=s)throw Error(h(301));s+=1,sw=sb=null,t.updateQueue=null,sg.current=on,e=n(r,i)}while(sE)}if(sg.current=s7,t=null!==sb&&null!==sb.next,sy=0,sw=sb=sv=null,s_=!1,t)throw Error(h(300));return e}function sk(){var e=0!==sC;return sC=0,e}function sT(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===sw?sv.memoizedState=sw=e:sw=sw.next=e,sw}function sD(){if(null===sb){var e=sv.alternate;e=null!==e?e.memoizedState:null}else e=sb.next;var t=null===sw?sv.memoizedState:sw.next;if(null!==t)sw=t,sb=e;else{if(null===e)throw Error(h(310));e={memoizedState:(sb=e).memoizedState,baseState:sb.baseState,baseQueue:sb.baseQueue,queue:sb.queue,next:null},null===sw?sv.memoizedState=sw=e:sw=sw.next=e}return sw}function sN(e,t){return"function"==typeof t?t(e):t}function sL(e){var t=sD(),n=t.queue;if(null===n)throw Error(h(311));n.lastRenderedReducer=e;var r=sb,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((sy&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(a=l=f,o=r):l=l.next=f,sv.lanes|=c,ag|=c}u=u.next}while(null!==u&&u!==s)null===l?o=r:l.next=a,nW(r,t.memoizedState)||(ow=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do s=i.lane,sv.lanes|=s,ag|=s,i=i.next;while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function sR(e){var t=sD(),n=t.queue;if(null===n)throw Error(h(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i)nW(s,t.memoizedState)||(ow=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function sB(){}function sP(e,t){var n=sv,r=sD(),i=t(),s=!nW(r.memoizedState,i);if(s&&(r.memoizedState=i,ow=!0),r=r.queue,sK(sF.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==sw&&1&sw.memoizedState.tag){if(n.flags|=2048,sz(9,sM.bind(null,n,r,i,t),void 0,null),null===al)throw Error(h(349));0!=(30&sy)||sO(n,t,i)}return i}function sO(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sv.updateQueue)?(t={lastEffect:null,stores:null},sv.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function sM(e,t,n,r){t.value=n,t.getSnapshot=r,sU(t)&&sV(e)}function sF(e,t,n){return n(function(){sU(t)&&sV(e)})}function sU(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!nW(e,n)}catch(e){return!0}}function sV(e){var t=i2(e,1);null!==t&&aP(t,e,1,-1)}function sj(e){var t=sT();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,t.queue=e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sN,lastRenderedState:e},e=e.dispatch=s6.bind(null,sv,e),[t.memoizedState,e]}function sz(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=sv.updateQueue)?(t={lastEffect:null,stores:null},sv.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function sq(){return sD().memoizedState}function s$(e,t,n,r){var i=sT();sv.flags|=e,i.memoizedState=sz(1|t,n,void 0,void 0===r?null:r)}function sH(e,t,n,r){var i=sD();r=void 0===r?null:r;var s=void 0;if(null!==sb){var o=sb.memoizedState;if(s=o.destroy,null!==r&&sx(r,o.deps)){i.memoizedState=sz(t,n,s,r);return}}sv.flags|=e,i.memoizedState=sz(1|t,n,s,r)}function sG(e,t){return s$(8390656,8,e,t)}function sK(e,t){return sH(2048,8,e,t)}function sQ(e,t){return sH(4,2,e,t)}function sW(e,t){return sH(4,4,e,t)}function sY(e,t){return"function"==typeof t?(t(e=e()),function(){t(null)}):null!=t?(t.current=e=e(),function(){t.current=null}):void 0}function sX(e,t,n){return n=null!=n?n.concat([e]):null,sH(4,4,sY.bind(null,t,e),n)}function sJ(){}function sZ(e,t){var n=sD();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&sx(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function s0(e,t){var n=sD();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&sx(t,r[1])?r[0]:(n.memoizedState=[e=e(),t],e)}function s1(e,t,n){return 0==(21&sy)?(e.baseState&&(e.baseState=!1,ow=!0),e.memoizedState=n):(nW(n,t)||(n=tb(),sv.lanes|=n,ag|=n,e.baseState=!0),t)}function s2(e,t){var n=tC;tC=0!==n&&4>n?n:4,e(!0);var r=sm.transition;sm.transition={};try{e(!1),t()}finally{tC=n,sm.transition=r}}function s3(){return sD().memoizedState}function s4(e,t,n){var r=aB(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},s5(e)?s8(t,n):null!==(n=i1(e,t,n,r))&&(aP(n,e,r,aR()),s9(n,t,r))}function s6(e,t,n){var r=aB(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(s5(e))s8(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,nW(a,o)){var l=t.interleaved;null===l?(i.next=i,i0(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch(e){}finally{}null!==(n=i1(e,t,i,r))&&(aP(n,e,r,i=aR()),s9(n,t,r))}}function s5(e){var t=e.alternate;return e===sv||null!==t&&t===sv}function s8(e,t){sE=s_=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function s9(e,t,n){if(0!=(4194240&n)){var r=t.lanes;r&=e.pendingLanes,t.lanes=n|=r,tE(e,n)}}var s7={readContext:iJ,useCallback:sA,useContext:sA,useEffect:sA,useImperativeHandle:sA,useInsertionEffect:sA,useLayoutEffect:sA,useMemo:sA,useReducer:sA,useRef:sA,useState:sA,useDebugValue:sA,useDeferredValue:sA,useTransition:sA,useMutableSource:sA,useSyncExternalStore:sA,useId:sA,unstable_isNewReconciler:!1},oe={readContext:iJ,useCallback:function(e,t){return sT().memoizedState=[e,void 0===t?null:t],e},useContext:iJ,useEffect:sG,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,s$(4194308,4,sY.bind(null,t,e),n)},useLayoutEffect:function(e,t){return s$(4194308,4,e,t)},useInsertionEffect:function(e,t){return s$(4,2,e,t)},useMemo:function(e,t){return t=void 0===t?null:t,sT().memoizedState=[e=e(),t],e},useReducer:function(e,t,n){var r=sT();return r.memoizedState=r.baseState=t=void 0!==n?n(t):t,r.queue=e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=s4.bind(null,sv,e),[r.memoizedState,e]},useRef:function(e){return sT().memoizedState=e={current:e}},useState:sj,useDebugValue:sJ,useDeferredValue:function(e){return sT().memoizedState=e},useTransition:function(){var e=sj(!1),t=e[0];return e=s2.bind(null,e[1]),sT().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sv,i=sT();if(ix){if(void 0===n)throw Error(h(407));n=n()}else{if(n=t(),null===al)throw Error(h(349));0!=(30&sy)||sO(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,sG(sF.bind(null,r,s,e),[e]),r.flags|=2048,sz(9,sM.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=sT(),t=al.identifierPrefix;if(ix){var n=ib,r=iv;t=":"+t+"R"+(n=(r&~(1<<32-th(r)-1)).toString(32)+n),0<(n=sC++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=sS++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ot={readContext:iJ,useCallback:sZ,useContext:iJ,useEffect:sK,useImperativeHandle:sX,useInsertionEffect:sQ,useLayoutEffect:sW,useMemo:s0,useReducer:sL,useRef:sq,useState:function(){return sL(sN)},useDebugValue:sJ,useDeferredValue:function(e){return s1(sD(),sb.memoizedState,e)},useTransition:function(){return[sL(sN)[0],sD().memoizedState]},useMutableSource:sB,useSyncExternalStore:sP,useId:s3,unstable_isNewReconciler:!1},on={readContext:iJ,useCallback:sZ,useContext:iJ,useEffect:sK,useImperativeHandle:sX,useInsertionEffect:sQ,useLayoutEffect:sW,useMemo:s0,useReducer:sR,useRef:sq,useState:function(){return sR(sN)},useDebugValue:sJ,useDeferredValue:function(e){var t=sD();return null===sb?t.memoizedState=e:s1(t,sb.memoizedState,e)},useTransition:function(){return[sR(sN)[0],sD().memoizedState]},useMutableSource:sB,useSyncExternalStore:sP,useId:s3,unstable_isNewReconciler:!1};function or(e,t){if(e&&e.defaultProps)for(var n in t=en({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}function oi(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:en({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var os={isMounted:function(e){return!!(e=e._reactInternals)&&e4(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=aR(),i=aB(e),s=i5(r,i);s.payload=t,null!=n&&(s.callback=n),null!==(t=i8(e,s,i))&&(aP(t,e,i,r),i9(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=aR(),i=aB(e),s=i5(r,i);s.tag=1,s.payload=t,null!=n&&(s.callback=n),null!==(t=i8(e,s,i))&&(aP(t,e,i,r),i9(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=aR(),r=aB(e),i=i5(n,r);i.tag=2,null!=t&&(i.callback=t),null!==(t=i8(e,i,r))&&(aP(t,e,r,n),i9(t,e,r))}};function oo(e,t,n,r,i,s,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||!nY(n,r)||!nY(i,s)}function oa(e,t,n){var r=!1,i=r3,s=t.contextType;return"object"==typeof s&&null!==s?s=iJ(s):(i=r9(t)?r5:r4.current,s=(r=null!=(r=t.contextTypes))?r8(e,i):r3),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=os,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ol(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&os.enqueueReplaceState(t,t.state,null)}function ou(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},i4(e);var s=t.contextType;"object"==typeof s&&null!==s?i.context=iJ(s):i.context=r8(e,s=r9(t)?r5:r4.current),i.state=e.memoizedState,"function"==typeof(s=t.getDerivedStateFromProps)&&(oi(e,t,s,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&os.enqueueReplaceState(i,i.state,null),se(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function oc(e,t){try{var n="",r=t;do n+=function(e){switch(e.tag){case 5:return er(e.type);case 16:return er("Lazy");case 13:return er("Suspense");case 19:return er("SuspenseList");case 0:case 2:case 15:return e=es(e.type,!1);case 11:return e=es(e.type.render,!1);case 1:return e=es(e.type,!0);default:return""}}(r),r=r.return;while(r)var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i,digest:null}}function oh(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function of(e,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var od="function"==typeof WeakMap?WeakMap:Map;function op(e,t,n){(n=i5(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){aC||(aC=!0,aS=r),of(e,t)},n}function og(e,t,n){(n=i5(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){of(e,t)}}var s=e.stateNode;return null!==s&&"function"==typeof s.componentDidCatch&&(n.callback=function(){of(e,t),"function"!=typeof r&&(null===aA?aA=new Set([this]):aA.add(this));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}function om(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new od;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=a2.bind(null,e,t,n),t.then(e,e))}function oy(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e)return null}function ov(e,t,n,r,i){return 0==(1&e.mode)?e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=i5(-1,1)).tag=2,i8(n,t,1))),n.lanes|=1):(e.flags|=65536,e.lanes=i),e}var ob=x.ReactCurrentOwner,ow=!1;function o_(e,t,n,r){t.child=null===e?iq(t,null,n,r):iz(t,e.child,n,r)}function oE(e,t,n,r,i){n=n.render;var s=t.ref;return(iX(t,i),r=sI(e,t,n,r,s,i),n=sk(),null===e||ow)?(ix&&n&&iE(t),t.flags|=1,o_(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,oj(e,t,i))}function oC(e,t,n,r,i){if(null===e){var s=n.type;return"function"!=typeof s||a9(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=le(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,oS(e,t,s,r,i))}if(s=e.child,0==(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:nY)(o,r)&&e.ref===t.ref)return oj(e,t,i)}return t.flags|=1,(e=a7(s,r)).ref=t.ref,e.return=t,t.child=e}function oS(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(nY(s,r)&&e.ref===t.ref)if(ow=!1,t.pendingProps=r=s,0==(e.lanes&i))return t.lanes=e.lanes,oj(e,t,i);else 0!=(131072&e.flags)&&(ow=!0)}return oI(e,t,n,r,i)}function oA(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r2(af,ah),ah|=n;else{if(0==(0x40000000&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=0x40000000,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,r2(af,ah),ah|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,r2(af,ah),ah|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,r2(af,ah),ah|=r;return o_(e,t,i,n),t.child}function ox(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function oI(e,t,n,r,i){var s=r9(n)?r5:r4.current;return(s=r8(t,s),iX(t,i),n=sI(e,t,n,r,s,i),r=sk(),null===e||ow)?(ix&&r&&iE(t),t.flags|=1,o_(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,oj(e,t,i))}function ok(e,t,n,r,i){if(r9(n)){var s=!0;ir(t)}else s=!1;if(iX(t,i),null===t.stateNode)oV(e,t),oa(t,n,r),ou(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;u="object"==typeof u&&null!==u?iJ(u):r8(t,u=r9(n)?r5:r4.current);var c=n.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof o.getSnapshotBeforeUpdate;h||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==r||l!==u)&&ol(t,o,r,u),i3=!1;var f=t.memoizedState;o.state=f,se(t,r,o,i),l=t.memoizedState,a!==r||f!==l||r6.current||i3?("function"==typeof c&&(oi(t,n,c,r),l=t.memoizedState),(a=i3||oo(t,n,a,r,f,l,u))?(h||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4194308)):("function"==typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):("function"==typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,i6(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:or(t.type,a),o.props=u,h=t.pendingProps,f=o.context,l="object"==typeof(l=n.contextType)&&null!==l?iJ(l):r8(t,l=r9(n)?r5:r4.current);var d=n.getDerivedStateFromProps;(c="function"==typeof d||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==h||f!==l)&&ol(t,o,r,l),i3=!1,f=t.memoizedState,o.state=f,se(t,r,o,i);var p=t.memoizedState;a!==h||f!==p||r6.current||i3?("function"==typeof d&&(oi(t,n,d,r),p=t.memoizedState),(u=i3||oo(t,n,u,r,f,p,l)||!1)?(c||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof o.componentDidUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!=typeof o.componentDidUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return oT(e,t,n,r,s,i)}function oT(e,t,n,r,i,s){ox(e,t);var o=0!=(128&t.flags);if(!r&&!o)return i&&ii(t,n,!1),oj(e,t,s);r=t.stateNode,ob.current=t;var a=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=iz(t,e.child,null,s),t.child=iz(t,null,a,s)):o_(e,t,a,s),t.memoizedState=r.state,i&&ii(t,n,!0),t.child}function oD(e){var t=e.stateNode;t.pendingContext?ie(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ie(e,t.context,!1),sa(e,t.containerInfo)}function oN(e,t,n,r,i){return iP(),iO(i),t.flags|=256,o_(e,t,n,r),t.child}var oL={dehydrated:null,treeContext:null,retryLane:0};function oR(e){return{baseLanes:e,cachePool:null,transitions:null}}function oB(e,t,n){var r,i=t.pendingProps,s=sh.current,o=!1,a=0!=(128&t.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&0!=(2&s)),r?(o=!0,t.flags&=-129):(null===e||null!==e.memoizedState)&&(s|=1),r2(sh,1&s),null===e)return(iN(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated))?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=0x40000000,null):(a=i.children,e=i.fallback,o?(i=t.mode,o=t.child,a={mode:"hidden",children:a},0==(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=a):o=ln(a,i,0,null),e=lt(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=oR(n),t.memoizedState=oL,e):oP(t,a));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated)){var l=e,u=t,c=a,f=i,d=r,p=s,g=n;if(c)return 256&u.flags?(u.flags&=-257,oO(l,u,g,f=oh(Error(h(422))))):null!==u.memoizedState?(u.child=l.child,u.flags|=128,null):(p=f.fallback,d=u.mode,f=ln({mode:"visible",children:f.children},d,0,null),p=lt(p,d,g,null),p.flags|=2,f.return=u,p.return=u,f.sibling=p,u.child=f,0!=(1&u.mode)&&iz(u,l.child,null,g),u.child.memoizedState=oR(g),u.memoizedState=oL,p);if(0==(1&u.mode))return oO(l,u,g,null);if("$!"===d.data){if(f=d.nextSibling&&d.nextSibling.dataset)var m=f.dgst;return f=m,oO(l,u,g,f=oh(p=Error(h(419)),f,void 0))}if(m=0!=(g&l.childLanes),ow||m){if(null!==(f=al)){switch(g&-g){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:d=32;break;case 0x20000000:d=0x10000000;break;default:d=0}0!==(d=0!=(d&(f.suspendedLanes|g))?0:d)&&d!==p.retryLane&&(p.retryLane=d,i2(l,d),aP(f,l,d,-1))}return aQ(),oO(l,u,g,f=oh(Error(h(421))))}return"$?"===d.data?(u.flags|=128,u.child=l.child,u=a4.bind(null,l),d._reactRetry=u,null):(l=p.treeContext,iA=rU(d.nextSibling),iS=u,ix=!0,iI=null,null!==l&&(ig[im++]=iv,ig[im++]=ib,ig[im++]=iy,iv=l.id,ib=l.overflow,iy=u),u=oP(u,f.children),u.flags|=4096,u)}if(o){o=i.fallback,a=t.mode,r=(s=e.child).sibling;var y={mode:"hidden",children:i.children};return 0==(1&a)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=y,t.deletions=null):(i=a7(s,y)).subtreeFlags=0xe00000&s.subtreeFlags,null!==r?o=a7(r,o):(o=lt(o,a,n,null),o.flags|=2),o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,a=null===(a=e.child.memoizedState)?oR(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=oL,i}return e=(o=e.child).sibling,i=a7(o,{mode:"visible",children:i.children}),0==(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function oP(e,t){return(t=ln({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function oO(e,t,n,r){return null!==r&&iO(r),iz(t,e.child,null,n),e=oP(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function oM(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),iY(e.return,t,n)}function oF(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function oU(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(o_(e,t,r.children,n),0!=(2&(r=sh.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&oM(e,n,t);else if(19===e.tag)oM(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(r2(sh,r),0==(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(i=null,n=t.child;null!==n;)null!==(e=n.alternate)&&null===sf(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),oF(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===sf(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}oF(t,!0,n,null,s);break;case"together":oF(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function oV(e,t){0==(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function oj(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),ag|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(h(153));if(null!==t.child){for(n=a7(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=a7(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function oz(e,t){if(!ix)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function oq(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=0xe00000&i.subtreeFlags,r|=0xe00000&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}i=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},s=function(){},o=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,so(sr.current);var s,o=null;switch(n){case"input":i=eh(e,i),r=eh(e,r),o=[];break;case"select":i=en({},i,{value:void 0}),r=en({},r,{value:void 0}),o=[];break;case"textarea":i=eb(e,i),r=eb(e,r),o=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=rT)}for(u in eB(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(d.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(null!=l||null!=a))if("style"===u)if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,a=a?a.__html:void 0,null!=l&&a!==l&&(o=o||[]).push(u,l)):"children"===u?"string"!=typeof l&&"number"!=typeof l||(o=o||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(d.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&rg("scroll",e),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},a=function(e,t,n,r){n!==r&&(t.flags|=4)};var o$=!1,oH=!1,oG="function"==typeof WeakSet?WeakSet:Set,oK=null;function oQ(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){a1(e,t,n)}else n.current=null}function oW(e,t,n){try{n()}catch(n){a1(e,t,n)}}var oY=!1;function oX(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&oW(t,n,s)}i=i.next}while(i!==r)}}function oJ(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function oZ(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function o0(e){return 5===e.tag||3===e.tag||4===e.tag}function o1(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||o0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags||null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}var o2=null,o3=!1;function o4(e,t,n){for(n=n.child;null!==n;)o6(e,t,n),n=n.sibling}function o6(e,t,n){if(tc&&"function"==typeof tc.onCommitFiberUnmount)try{tc.onCommitFiberUnmount(tu,n)}catch(e){}switch(n.tag){case 5:oH||oQ(n,t);case 6:var r=o2,i=o3;o2=null,o4(e,t,n),o2=r,o3=i,null!==o2&&(o3?(e=o2,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):o2.removeChild(n.stateNode));break;case 18:null!==o2&&(o3?(e=o2,n=n.stateNode,8===e.nodeType?rF(e.parentNode,n):1===e.nodeType&&rF(e,n),tG(e)):rF(o2,n.stateNode));break;case 4:r=o2,i=o3,o2=n.stateNode.containerInfo,o3=!0,o4(e,t,n),o2=r,o3=i;break;case 0:case 11:case 14:case 15:if(!oH&&null!==(r=n.updateQueue)&&null!==(r=r.lastEffect)){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!=(2&s)?oW(n,t,o):0!=(4&s)&&oW(n,t,o)),i=i.next}while(i!==r)}o4(e,t,n);break;case 1:if(!oH&&(oQ(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){a1(n,t,e)}o4(e,t,n);break;case 21:default:o4(e,t,n);break;case 22:1&n.mode?(oH=(r=oH)||null!==n.memoizedState,o4(e,t,n),oH=r):o4(e,t,n)}}function o5(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new oG),t.forEach(function(t){var r=a6.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function o8(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=s;e:for(;null!==o;){switch(o.tag){case 5:o2=o.stateNode,o3=!1;break e;case 3:case 4:o2=o.stateNode.containerInfo,o3=!0;break e}o=o.return}if(null===o2)throw Error(h(160));o6(e,s,i),o2=null,o3=!1;var a=i.alternate;null!==a&&(a.return=null),i.return=null}catch(e){a1(i,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)o9(t,e),t=t.sibling}function o9(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(o8(t,e),o7(e),4&r){try{oX(3,e,e.return),oJ(3,e)}catch(t){a1(e,e.return,t)}try{oX(5,e,e.return)}catch(t){a1(e,e.return,t)}}break;case 1:o8(t,e),o7(e),512&r&&null!==n&&oQ(n,n.return);break;case 5:if(o8(t,e),o7(e),512&r&&null!==n&&oQ(n,n.return),32&e.flags){var i=e.stateNode;try{ek(i,"")}catch(t){a1(e,e.return,t)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,o=null!==n?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===a&&"radio"===s.type&&null!=s.name&&ed(i,s),eP(a,o);var u=eP(a,s);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];"style"===c?eL(i,f):"dangerouslySetInnerHTML"===c?eI(i,f):"children"===c?ek(i,f):A(i,c,f,u)}switch(a){case"input":ep(i,s);break;case"textarea":e_(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ev(i,!!s.multiple,p,!1):!!s.multiple!==d&&(null!=s.defaultValue?ev(i,!!s.multiple,s.defaultValue,!0):ev(i,!!s.multiple,s.multiple?[]:"",!1))}i[rq]=s}catch(t){a1(e,e.return,t)}}break;case 6:if(o8(t,e),o7(e),4&r){if(null===e.stateNode)throw Error(h(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(t){a1(e,e.return,t)}}break;case 3:if(o8(t,e),o7(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{tG(t.containerInfo)}catch(t){a1(e,e.return,t)}break;case 4:default:o8(t,e),o7(e);break;case 13:o8(t,e),o7(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,s&&(null===i.alternate||null===i.alternate.memoizedState)&&(aw=tn())),4&r&&o5(e);break;case 22:if(c=null!==n&&null!==n.memoizedState,1&e.mode?(oH=(u=oH)||c,o8(t,e),oH=u):o8(t,e),o7(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!c&&0!=(1&e.mode))for(oK=e,c=e.child;null!==c;){for(f=oK=c;null!==oK;){switch(p=(d=oK).child,d.tag){case 0:case 11:case 14:case 15:oX(4,d,d.return);break;case 1:oQ(d,d.return);var g=d.stateNode;if("function"==typeof g.componentWillUnmount){r=d,n=d.return;try{g.props=(t=r).memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(e){a1(r,n,e)}}break;case 5:oQ(d,d.return);break;case 22:if(null!==d.memoizedState){at(f);continue}}null!==p?(p.return=d,oK=p):at(f)}c=c.sibling}e:for(c=null,f=e;;){if(5===f.tag){if(null===c){c=f;try{i=f.stateNode,u?(s=i.style,"function"==typeof s.setProperty?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,o=null!=(l=f.memoizedProps.style)&&l.hasOwnProperty("display")?l.display:null,a.style.display=eN("display",o))}catch(t){a1(e,e.return,t)}}}else if(6===f.tag){if(null===c)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(t){a1(e,e.return,t)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:o8(t,e),o7(e),4&r&&o5(e);case 21:}}function o7(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(o0(n)){var r=n;break e}n=n.return}throw Error(h(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(ek(i,""),r.flags&=-33);var s=o1(e);!function e(t,n,r){var i=t.tag;if(5===i||6===i)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=o1(e);!function e(t,n,r){var i=t.tag;if(5===i||6===i)t=t.stateNode,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!=(r=r._reactRootContainer)||null!==n.onclick||(n.onclick=rT));else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,a,o);break;default:throw Error(h(161))}}catch(t){a1(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ae(e){for(;null!==oK;){var t=oK;if(0!=(8772&t.flags)){var n=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:oH||oJ(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!oH)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:or(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&st(t,s,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}st(t,o,n)}break;case 5:var a=t.stateNode;if(null===n&&4&t.flags){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var c=u.memoizedState;if(null!==c){var f=c.dehydrated;null!==f&&tG(f)}}}break;default:throw Error(h(163))}oH||512&t.flags&&oZ(t)}catch(e){a1(t,t.return,e)}}if(t===e){oK=null;break}if(null!==(n=t.sibling)){n.return=t.return,oK=n;break}oK=t.return}}function at(e){for(;null!==oK;){var t=oK;if(t===e){oK=null;break}var n=t.sibling;if(null!==n){n.return=t.return,oK=n;break}oK=t.return}}function an(e){for(;null!==oK;){var t=oK;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{oJ(4,t)}catch(e){a1(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(e){a1(t,i,e)}}var s=t.return;try{oZ(t)}catch(e){a1(t,s,e)}break;case 5:var o=t.return;try{oZ(t)}catch(e){a1(t,o,e)}}}catch(e){a1(t,t.return,e)}if(t===e){oK=null;break}var a=t.sibling;if(null!==a){a.return=t.return,oK=a;break}oK=t.return}}var ar=Math.ceil,ai=x.ReactCurrentDispatcher,as=x.ReactCurrentOwner,ao=x.ReactCurrentBatchConfig,aa=0,al=null,au=null,ac=0,ah=0,af=r0(0),ad=0,ap=null,ag=0,am=0,ay=0,av=null,ab=null,aw=0,a_=1/0,aE=null,aC=!1,aS=null,aA=null,ax=!1,aI=null,ak=0,aT=0,aD=null,aN=-1,aL=0;function aR(){return 0!=(6&aa)?tn():-1!==aN?aN:aN=tn()}function aB(e){return 0==(1&e.mode)?1:0!=(2&aa)&&0!==ac?ac&-ac:null!==iM.transition?(0===aL&&(aL=tb()),aL):0!==(e=tC)?e:e=void 0===(e=window.event)?16:t0(e.type)}function aP(e,t,n,r){if(50<aT)throw aT=0,aD=null,Error(h(185));t_(e,n,r),(0==(2&aa)||e!==al)&&(e===al&&(0==(2&aa)&&(am|=n),4===ad&&aV(e,ac)),aO(e,r),1===n&&0===aa&&0==(1&t.mode)&&(a_=tn()+500,io&&iu()))}function aO(e,t){var n,r=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-th(s),a=1<<o,l=i[o];-1===l?(0==(a&n)||0!=(a&r))&&(i[o]=function(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return -1}}(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var i=ty(e,e===al?ac:0);if(0===i)null!==r&&e7(r),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(null!=r&&e7(r),1===t)0===e.tag?(n=aj.bind(null,e),io=!0,il(n)):il(aj.bind(null,e)),rO(function(){0==(6&aa)&&iu()}),r=null;else{switch(tS(i)){case 1:r=ti;break;case 4:r=ts;break;case 16:default:r=to;break;case 0x20000000:r=tl}r=e9(r,aM.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function aM(e,t){if(aN=-1,aL=0,0!=(6&aa))throw Error(h(327));var n=e.callbackNode;if(aZ()&&e.callbackNode!==n)return null;var r=ty(e,e===al?ac:0);if(0===r)return null;if(0!=(30&r)||0!=(r&e.expiredLanes)||t)t=aW(e,r);else{t=r;var i=aa;aa|=2;var s=aK();for((al!==e||ac!==t)&&(aE=null,a_=tn()+500,aH(e,t));;)try{for(;null!==au&&!te();)aY(au);break}catch(t){aG(e,t)}iQ(),ai.current=s,aa=i,null!==au?t=0:(al=null,ac=0,t=ad)}if(0!==t){if(2===t&&0!==(i=tv(e))&&(r=i,t=aF(e,i)),1===t)throw n=ap,aH(e,0),aV(e,r),aO(e,tn()),n;if(6===t)aV(e,r);else{if(i=e.current.alternate,0==(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!nW(s(),i))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=aW(e,r))&&0!==(s=tv(e))&&(r=s,t=aF(e,s)),1===t))throw n=ap,aH(e,0),aV(e,r),aO(e,tn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(h(345));case 2:case 5:aJ(e,ab,aE);break;case 3:if(aV(e,r),(0x7c00000&r)===r&&10<(t=aw+500-tn())){if(0!==ty(e,0))break;if(((i=e.suspendedLanes)&r)!==r){aR(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=rR(aJ.bind(null,e,ab,aE),t);break}aJ(e,ab,aE);break;case 4:if(aV(e,r),(4194240&r)===r)break;for(i=-1,t=e.eventTimes;0<r;){var o=31-th(r);s=1<<o,(o=t[o])>i&&(i=o),r&=~s}if(r=i,10<(r=(120>(r=tn()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ar(r/1960))-r)){e.timeoutHandle=rR(aJ.bind(null,e,ab,aE),r);break}aJ(e,ab,aE);break;default:throw Error(h(329))}}}return aO(e,tn()),e.callbackNode===n?aM.bind(null,e):null}function aF(e,t){var n=av;return e.current.memoizedState.isDehydrated&&(aH(e,t).flags|=256),2!==(e=aW(e,t))&&(t=ab,ab=n,null!==t&&aU(t)),e}function aU(e){null===ab?ab=e:ab.push.apply(ab,e)}function aV(e,t){for(t&=~ay,t&=~am,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-th(t),r=1<<n;e[n]=-1,t&=~r}}function aj(e){if(0!=(6&aa))throw Error(h(327));aZ();var t=ty(e,0);if(0==(1&t))return aO(e,tn()),null;var n=aW(e,t);if(0!==e.tag&&2===n){var r=tv(e);0!==r&&(t=r,n=aF(e,r))}if(1===n)throw n=ap,aH(e,0),aV(e,t),aO(e,tn()),n;if(6===n)throw Error(h(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,aJ(e,ab,aE),aO(e,tn()),null}function az(e,t){var n=aa;aa|=1;try{return e(t)}finally{0===(aa=n)&&(a_=tn()+500,io&&iu())}}function aq(e){null!==aI&&0===aI.tag&&0==(6&aa)&&aZ();var t=aa;aa|=1;var n=ao.transition,r=tC;try{if(ao.transition=null,tC=1,e)return e()}finally{tC=r,ao.transition=n,0==(6&(aa=t))&&iu()}}function a$(){ah=af.current,r1(af)}function aH(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rB(n)),null!==au)for(n=au.return;null!==n;){var r=n;switch(iC(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&r7();break;case 3:sl(),r1(r6),r1(r4),sp();break;case 5:sc(r);break;case 4:sl();break;case 13:case 19:r1(sh);break;case 10:iW(r.type._context);break;case 22:case 23:a$()}n=n.return}if(al=e,au=e=a7(e.current,null),ac=ah=t,ad=0,ap=null,ay=am=ag=0,ab=av=null,null!==iZ){for(t=0;t<iZ.length;t++)if(null!==(r=(n=iZ[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}iZ=null}return e}function aG(e,t){for(;;){var n=au;try{if(iQ(),sg.current=s7,s_){for(var r=sv.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}s_=!1}if(sy=0,sw=sb=sv=null,sE=!1,sC=0,as.current=null,null===n||null===n.return){ad=1,ap=t,au=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=ac,a.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=l,c=a,f=c.tag;if(0==(1&c.mode)&&(0===f||11===f||15===f)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=oy(o);if(null!==p){p.flags&=-257,ov(p,o,a,s,t),1&p.mode&&om(s,u,t),t=p,l=u;var g=t.updateQueue;if(null===g){var m=new Set;m.add(l),t.updateQueue=m}else g.add(l);break e}if(0==(1&t)){om(s,u,t),aQ();break e}l=Error(h(426))}else if(ix&&1&a.mode){var y=oy(o);if(null!==y){0==(65536&y.flags)&&(y.flags|=256),ov(y,o,a,s,t),iO(oc(l,a));break e}}s=l=oc(l,a),4!==ad&&(ad=2),null===av?av=[s]:av.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var v=op(s,l,t);i7(s,v);break e;case 1:a=l;var b=s.type,w=s.stateNode;if(0==(128&s.flags)&&("function"==typeof b.getDerivedStateFromError||null!==w&&"function"==typeof w.componentDidCatch&&(null===aA||!aA.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t;var _=og(s,a,t);i7(s,_);break e}}s=s.return}while(null!==s)}aX(n)}catch(e){t=e,au===n&&null!==n&&(au=n=n.return);continue}break}}function aK(){var e=ai.current;return ai.current=s7,null===e?s7:e}function aQ(){(0===ad||3===ad||2===ad)&&(ad=4),null===al||0==(0xfffffff&ag)&&0==(0xfffffff&am)||aV(al,ac)}function aW(e,t){var n=aa;aa|=2;var r=aK();for((al!==e||ac!==t)&&(aE=null,aH(e,t));;)try{for(;null!==au;)aY(au);break}catch(t){aG(e,t)}if(iQ(),aa=n,ai.current=r,null!==au)throw Error(h(261));return al=null,ac=0,ad}function aY(e){var t=l(e.alternate,e,ah);e.memoizedProps=e.pendingProps,null===t?aX(e):au=t,as.current=null}function aX(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(n=function(e,t,n){var r=t.pendingProps;switch(iC(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oq(t),null;case 1:case 17:return r9(t.type)&&r7(),oq(t),null;case 3:return r=t.stateNode,sl(),r1(r6),r1(r4),sp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(null===e||null===e.child)&&(iR(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==iI&&(aU(iI),iI=null))),s(e,t),oq(t),null;case 5:sc(t);var l=so(ss.current);if(n=t.type,null!==e&&null!=t.stateNode)o(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(h(166));return oq(t),null}if(e=so(sr.current),iR(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[rz]=t,r[rq]=u,e=0!=(1&t.mode),n){case"dialog":rg("cancel",r),rg("close",r);break;case"iframe":case"object":case"embed":rg("load",r);break;case"video":case"audio":for(l=0;l<rh.length;l++)rg(rh[l],r);break;case"source":rg("error",r);break;case"img":case"image":case"link":rg("error",r),rg("load",r);break;case"details":rg("toggle",r);break;case"input":ef(r,u),rg("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},rg("invalid",r);break;case"textarea":ew(r,u),rg("invalid",r)}for(var c in eB(n,u),l=null,u)if(u.hasOwnProperty(c)){var f=u[c];"children"===c?"string"==typeof f?r.textContent!==f&&(!0!==u.suppressHydrationWarning&&rk(r.textContent,f,e),l=["children",f]):"number"==typeof f&&r.textContent!==""+f&&(!0!==u.suppressHydrationWarning&&rk(r.textContent,f,e),l=["children",""+f]):d.hasOwnProperty(c)&&null!=f&&"onScroll"===c&&rg("scroll",r)}switch(n){case"input":el(r),eg(r,u,!0);break;case"textarea":el(r),eE(r);break;case"select":case"option":break;default:"function"==typeof u.onClick&&(r.onclick=rT)}r=l,t.updateQueue=r,null!==r&&(t.flags|=4)}else{c=9===l.nodeType?l:l.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=eC(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[rz]=t,e[rq]=r,i(e,t,!1,!1),t.stateNode=e;e:{switch(c=eP(n,r),n){case"dialog":rg("cancel",e),rg("close",e),l=r;break;case"iframe":case"object":case"embed":rg("load",e),l=r;break;case"video":case"audio":for(l=0;l<rh.length;l++)rg(rh[l],e);l=r;break;case"source":rg("error",e),l=r;break;case"img":case"image":case"link":rg("error",e),rg("load",e),l=r;break;case"details":rg("toggle",e),l=r;break;case"input":ef(e,r),l=eh(e,r),rg("invalid",e);break;case"option":default:l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=en({},r,{value:void 0}),rg("invalid",e);break;case"textarea":ew(e,r),l=eb(e,r),rg("invalid",e)}for(u in eB(n,l),f=l)if(f.hasOwnProperty(u)){var p=f[u];"style"===u?eL(e,p):"dangerouslySetInnerHTML"===u?null!=(p=p?p.__html:void 0)&&eI(e,p):"children"===u?"string"==typeof p?("textarea"!==n||""!==p)&&ek(e,p):"number"==typeof p&&ek(e,""+p):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(d.hasOwnProperty(u)?null!=p&&"onScroll"===u&&rg("scroll",e):null!=p&&A(e,u,p,c))}switch(n){case"input":el(e),eg(e,r,!1);break;case"textarea":el(e),eE(e);break;case"option":null!=r.value&&e.setAttribute("value",""+eo(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?ev(e,!!r.multiple,u,!1):null!=r.defaultValue&&ev(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof l.onClick&&(e.onclick=rT)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return oq(t),null;case 6:if(e&&null!=t.stateNode)a(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(h(166));if(n=so(ss.current),so(sr.current),iR(t)){if(r=t.stateNode,n=t.memoizedProps,r[rz]=t,(u=r.nodeValue!==n)&&null!==(e=iS))switch(e.tag){case 3:rk(r.nodeValue,n,0!=(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&rk(r.nodeValue,n,0!=(1&e.mode))}u&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[rz]=t,t.stateNode=r}return oq(t),null;case 13:if(r1(sh),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ix&&null!==iA&&0!=(1&t.mode)&&0==(128&t.flags))iB(),iP(),t.flags|=98560,u=!1;else if(u=iR(t),null!==r&&null!==r.dehydrated){if(null===e){if(!u)throw Error(h(318));if(!(u=null!==(u=t.memoizedState)?u.dehydrated:null))throw Error(h(317));u[rz]=t}else iP(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;oq(t),u=!1}else null!==iI&&(aU(iI),iI=null),u=!0;if(!u)return 65536&t.flags?t:null}if(0!=(128&t.flags))return t.lanes=n,t;return(r=null!==r)!=(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&sh.current)?0===ad&&(ad=3):aQ())),null!==t.updateQueue&&(t.flags|=4),oq(t),null;case 4:return sl(),s(e,t),null===e&&rv(t.stateNode.containerInfo),oq(t),null;case 10:return iW(t.type._context),oq(t),null;case 19:if(r1(sh),null===(u=t.memoizedState))return oq(t),null;if(r=0!=(128&t.flags),null===(c=u.rendering))if(r)oz(u,!1);else{if(0!==ad||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=sf(e))){for(t.flags|=128,oz(u,!1),null!==(r=c.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)u=n,e=r,u.flags&=0xe00002,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return r2(sh,1&sh.current|2),t.child}e=e.sibling}null!==u.tail&&tn()>a_&&(t.flags|=128,r=!0,oz(u,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=sf(c))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),oz(u,!0),null===u.tail&&"hidden"===u.tailMode&&!c.alternate&&!ix)return oq(t),null}else 2*tn()-u.renderingStartTime>a_&&0x40000000!==n&&(t.flags|=128,r=!0,oz(u,!1),t.lanes=4194304);u.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=u.last)?n.sibling=c:t.child=c,u.last=c)}if(null!==u.tail)return t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=tn(),t.sibling=null,n=sh.current,r2(sh,r?1&n|2:1&n),t;return oq(t),null;case 22:case 23:return a$(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!=(1&t.mode)?0!=(0x40000000&ah)&&(oq(t),6&t.subtreeFlags&&(t.flags|=8192)):oq(t),null;case 24:case 25:return null}throw Error(h(156,t.tag))}(n,t,ah))){au=n;return}}else{if(null!==(n=function(e,t){switch(iC(t),t.tag){case 1:return r9(t.type)&&r7(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return sl(),r1(r6),r1(r4),sp(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sc(t),null;case 13:if(r1(sh),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(h(340));iP()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return r1(sh),null;case 4:return sl(),null;case 10:return iW(t.type._context),null;case 22:case 23:return a$(),null;default:return null}}(n,t))){n.flags&=32767,au=n;return}if(null!==e)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ad=6,au=null;return}}if(null!==(t=t.sibling)){au=t;return}au=t=e}while(null!==t)0===ad&&(ad=5)}function aJ(e,t,n){var r=tC,i=ao.transition;try{ao.transition=null,tC=1,function(e,t,n,r){do aZ();while(null!==aI)if(0!=(6&aa))throw Error(h(327));n=e.finishedWork;var i=e.finishedLanes;if(null!==n){if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(h(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes,o=e,a=s,l=o.pendingLanes&~a;o.pendingLanes=a,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=a,o.mutableReadLanes&=a,o.entangledLanes&=a,a=o.entanglements;var u=o.eventTimes;for(o=o.expirationTimes;0<l;){var c=31-th(l),f=1<<c;a[c]=0,u[c]=-1,o[c]=-1,l&=~f}if(e===al&&(au=al=null,ac=0),0==(2064&n.subtreeFlags)&&0==(2064&n.flags)||ax||(ax=!0,function(e,t){e9(e,t)}(to,function(){return aZ(),null})),s=0!=(15990&n.flags),0!=(15990&n.subtreeFlags)||s){s=ao.transition,ao.transition=null;var d,p,g,m=tC;tC=1;var y=aa;aa|=4,as.current=null,function(e,t){if(rD=tQ,n0(e=nZ())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i,s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(e){n=null;break e}var a=0,l=-1,u=-1,c=0,f=0,d=e,p=null;t:for(;;){for(;d!==n||0!==s&&3!==d.nodeType||(l=a+s),d!==o||0!==r&&3!==d.nodeType||(u=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(i=d.firstChild);)p=d,d=i;for(;;){if(d===e)break t;if(p===n&&++c===s&&(l=a),p===o&&++f===r&&(u=a),null!==(i=d.nextSibling))break;p=(d=p).parentNode}d=i}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(rN={focusedElem:e,selectionRange:n},tQ=!1,oK=t;null!==oK;)if(e=(t=oK).child,0!=(1028&t.subtreeFlags)&&null!==e)e.return=t,oK=e;else for(;null!==oK;){t=oK;try{var g=t.alternate;if(0!=(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,y=g.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:or(t.type,m),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(h(163))}}catch(e){a1(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,oK=e;break}oK=t.return}g=oY,oY=!1}(e,n),o9(n,e),function(e){var t=nZ(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&function e(t,n){return!!t&&!!n&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(n.ownerDocument.documentElement,n)){if(null!==r&&n0(n)){if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=nJ(n,s);var o=nJ(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}(rN),tQ=!!rD,rN=rD=null,e.current=n,d=n,p=e,g=i,oK=d,function e(t,n,r){for(var i=0!=(1&t.mode);null!==oK;){var s=oK,o=s.child;if(22===s.tag&&i){var a=null!==s.memoizedState||o$;if(!a){var l=s.alternate,u=null!==l&&null!==l.memoizedState||oH;l=o$;var c=oH;if(o$=a,(oH=u)&&!c)for(oK=s;null!==oK;)u=(a=oK).child,22===a.tag&&null!==a.memoizedState?an(s):null!==u?(u.return=a,oK=u):an(s);for(;null!==o;)oK=o,e(o,n,r),o=o.sibling;oK=s,o$=l,oH=c}ae(t,n,r)}else 0!=(8772&s.subtreeFlags)&&null!==o?(o.return=s,oK=o):ae(t,n,r)}}(d,p,g),tt(),aa=y,tC=m,ao.transition=s}else e.current=n;ax&&(ax=!1,aI=e,ak=i),0===(s=e.pendingLanes)&&(aA=null);var v=n.stateNode;if(tc&&"function"==typeof tc.onCommitFiberRoot)try{tc.onCommitFiberRoot(tu,v,void 0,128==(128&v.current.flags))}catch(e){}if(aO(e,tn()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(aC)throw aC=!1,e=aS,aS=null,e;0!=(1&ak)&&0!==e.tag&&aZ(),0!=(1&(s=e.pendingLanes))?e===aD?aT++:(aT=0,aD=e):aT=0,iu()}}(e,t,n,r)}finally{ao.transition=i,tC=r}return null}function aZ(){if(null!==aI){var e=tS(ak),t=ao.transition,n=tC;try{if(ao.transition=null,tC=16>e?16:e,null===aI)var r=!1;else{if(e=aI,aI=null,ak=0,0!=(6&aa))throw Error(h(331));var i=aa;for(aa|=4,oK=e.current;null!==oK;){var s=oK,o=s.child;if(0!=(16&oK.flags)){var a=s.deletions;if(null!==a){for(var l=0;l<a.length;l++){var u=a[l];for(oK=u;null!==oK;){var c=oK;switch(c.tag){case 0:case 11:case 15:oX(8,c,s)}var f=c.child;if(null!==f)f.return=c,oK=f;else for(;null!==oK;){var d=(c=oK).sibling,p=c.return;if(!function e(t){var n=t.alternate;null!==n&&(t.alternate=null,e(n)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&null!==(n=t.stateNode)&&(delete n[rz],delete n[rq],delete n[rH],delete n[rG],delete n[rK]),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}(c),c===u){oK=null;break}if(null!==d){d.return=p,oK=d;break}oK=p}}}var g=s.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}oK=s}}if(0!=(2064&s.subtreeFlags)&&null!==o)o.return=s,oK=o;else for(;null!==oK;){if(s=oK,0!=(2048&s.flags))switch(s.tag){case 0:case 11:case 15:oX(9,s,s.return)}var v=s.sibling;if(null!==v){v.return=s.return,oK=v;break}oK=s.return}}var b=e.current;for(oK=b;null!==oK;){var w=(o=oK).child;if(0!=(2064&o.subtreeFlags)&&null!==w)w.return=o,oK=w;else for(o=b;null!==oK;){if(a=oK,0!=(2048&a.flags))try{switch(a.tag){case 0:case 11:case 15:oJ(9,a)}}catch(e){a1(a,a.return,e)}if(a===o){oK=null;break}var _=a.sibling;if(null!==_){_.return=a.return,oK=_;break}oK=a.return}}if(aa=i,iu(),tc&&"function"==typeof tc.onPostCommitFiberRoot)try{tc.onPostCommitFiberRoot(tu,e)}catch(e){}r=!0}return r}finally{tC=n,ao.transition=t}}return!1}function a0(e,t,n){t=op(e,t=oc(n,t),1),e=i8(e,t,1),t=aR(),null!==e&&(t_(e,1,t),aO(e,t))}function a1(e,t,n){if(3===e.tag)a0(e,e,n);else for(;null!==t;){if(3===t.tag){a0(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===aA||!aA.has(r))){e=og(t,e=oc(n,e),1),t=i8(t,e,1),e=aR(),null!==t&&(t_(t,1,e),aO(t,e));break}}t=t.return}}function a2(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=aR(),e.pingedLanes|=e.suspendedLanes&n,al===e&&(ac&n)===n&&(4===ad||3===ad&&(0x7c00000&ac)===ac&&500>tn()-aw?aH(e,0):ay|=n),aO(e,t)}function a3(e,t){0===t&&(0==(1&e.mode)?t=1:(t=tg,0==(0x7c00000&(tg<<=1))&&(tg=4194304)));var n=aR();null!==(e=i2(e,t))&&(t_(e,t,n),aO(e,n))}function a4(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),a3(e,n)}function a6(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(h(314))}null!==r&&r.delete(t),a3(e,n)}function a5(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function a8(e,t,n,r){return new a5(e,t,n,r)}function a9(e){return!(!(e=e.prototype)||!e.isReactComponent)}function a7(e,t){var n=e.alternate;return null===n?((n=a8(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=0xe00000&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function le(e,t,n,r,i,s){var o=2;if(r=e,"function"==typeof e)a9(e)&&(o=1);else if("string"==typeof e)o=5;else e:switch(e){case T:return lt(n.children,i,s,t);case D:o=8,i|=8;break;case N:return(e=a8(12,n,t,2|i)).elementType=N,e.lanes=s,e;case P:return(e=a8(13,n,t,i)).elementType=P,e.lanes=s,e;case O:return(e=a8(19,n,t,i)).elementType=O,e.lanes=s,e;case V:return ln(n,i,s,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case L:o=10;break e;case R:o=9;break e;case B:o=11;break e;case M:o=14;break e;case U:o=16,r=null;break e}throw Error(h(130,null==e?e:typeof e,""))}return(t=a8(o,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function lt(e,t,n,r){return(e=a8(7,e,r,t)).lanes=n,e}function ln(e,t,n,r){return(e=a8(22,e,r,t)).elementType=V,e.lanes=n,e.stateNode={isHidden:!1},e}function lr(e,t,n){return(e=a8(6,e,null,t)).lanes=n,e}function li(e,t,n){return(t=a8(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ls(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tw(0),this.expirationTimes=tw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tw(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function lo(e,t,n,r,i,s,o,a,l){return e=new ls(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=a8(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},i4(s),e}function la(e){if(!e)return r3;e=e._reactInternals;e:{if(e4(e)!==e||1!==e.tag)throw Error(h(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(r9(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t)throw Error(h(171))}if(1===e.tag){var n=e.type;if(r9(n))return it(e,n,t)}return t}function ll(e,t,n,r,i,s,o,a,l){return(e=lo(n,r,!0,e,i,s,o,a,l)).context=la(null),n=e.current,(s=i5(r=aR(),i=aB(n))).callback=null!=t?t:null,i8(n,s,i),e.current.lanes=i,t_(e,i,r),aO(e,r),e}function lu(e,t,n,r){var i=t.current,s=aR(),o=aB(i);return n=la(n),null===t.context?t.context=n:t.pendingContext=n,(t=i5(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=i8(i,t,o))&&(aP(e,i,o,s),i9(e,i,o)),o}function lc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function lh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function lf(e,t){lh(e,t),(e=e.alternate)&&lh(e,t)}l=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||r6.current)ow=!0;else{if(0==(e.lanes&n)&&0==(128&t.flags))return ow=!1,function(e,t,n){switch(t.tag){case 3:oD(t),iP();break;case 5:su(t);break;case 1:r9(t.type)&&ir(t);break;case 4:sa(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;r2(i$,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState)){if(null!==r.dehydrated)return r2(sh,1&sh.current),t.flags|=128,null;if(0!=(n&t.child.childLanes))return oB(e,t,n);return r2(sh,1&sh.current),null!==(e=oj(e,t,n))?e.sibling:null}r2(sh,1&sh.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(128&e.flags)){if(r)return oU(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),r2(sh,sh.current),!r)return null;break;case 22:case 23:return t.lanes=0,oA(e,t,n)}return oj(e,t,n)}(e,t,n);ow=0!=(131072&e.flags)}else ow=!1,ix&&0!=(1048576&t.flags)&&i_(t,ip,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;oV(e,t),e=t.pendingProps;var i=r8(t,r4.current);iX(t,n),i=sI(null,t,r,e,i,n);var s=sk();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,r9(r)?(s=!0,ir(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i4(t),i.updater=os,t.stateNode=i,i._reactInternals=t,ou(t,r,e,n),t=oT(null,t,r,!0,s,n)):(t.tag=0,ix&&s&&iE(t),o_(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(oV(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return+!!a9(e);if(null!=e){if((e=e.$$typeof)===B)return 11;if(e===M)return 14}return 2}(r),e=or(r,e),i){case 0:t=oI(null,t,r,e,n);break e;case 1:t=ok(null,t,r,e,n);break e;case 11:t=oE(null,t,r,e,n);break e;case 14:t=oC(null,t,r,or(r.type,e),n);break e}throw Error(h(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:or(r,i),oI(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:or(r,i),ok(e,t,r,i,n);case 3:e:{if(oD(t),null===e)throw Error(h(387));r=t.pendingProps,i=(s=t.memoizedState).element,i6(e,t),se(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){i=oc(Error(h(423)),t),t=oN(e,t,r,n,i);break e}else if(r!==i){i=oc(Error(h(424)),t),t=oN(e,t,r,n,i);break e}else for(iA=rU(t.stateNode.containerInfo.firstChild),iS=t,ix=!0,iI=null,n=iq(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling;else{if(iP(),r===i){t=oj(e,t,n);break e}o_(e,t,r,n)}t=t.child}return t;case 5:return su(t),null===e&&iN(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,o=i.children,rL(r,i)?o=null:null!==s&&rL(r,s)&&(t.flags|=32),ox(e,t),o_(e,t,o,n),t.child;case 6:return null===e&&iN(t),null;case 13:return oB(e,t,n);case 4:return sa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=iz(t,null,r,n):o_(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:or(r,i),oE(e,t,r,i,n);case 7:return o_(e,t,t.pendingProps,n),t.child;case 8:case 12:return o_(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,r2(i$,r._currentValue),r._currentValue=o,null!==s)if(nW(s.value,o)){if(s.children===i.children&&!r6.current){t=oj(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var a=s.dependencies;if(null!==a){o=s.child;for(var l=a.firstContext;null!==l;){if(l.context===r){if(1===s.tag){(l=i5(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var c=(u=u.shared).pending;null===c?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),iY(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(10===s.tag)o=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(o=s.return))throw Error(h(341));o.lanes|=n,null!==(a=o.alternate)&&(a.lanes|=n),iY(o,n,t),o=s.sibling}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}o_(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,iX(t,n),r=r(i=iJ(i)),t.flags|=1,o_(e,t,r,n),t.child;case 14:return i=or(r=t.type,t.pendingProps),i=or(r.type,i),oC(e,t,r,i,n);case 15:return oS(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:or(r,i),oV(e,t),t.tag=1,r9(r)?(e=!0,ir(t)):e=!1,iX(t,n),oa(t,r,i),ou(t,r,i,n),oT(null,t,r,!0,e,n);case 19:return oU(e,t,n);case 22:return oA(e,t,n)}throw Error(h(156,t.tag))};var ld="function"==typeof reportError?reportError:function(e){console.error(e)};function lp(e){this._internalRoot=e}function lg(e){this._internalRoot=e}function lm(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function ly(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function lv(){}function lb(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"==typeof i){var a=i;i=function(){var e=lc(o);a.call(e)}}lu(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"==typeof r){var s=r;r=function(){var e=lc(o);s.call(e)}}var o=ll(t,r,e,0,null,!1,!1,"",lv);return e._reactRootContainer=o,e[r$]=o.current,rv(8===e.nodeType?e.parentNode:e),aq(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var a=r;r=function(){var e=lc(l);a.call(e)}}var l=lo(e,0,!1,null,null,!1,!1,"",lv);return e._reactRootContainer=l,e[r$]=l.current,rv(8===e.nodeType?e.parentNode:e),aq(function(){lu(t,l,n,r)}),l}(n,t,e,i,r);return lc(o)}lg.prototype.render=lp.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(h(409));lu(e,t,null,null)},lg.prototype.unmount=lp.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;aq(function(){lu(null,e,null,null)}),t[r$]=null}},lg.prototype.unstable_scheduleHydration=function(e){if(e){var t=tk();e={blockedOn:null,target:e,priority:t};for(var n=0;n<tM.length&&0!==t&&t<tM[n].priority;n++);tM.splice(n,0,e),0===n&&tj(e)}},tA=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=tm(t.pendingLanes);0!==n&&(tE(t,1|n),aO(t,tn()),0==(6&aa)&&(a_=tn()+500,iu()))}break;case 13:aq(function(){var t=i2(e,1);null!==t&&aP(t,e,1,aR())}),lf(e,1)}},tx=function(e){if(13===e.tag){var t=i2(e,0x8000000);null!==t&&aP(t,e,0x8000000,aR()),lf(e,0x8000000)}},tI=function(e){if(13===e.tag){var t=aB(e),n=i2(e,t);null!==n&&aP(n,e,t,aR()),lf(e,t)}},tk=function(){return tC},tT=function(e,t){var n=tC;try{return tC=e,t()}finally{tC=n}},eF=function(e,t,n){switch(t){case"input":if(ep(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=rX(r);if(!i)throw Error(h(90));eu(r),ep(r,i)}}}break;case"textarea":e_(e,n);break;case"select":null!=(t=n.value)&&ev(e,!!n.multiple,t,!1)}},e$=az,eH=aq;var lw={findFiberByHostInstance:rQ,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},l_={bundleType:lw.bundleType,version:lw.version,rendererPackageName:lw.rendererPackageName,rendererConfig:lw.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=e8(e))?null:e.stateNode},findFiberByHostInstance:lw.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lE=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lE.isDisabled&&lE.supportsFiber)try{tu=lE.inject(l_),tc=lE}catch(e){}}q={usingClientEntryPoint:!1,Events:[rW,rY,rX,ez,eq,az]},$=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!lm(t))throw Error(h(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},H=function(e,t){if(!lm(e))throw Error(h(299));var n=!1,r="",i=ld;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=lo(e,1,!1,null,null,n,!1,r,i),e[r$]=t.current,rv(8===e.nodeType?e.parentNode:e),new lp(t)},G=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(h(188));throw Error(h(268,e=Object.keys(e).join(",")))}return e=null===(e=e8(t))?null:e.stateNode},K=function(e){return aq(e)},Q=function(e,t,n){if(!ly(t))throw Error(h(200));return lb(null,e,t,!0,n)},W=function(e,t,n){if(!lm(e))throw Error(h(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",o=ld;if(null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=ll(t,null,e,1,null!=n?n:null,i,!1,s,o),e[r$]=t.current,rv(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new lg(t)},Y=function(e,t,n){if(!ly(t))throw Error(h(200));return lb(null,e,t,!1,n)},X=function(e){if(!ly(e))throw Error(h(40));return!!e._reactRootContainer&&(aq(function(){lb(null,null,e,!1,function(){e._reactRootContainer=null,e[r$]=null})}),!0)},J=az,Z=function(e,t,n,r){if(!ly(n))throw Error(h(200));if(null==e||void 0===e._reactInternals)throw Error(h(38));return lb(e,t,n,!1,r)},ee="18.3.1-next-f1338f8080-20240426"}),U("jztx6",function(e,t){e.exports=F("4ovD4")}),U("4ovD4",function(e,t){function n(e,t){var n=e.length;for(e.push(t);0<n;){var r=n-1>>>1,i=e[r];if(0<o(i,t))e[r]=t,e[n]=i,n=r;else break}}function i(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],u=a+1,c=e[u];if(0>o(l,n))u<i&&0>o(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[a]=n,r=a);else if(u<i&&0>o(c,n))e[r]=c,e[u]=n,r=u;else break}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(r(e.exports,"unstable_now",()=>a,e=>a=e),r(e.exports,"unstable_IdlePriority",()=>l,e=>l=e),r(e.exports,"unstable_ImmediatePriority",()=>u,e=>u=e),r(e.exports,"unstable_LowPriority",()=>c,e=>c=e),r(e.exports,"unstable_NormalPriority",()=>h,e=>h=e),r(e.exports,"unstable_Profiling",()=>f,e=>f=e),r(e.exports,"unstable_UserBlockingPriority",()=>d,e=>d=e),r(e.exports,"unstable_cancelCallback",()=>p,e=>p=e),r(e.exports,"unstable_continueExecution",()=>g,e=>g=e),r(e.exports,"unstable_forceFrameRate",()=>m,e=>m=e),r(e.exports,"unstable_getCurrentPriorityLevel",()=>y,e=>y=e),r(e.exports,"unstable_getFirstCallbackNode",()=>v,e=>v=e),r(e.exports,"unstable_next",()=>b,e=>b=e),r(e.exports,"unstable_pauseExecution",()=>w,e=>w=e),r(e.exports,"unstable_requestPaint",()=>_,e=>_=e),r(e.exports,"unstable_runWithPriority",()=>E,e=>E=e),r(e.exports,"unstable_scheduleCallback",()=>C,e=>C=e),r(e.exports,"unstable_shouldYield",()=>S,e=>S=e),r(e.exports,"unstable_wrapCallback",()=>A,e=>A=e),"object"==typeof performance&&"function"==typeof performance.now){var a,l,u,c,h,f,d,p,g,m,y,v,b,w,_,E,C,S,A,x,I=performance;a=function(){return I.now()}}else{var k=Date,T=k.now();a=function(){return k.now()-T}}var D=[],N=[],L=1,R=null,B=3,P=!1,O=!1,M=!1,F="function"==typeof setTimeout?setTimeout:null,U="function"==typeof clearTimeout?clearTimeout:null,V="undefined"!=typeof setImmediate?setImmediate:null;function j(e){for(var t=i(N);null!==t;){if(null===t.callback)s(N);else if(t.startTime<=e)s(N),t.sortIndex=t.expirationTime,n(D,t);else break;t=i(N)}}function z(e){if(M=!1,j(e),!O)if(null!==i(D))O=!0,Z(q);else{var t=i(N);null!==t&&ee(z,t.startTime-e)}}function q(e,t){O=!1,M&&(M=!1,U(G),G=-1),P=!0;var n=B;try{for(j(t),R=i(D);null!==R&&(!(R.expirationTime>t)||e&&!W());){var r=R.callback;if("function"==typeof r){R.callback=null,B=R.priorityLevel;var o=r(R.expirationTime<=t);t=a(),"function"==typeof o?R.callback=o:R===i(D)&&s(D),j(t)}else s(D);R=i(D)}if(null!==R)var l=!0;else{var u=i(N);null!==u&&ee(z,u.startTime-t),l=!1}return l}finally{R=null,B=n,P=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var $=!1,H=null,G=-1,K=5,Q=-1;function W(){return!(a()-Q<K)}function Y(){if(null!==H){var e=a();Q=e;var t=!0;try{t=H(!0,e)}finally{t?x():($=!1,H=null)}}else $=!1}if("function"==typeof V)x=function(){V(Y)};else if("undefined"!=typeof MessageChannel){var X=new MessageChannel,J=X.port2;X.port1.onmessage=Y,x=function(){J.postMessage(null)}}else x=function(){F(Y,0)};function Z(e){H=e,$||($=!0,x())}function ee(e,t){G=F(function(){e(a())},t)}l=5,u=1,c=4,h=3,f=null,d=2,p=function(e){e.callback=null},g=function(){O||P||(O=!0,Z(q))},m=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<e?Math.floor(1e3/e):5},y=function(){return B},v=function(){return i(D)},b=function(e){switch(B){case 1:case 2:case 3:var t=3;break;default:t=B}var n=B;B=t;try{return e()}finally{B=n}},w=function(){},_=function(){},E=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=B;B=e;try{return t()}finally{B=n}},C=function(e,t,r){var s=a();switch(r="object"==typeof r&&null!==r&&"number"==typeof(r=r.delay)&&0<r?s+r:s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=0x3fffffff;break;case 4:o=1e4;break;default:o=5e3}return o=r+o,e={id:L++,callback:t,priorityLevel:e,startTime:r,expirationTime:o,sortIndex:-1},r>s?(e.sortIndex=r,n(N,e),null===i(D)&&e===i(N)&&(M?(U(G),G=-1):M=!0,ee(z,r-s))):(e.sortIndex=o,n(D,e),O||P||(O=!0,Z(q))),e},S=W,A=function(e){var t=B;return function(){var n=B;B=t;try{return e.apply(this,arguments)}finally{B=n}}}}),U("jOES1",function(e,t){e.exports=JSON.parse('{"L21":{"title":"人工智慧技術應用與規劃","sections":{"L211":{"title":"AI 相關技術應用","sub_sections":{"L21101":{"title":"自然語言處理技術與應用","questions":[{"question_text":"下列何者最能描述自然語言處理（NLP）的核心目標？","options":{"A":"讓電腦能夠看懂並分析圖像內容","B":"讓電腦能夠理解、解釋並生成人類語言","C":"讓電腦能夠從大量數據中找出隱藏的模式","D":"讓電腦能夠自動化重複性的軟體測試流程"},"correct_answer":"B","solution":"<p><strong>(B) 正確。</strong><br>自然語言處理（NLP）的核心目標是讓電腦能夠理解、解釋並生成人類的語言，使其能夠與人類進行有效的溝通或處理基於語言的任務。</p><p><strong>(A)</strong><br>讓電腦能夠看懂並分析圖像內容是電腦視覺（Computer Vision, CV）的核心目標。</p><p><strong>(C)</strong><br>讓電腦能夠從大量數據中找出隱藏的模式是數據探勘（Data Mining）或機器學習（Machine Learning）的廣泛目標之一，並非NLP獨有的核心目標。</p><p><strong>(D)</strong><br>讓電腦能夠自動化重複性的軟體測試流程指的是軟體測試自動化，雖然可能應用AI技術，但並非NLP的核心目標。</p>"},{"question_text":"一家電商公司希望分析其網站上數千條客戶對產品的評論，以了解客戶的整體滿意度和主要抱怨點。此情境最適合應用下列哪一項NLP技術？","options":{"A":"機器翻譯","B":"文本生成","C":"情感分析","D":"語音識別"},"correct_answer":"C","solution":"<p><strong>(C) 正確。</strong><br>情感分析是自然語言處理(NLP)的一項技術，專門用於識別和提取文本資料中的主觀資訊，例如用戶的情緒、評價、滿意度等。在此情境中，電商公司希望分析客戶評論以了解滿意度和抱怨點，這正是情感分析的典型應用場景。</p><p><strong>(A)</strong><br>機器翻譯是指將一種自然語言文本自動轉換為另一種自然語言文本的技術，與分析客戶評論的情感無關。</p><p><strong>(B)</strong><br>文本生成是指讓電腦自動產生新的文本內容，例如撰寫新聞摘要或故事，此處的需求是分析現有評論，而非生成新評論。</p><p><strong>(D)</strong><br>語音識別是指將人類的語音轉換為文字的技術，而客戶評論通常是以文字形式存在的，因此不適用語音識別。</p>"},{"question_text":"在自然語言處理的預處理流程中，「將句子或段落切分成詞彙、標點符號等基本單元」的步驟稱為什麼？","options":{"A":"詞形還原 (Lemmatization)","B":"停用詞移除 (Stopword Removal)","C":"斷詞 (Tokenization)","D":"特徵提取 (Feature Extraction)"},"correct_answer":"C","solution":"<strong>(C) 正確。</strong><br/>「斷詞 (Tokenization)」是自然語言處理預處理中的一個基本步驟，其目的是將連續的文本序列（如句子或段落）分割成更小的、有意義的單元，這些單元通常是詞彙、數字、標點符號等，稱為「詞元」或「標記」(tokens)。這一步驟對於後續的文本分析至關重要。<br/><br/><strong>(A)</strong><br/>詞形還原是指將單詞的不同屈折形式還原為其基本詞形或詞典形式。<br/><br/><strong>(B)</strong><br/>停用詞移除是指從文本中移除那些頻繁出現但對語義貢獻不大的詞彙。<br/><br/><strong>(D)</strong><br/>特徵提取是指從原始數據中轉換或選擇出對模型有用的特徵，在NLP中可能發生在斷詞之後。"},{"question_text":"某新聞機構希望開發一個系統，能自動將長篇新聞報導濃縮成數句摘要。此功能主要依賴下列哪一項NLP技術？","options":{"A":"文本分類","B":"文本生成","C":"命名實體識別","D":"情感分析"},"correct_answer":"B","solution":"<strong>(B) 正確。</strong>文本生成是自然語言處理的一個分支，其目標是讓電腦能夠自動產生新的、連貫的、有意義的文本內容。自動生成新聞摘要即是文本生成的一種典型應用，系統需要理解原文主旨，然後生成簡潔的摘要。<br/><br/><strong>(A)</strong> 文本分類是指將文本分配到預定義的類別中，例如將新聞分類為體育、政治、財經等，與生成摘要不同。<br/><strong>(C)</strong> 命名實體識別是指從文本中識別出具有特定意義的實體，例如人名、地名、組織名等，與生成摘要不同。<br/><strong>(D)</strong> 情感分析是指分析文本中所表達的情感傾向（如正面、負面、中性），與生成摘要不同。"},{"question_text":"TF-IDF (Term Frequency-Inverse Document Frequency) 是一種常用於評估什麼的技術？","options":{"A":"詞彙在單一文件中的出現頻率","B":"詞彙在整個文件集中的罕見程度","C":"詞彙在文件集中的重要性","D":"詞彙的詞性"},"correct_answer":"C","solution":"<strong>(C) 正確。</strong>TF-IDF是一種統計方法，用以評估一個詞彙對於一個文件集或一個語料庫中的其中一份文件的重要程度。它結合了詞頻(TF)和逆向文件頻率(IDF)。詞頻表示一個詞彙在單一文件中出現的頻率，而逆向文件頻率則衡量該詞彙在整個文件集中的普遍程度（越普遍，IDF值越低，代表區分度不高）。兩者相乘得到的TF-IDF值越高，代表該詞彙對該文件的鑑別度越高，即越重要。<br/><br/><strong>(A)</strong> 詞彙在單一文件中的出現頻率只是TF-IDF計算的一部分。<br/><strong>(B)</strong> 詞彙在整個文件集中的罕見程度也只是TF-IDF計算的一部分。<br/><strong>(D)</strong> 詞彙的詞性是詞彙的語法屬性，與TF-IDF評估詞彙重要性的功能不同。"}]},"L21102":{"title":"電腦視覺技術與應用","questions":[{"question_text":"以下哪項不是典型的電腦視覺任務？","options":{"A":"影像分類","B":"物體偵測","C":"自然語言生成","D":"影像分割"},"correct_answer":"C","solution":"<strong>(C) 正確。</strong>自然語言生成不是電腦視覺任務，而是自然語言處理（NLP）的一部分。自然語言生成涉及產生人類可理解的文本，例如聊天機器人回應、內容摘要或故事創作。<br/><br/><strong>(A)</strong> 影像分類是電腦視覺的基本任務，旨在將整個圖像分類為特定類別（如「貓」、「狗」、「汽車」等）。<br/><strong>(B)</strong> 物體偵測是電腦視覺任務，涉及識別圖像中物體的位置並為其分類。<br/><strong>(D)</strong> 影像分割是電腦視覺任務，涉及將圖像分割為多個區域，並識別每個像素屬於哪個特定物體或類別。"},{"question_text":"一家製造工廠希望導入AI系統，自動檢測生產線上產品的外觀瑕疵。此應用最適合使用下列哪種技術？","options":{"A":"語音識別","B":"物體偵測 (屬於電腦視覺)","C":"情感分析","D":"機器翻譯"},"correct_answer":"B","solution":"<strong>(B) 正確。</strong>電腦視覺專長於讓機器「看懂」並解析圖像內容。物體偵測是電腦視覺的一項重要應用，旨在識別圖像中特定物體的位置和類別。在製造工廠自動檢測產品外觀瑕疵的情境中，系統需要「看到」產品並「偵測」出瑕疵，這正是物體偵測（屬於電腦視覺範疇）的典型應用。<br/><br/><strong>(A)</strong> 語音識別是將人類語音轉換為文字的技術，與檢測產品外觀瑕疵無關。<br/><strong>(C)</strong> 情感分析是分析文本中所表達的情感傾向，與檢測產品外觀瑕疵無關。<br/><strong>(D)</strong> 機器翻譯是將一種自然語言文本自動轉換為另一種自然語言文本的技術，與檢測產品外觀瑕疵無關。"},{"question_text":"卷積神經網路 (Convolutional Neural Networks, CNNs) 因其何種特性而特別適合處理圖像數據？","options":{"A":"能夠有效處理序列數據的時間依賴性","B":"能夠有效提取圖像的局部特徵並具有參數共享特性","C":"能夠在沒有標註數據的情況下進行學習","D":"能夠生成全新的、從未見過的圖像"},"correct_answer":"B","solution":"<strong>(B) 正確。</strong>卷積神經網路的核心優勢在於其能夠通過卷積層有效提取圖像的局部特徵（例如邊緣、角點、紋理等）。此外，CNN中的權重共享（參數共享）機制，即在圖像的不同位置使用相同的卷積核，大大減少了模型的參數數量，使其更易於訓練且能更好地泛化。這兩大特性使其在圖像處理任務中表現出色。<br/><br/><strong>(A)</strong> 能夠有效處理序列數據的時間依賴性是循環神經網路的主要特性。<br/><strong>(C)</strong> 能夠在沒有標註數據的情況下進行學習指的是無監督學習，CNN最常見應用是在監督學習中。<br/><strong>(D)</strong> 能夠生成全新的圖像通常是生成式AI模型的特性，CNN主要優勢在於特徵提取。"},{"question_text":"在自動駕駛系統中，用以識別路上的行人、車輛、交通號誌等物體的關鍵AI技術是什麼？","options":{"A":"自然語言生成","B":"電腦視覺","C":"專家系統","D":"數據庫管理"},"correct_answer":"B","solution":"電腦視覺專注於讓電腦能夠「看懂」並解析圖像或影片內容。在自動駕駛系統中，識別路上的行人、車輛、交通號誌等物體，需要系統能夠分析來自攝影機等感測器的視覺資訊，這正是電腦視覺的核心應用。自然語言生成是指讓電腦自動產生人類語言文本，與識別道路上的物體無關。專家系統是一種早期的人工智慧程式，模擬人類專家在特定領域的決策能力，雖然自動駕駛系統可能包含規則，但物體識別依賴於電腦視覺。數據庫管理涉及數據的儲存、組織和檢索，不是識別物體的AI技術。"},{"question_text":"光學字元辨識 (OCR) 技術的主要功能為何？","options":{"A":"從圖像中提取文字","B":"從語音中提取文字","C":"從文本中提取關鍵詞","D":"從影片中識別人臉"},"correct_answer":"A","solution":"<strong>(A) 正確。</strong>光學字元辨識技術的主要功能是將圖像中的文字（例如掃描文件、照片中的文字）轉換為機器可讀的文字格式。這使得圖像中的文本可以被編輯、搜尋和處理。<br/><br/><strong>(B)</strong> 從語音中提取文字是語音識別或語音轉文字技術的功能。<br/><strong>(C)</strong> 從文本中提取關鍵詞是自然語言處理中的關鍵詞提取任務。<br/><strong>(D)</strong> 從影片中識別人臉是電腦視覺中的人臉識別或人臉偵測技術，與OCR提取文字的功能不同。"},{"question_text":"臉部辨識系統主要涉及下列哪一項電腦視覺任務？","options":{"A":"物體分割","B":"動作識別","C":"物體追蹤","D":"物體檢測與識別"},"correct_answer":"D","solution":"<strong>(D) 正確。</strong>臉部辨識系統涉及兩個核心步驟：1) 臉部檢測（找出圖像中人臉的位置）；2) 臉部識別（確定檢測到的臉是屬於哪個人）。這兩個步驟分別對應物體檢測和物體識別任務，因此臉部辨識主要涉及「物體檢測與識別」。<br/><br/><strong>(A)</strong> 物體分割是將圖像區分為多個區域並標記每個像素所屬的類別，雖用於某些高級臉部辨識系統，但不是臉部辨識的主要任務。<br/><strong>(B)</strong> 動作識別是辨識圖像/影片中的動作，例如走路、跑步等，與臉部辨識不直接相關。<br/><strong>(C)</strong> 物體追蹤是在視頻序列中跟蹤物體的運動軌跡，雖可用於動態場景中的臉部跟蹤，但不是臉部辨識的主要任務。"}]},"L21103":{"title":"生成式AI技術與應用","questions":[{"question_text":"下列何者最能體現生成式AI (Generative AI) 的核心特點？","options":{"A":"對現有數據進行精確分類","B":"預測未來事件發生的機率","C":"創造全新的、原創的內容","D":"從大量數據中提取有價值的洞察"},"correct_answer":"C","solution":"<strong>(C) 正確。</strong>生成式AI的核心特點是其能夠創造全新的、原創的內容，例如生成圖像、文本、音樂、程式碼等。它不是簡單地分析或分類現有數據，而是學習數據中的模式以生成新的、類似的數據。<br/><br/><strong>(A)</strong> 對現有數據進行精確分類是鑑別式AI或傳統監督式學習分類模型的任務。<br/><strong>(B)</strong> 預測未來事件發生的機率通常是預測性分析的範疇，這與生成式AI創造新內容的核心特點不同。<br/><strong>(D)</strong> 從大量數據中提取有價值的洞察是數據探勘或廣義的數據分析的目標，但生成式AI的核心在於「生成」而非僅僅「提取洞察」。"},{"question_text":"近期廣受討論的DALL-E、Midjourney等工具，能夠根據用戶的文字描述生成對應的圖像，這屬於下列哪一種AI技術的應用？","options":{"A":"鑑別式AI","B":"生成式AI","C":"強化學習","D":"傳統機器學習"},"correct_answer":"B","solution":"<strong>(B) 正確。</strong>DALL-E、Midjourney這類工具的核心功能是根據用戶提供的文字描述（prompt）來「創造」和「生成」全新的圖像。這完全符合生成式AI的定義，即能夠產生新內容的AI類型。<br/><br/><strong>(A)</strong> 鑑別式AI的主要任務是進行分類或預測，例如判斷一張圖片是貓還是狗，而不是創造新內容。<br/><strong>(C)</strong> 強化學習是一種AI方法，其中智能體透過與環境互動並從中學習，以最大化某種獎勵，與根據描述生成圖像的任務不同。<br/><strong>(D)</strong> 傳統機器學習是一個廣泛的術語，包含多種算法，這些算法通常用於分類、迴歸、分群等任務，其核心並非專注於從無到有地創造複雜的新內容。"},{"question_text":"大型語言模型 (Large Language Models, LLMs) 如GPT系列，其強大的文本理解與生成能力主要基於下列何種模型架構？","options":{"A":"卷積神經網路 (CNN)","B":"循環神經網路 (RNN)","C":"Transformer","D":"支持向量機 (SVM)"},"correct_answer":"C","solution":"<strong>(C) 正確。</strong>大型語言模型如GPT系列，其突破性的文本理解與生成能力主要歸功於Transformer模型架構。Transformer架構引入了自註意力機制，使其能夠並行處理序列中的所有詞彙，並有效捕捉長距離依賴關係，這對於理解上下文和生成連貫文本至關重要。<br/><br/><strong>(A)</strong> 卷積神經網路主要用於處理網格狀數據，如圖像，不是大型語言模型的核心架構。<br/><strong>(B)</strong> 循環神經網路及其變種傳統上用於處理序列數據，但在處理長序列時存在梯度消失/爆炸和難以並行計算的問題，Transformer架構解決了這些問題。<br/><strong>(D)</strong> 支持向量機是一種經典的監督學習模型，與深度學習模型如Transformer有顯著差異。"},{"question_text":"生成對抗網路 (Generative Adversarial Networks, GANs) 通常包含哪兩個主要組成部分？","options":{"A":"編碼器 (Encoder) 與解碼器 (Decoder)","B":"生成器 (Generator) 與判別器 (Discriminator)","C":"卷積層 (Convolutional Layer) 與池化層 (Pooling Layer)","D":"決策樹 (Decision Tree) 與隨機森林 (Random Forest)"},"correct_answer":"B","solution":"<strong>(B) 正確。</strong>生成對抗網路的核心架構包含兩個相互競爭的神經網路：生成器和判別器。生成器的目標是學習真實數據的分佈並生成新的、看起來真實的數據樣本；判別器的目標是盡可能準確地判斷輸入的數據是來自真實數據集還是由生成器生成的假數據。兩者透過對抗過程共同進化，最終使生成器能夠產生高度逼真的數據。<br/><br/><strong>(A)</strong> 編碼器與解碼器是自編碼器或序列到序列模型的主要組成部分。<br/><strong>(C)</strong> 卷積層與池化層是卷積神經網路的關鍵組件。<br/><strong>(D)</strong> 決策樹與隨機森林是傳統的機器學習算法，與GAN的深度學習神經網路架構有本質區別。"},{"question_text":"利用生成式AI產生合成數據 (Synthetic Data) 以擴充現有訓練數據集，這種做法的主要目的是什麼？","options":{"A":"降低模型訓練所需的計算資源","B":"提高模型的解釋性","C":"改善模型在小樣本或不平衡數據集上的表現","D":"完全取代真實數據的收集"},"correct_answer":"C","solution":"<strong>(C) 正確。</strong>生成式AI可以創造新的、類似於真實數據的合成數據。當現有訓練數據集規模較小或某些類別的樣本數量遠少於其他類別時，模型的學習效果和泛化能力會受到限制。透過生成合成數據來擴充這些數據集，可以提供更多樣化的訓練樣本，有助於模型更好地學習數據分佈，從而改善其在這些具有挑戰性的數據集上的表現，提升模型的魯棒性和準確性。<br/><br/><strong>(A)</strong> 產生合成數據本身也需要計算資源，雖然可能間接幫助模型更快收斂，但主要目的不是直接降低訓練資源。<br/><strong>(B)</strong> 合成數據通常是為了改善模型性能，而不是直接提高模型的解釋性。<br/><strong>(D)</strong> 合成數據通常不能完全取代真實數據的收集，真實數據仍然是模型學習現實世界模式的基礎。"}]},"L21104":{"title":"多模態人工智慧應用","questions":[{"question_text":"多模態AI (Multimodal AI) 指的是能夠處理何種資訊的AI技術？","options":{"A":"僅處理單一類型的數據，如純文本或純圖像","B":"處理來自多種不同類型數據源的資訊，如文本、圖像、語音的結合","C":"專門處理具有多種模式或趨勢的時間序列數據","D":"專門用於生成多種風格藝術作品的AI"},"correct_answer":"B","solution":"多模態AI的核心定義是能夠同時處理和整合來自多種不同類型數據源（模態）的資訊。這些模態可以包括文本、圖像、語音、影片、感測器數據等。其目標是讓AI系統能夠更全面地理解複雜情境，就像人類一樣透過多種感官來感知世界。僅處理單一類型的數據的AI稱為單模態AI。專門處理具有多種模式或趨勢的時間序列數據是時間序列分析的範疇。專門用於生成多種風格藝術作品的AI可能屬於生成式AI的範疇，多模態AI更側重於處理和理解多種類型的輸入數據。"},{"question_text":"一個AI系統能夠觀看一段影片，並根據影片內容自動生成一段文字描述。這最能體現下列哪種AI技術的應用？","options":{"A":"單模態自然語言處理","B":"單模態電腦視覺","C":"多模態AI","D":"傳統統計模型"},"correct_answer":"C","solution":"多模態AI的核心能力在於能同時處理並整合來自多種不同類型數據源的資訊。在此情境中，AI系統需要處理視覺資訊（觀看影片）並生成文字資訊（文字描述），這涉及到電腦視覺和自然語言處理兩種模態的結合與協同工作，是多模態AI的典型應用。單模態自然語言處理僅專注於處理單一的語言文字模態，輸入是影片，因此純NLP無法完成此任務。單模態電腦視覺僅專注於處理單一的視覺圖像或影片模態，雖然系統需要理解影片內容，但它還需要生成文字描述，這超出了純CV的範疇。傳統統計模型主要處理結構化數據，難以直接應對影片理解並生成複雜文本描述這樣的多模態任務。"},{"question_text":"在多模態AI中，將從不同數據類型（如圖像特徵和文本特徵）中提取出來的資訊有效地結合起來，這個過程稱為什麼？","options":{"A":"特徵選擇 (Feature Selection)","B":"特徵融合 (Feature Fusion)","C":"特徵縮放 (Feature Scaling)","D":"特徵編碼 (Feature Encoding)"},"correct_answer":"B","solution":"在多模態AI中，當系統處理來自不同模態的數據時，會先從各個模態中提取特徵。特徵融合指的是將這些從不同模態提取出來的特徵表示有效地結合或整合起來，形成一個統一的、更豐富的特徵表示，以便後續的聯合學習或決策。這是多模態學習中的關鍵步驟。特徵選擇是指從現有的特徵集合中選擇出一個子集，以去除不相關或冗餘的特徵，通常在單一模態或已融合的特徵上進行。特徵縮放是一種數據預處理技術，用於將不同範圍的數值特徵調整到相似的尺度，與結合不同模態特徵無關。特徵編碼是指將原始數據轉換為機器學習模型可以處理的數值格式的過程，處理的是單一特徵的表示形式，而不是不同模態特徵的結合。"},{"question_text":"視覺問答 (Visual Question Answering, VQA) 系統允許用戶針對一張圖片提出問題，並由AI系統回答。此類系統是哪種AI技術的典型應用？","options":{"A":"僅依賴電腦視覺","B":"僅依賴自然語言處理","C":"多模態AI","D":"強化學習"},"correct_answer":"C","solution":"視覺問答系統需要理解圖像內容（電腦視覺）和用戶提出的自然語言問題（自然語言處理），然後結合這兩方面的信息來生成答案。這種同時處理和整合圖像與文本兩種不同模態資訊的能力，正是多模態AI的核心特徵和典型應用。僅依賴電腦視覺的系統可以分析圖像內容，但無法理解用戶提出的自然語言問題或生成自然語言答案。僅依賴自然語言處理的系統可以理解和生成文本，但無法理解圖像內容。強化學習是一種AI方法，其中智能體透過與環境互動學習以最大化獎勵，與視覺問答這種需要理解多種感官輸入並生成答案的任務不同。"},{"question_text":"下列何者不是多模態AI的典型應用場景？","options":{"A":"根據圖像內容生成文字描述","B":"結合語音語調、面部表情和文本內容進行情感分析","C":"使用文本查詢來檢索相關的圖像","D":"僅使用歷史銷售數據預測未來一周的產品銷量"},"correct_answer":"D","solution":"僅使用歷史銷售數據（通常是結構化的數值數據）來預測未來一周的產品銷量，這是一個典型的時間序列預測或迴歸分析任務，屬於單模態數據分析的範疇，不涉及多種不同類型數據源的整合，因此不是多模態AI的典型應用場景。根據圖像內容生成文字描述是多模態AI的典型應用，它需要理解圖像（視覺模態）並生成文本（語言模態）。結合語音語調、面部表情和文本內容進行情感分析，是多模態情感分析的典型應用，它整合了多種數據源來更準確地判斷情感。使用文本查詢來檢索相關的圖像是多模態AI的典型應用，它需要理解文本查詢的語義並在圖像數據庫中找到與之匹配的視覺內容。"}]}}},"L212":{"title":"AI 導入評估規劃","sub_sections":{"L21201":{"title":"AI導入評估","questions":[{"question_text":"在評估企業是否適合導入AI系統時，下列哪項是最優先考慮的關鍵因素？","options":{"A":"競爭對手是否已經採用AI技術","B":"清晰定義的業務問題和目標","C":"執行長對AI的個人興趣","D":"組織的社交媒體影響力"},"correct_answer":"B","solution":"在評估企業是否適合導入AI系統時，清晰定義的業務問題和目標是最優先考慮的關鍵因素。這是因為AI應該被視為解決特定業務問題的工具，而非僅僅因為跟隨趨勢或競爭對手而導入。企業必須首先明確AI將解決什麼具體問題以及期望達到什麼目標，這樣才能評估AI是否真正適合以及後續如何衡量其價值。競爭對手是否已經採用AI技術固然是一個參考因素，但不應是最優先考慮的關鍵因素，因為每個企業的業務環境、問題和目標各不相同。執行長對AI的個人興趣不足以作為評估企業是否適合導入AI的關鍵因素，因為技術導入應基於業務需求而非個人喜好。社交媒體影響力與企業是否適合導入AI沒有直接關聯，不應作為評估的關鍵因素。"},{"question_text":"下列哪項不是評估企業是否準備好導入AI時需考慮的數據因素？","options":{"A":"數據質量和數據量是否足夠","B":"數據是否容易獲取和整合","C":"公司歷史有多悠久","D":"數據是否涵蓋目標問題的相關特徵"},"correct_answer":"C","solution":"企業歷史的悠久程度並不是評估其是否準備好導入AI的直接相關因素。公司的成立時間長短本身與其數據準備程度、技術能力或業務問題的適合性沒有必然聯繫。相反，數據質量和數據量是否足夠、數據是否容易獲取和整合以及數據是否涵蓋目標問題的相關特徵，這些都是評估企業是否準備好導入AI時需要考慮的關鍵數據因素。AI系統的有效性高度依賴於用於訓練和運行系統的數據的質量、可取得性及相關性。"},{"question_text":"評估AI專案的投資回報率(ROI)時，下列哪項不是典型的成本考量因素？","options":{"A":"數據收集和準備的成本","B":"AI系統開發和部署的成本","C":"競爭對手的市場份額","D":"系統維護和更新的長期成本"},"correct_answer":"C","solution":"在評估AI專案的投資回報率(ROI)時，「競爭對手的市場份額」不是典型的成本考量因素。競爭對手的市場份額是市場分析或競爭情報的一部分，可能會影響企業採用AI的決策或策略，但它本身不是計算AI專案投資回報率時的成本項目。相比之下，數據收集和準備的成本、AI系統開發和部署的成本、以及系統維護和更新的長期成本都是計算AI專案總成本時需要考慮的典型因素。這些成本與專案的實際實施和運營直接相關，對於準確計算ROI至關重要。"},{"question_text":"在評估企業AI成熟度時，下列哪一階段的組織已經在全公司範圍內標準化了AI流程和實踐？","options":{"A":"初始階段 (Initial)","B":"實驗階段 (Experimental)","C":"整合階段 (Integrated)","D":"轉型階段 (Transformational)"},"correct_answer":"C","solution":"根據知識文件關於企業AI成熟度模型的描述，整合階段(Integrated)的組織已經在全公司範圍內標準化了AI流程和實踐。在這個階段，組織已經建立了明確的AI治理結構，AI專案是根據組織範圍的策略來優先排序和實施，並且有標準化的數據管道和操作流程。相比之下，初始階段的組織僅有非正式或個別的AI計劃，缺乏組織層面的支持。實驗階段的組織可能有一些AI試點項目，但尚未有標準化的流程。轉型階段是最高級別的成熟度，此時AI已經完全融入組織的DNA和商業模式中，成為組織競爭優勢的核心驅動力。"},{"question_text":"對於評估是否適合採用AI解決方案，下列哪種業務問題特徵最適合AI應用？","options":{"A":"需要高度道德判斷的決策","B":"具有清晰模式且大量重複的任務","C":"需要創造性地解決前所未見的新問題","D":"必須由人類進行最終審批的流程"},"correct_answer":"B","solution":"具有清晰模式且大量重複的任務最適合AI應用。AI系統特別擅長於從大量數據中識別模式並自動執行重複性任務，可以提高效率並減少錯誤。例如，文件分類、基本客戶服務請求處理、標準化分析等任務都是AI應用的理想候選。相比之下，需要高度道德判斷的決策通常不適合完全自動化，因為道德判斷涉及複雜的社會和文化背景，AI難以正確處理這些微妙的考量。需要創造性地解決前所未見的新問題對AI來說也是挑戰，因為現有的AI系統主要基於過去數據學習模式，對於完全新穎的情境處理能力有限。必須由人類進行最終審批的流程可以由AI輔助但不適合完全自動化，這類流程更適合人機協作的模式而非純AI解決方案。"}]},"L21202":{"title":"AI導入規劃","questions":[{"question_text":"企業在規劃AI系統導入時，下列哪一項不是典型的第一階段活動？","options":{"A":"識別和定義業務問題","B":"評估數據準備程度","C":"進行大規模系統部署","D":"設定明確的成功指標"},"correct_answer":"C","solution":"進行大規模系統部署不是AI系統導入規劃的第一階段活動，而是在完成前期評估、小規模試驗並驗證可行性之後的後期階段。在AI導入的初始階段，企業應先識別和定義業務問題，明確AI將解決的具體挑戰；評估數據準備程度，包括數據的可用性、質量和相關性；以及設定明確的成功指標，以便後續評估AI系統的效果。大規模部署前需要進行小規模概念驗證或試點項目，確保技術可行且能夠實現預期目標，這通常不會在導入規劃的第一階段進行。"},{"question_text":"在安排AI專案優先順序時，下列哪個因素權重通常最低？","options":{"A":"該AI專案解決的業務問題的重要性","B":"實施的技術可行性","C":"專案的投資回報預期","D":"競爭對手是否已採用類似技術"},"correct_answer":"D","solution":"在安排AI專案優先順序時，「競爭對手是否已採用類似技術」通常權重最低。雖然了解競爭對手的動向對市場定位有一定參考價值，但不應成為決定AI專案優先級的主要因素。相比之下，專案解決業務問題的重要性（關聯到組織核心目標的程度），實施的技術可行性（包括所需技術資源和能力的可獲得性）以及專案的投資回報預期（成本與預期收益的對比）都是安排AI專案優先順序時更為關鍵的因素。"},{"question_text":"對於一家中型企業首次導入AI，下列哪種方法最可能是明智的起步策略？","options":{"A":"立即在全公司範圍內部署複雜的機器學習系統","B":"從一個定義明確的小型試點專案開始","C":"聘請50名數據科學家組建大型AI團隊","D":"投資數百萬美元建立最先進的AI基礎設施"},"correct_answer":"B","solution":"對於首次導入AI的中型企業，從一個定義明確的小型試點專案開始是最明智的起步策略。這種方法可以降低風險，允許企業在較小的範圍內學習和適應AI技術，識別潛在的挑戰，並在擴展之前證明價值。相比之下，立即在全公司範圍內部署複雜的機器學習系統風險過高，可能導致資源浪費和項目失敗。聘請50名數據科學家組建大型AI團隊對於初次導入AI的中型企業來說成本過高且不必要。同樣，投資數百萬美元建立最先進的AI基礎設施在驗證商業價值之前也是不合理的風險投資。逐步擴展的方法更有利於組織學習和適應，同時降低風險。"},{"question_text":"制定AI導入路線圖時，下列哪一項應該最先考慮？","options":{"A":"預算配置細節","B":"明確的業務目標和預期成果","C":"技術架構的具體實現","D":"團隊成員的具體分工"},"correct_answer":"B","solution":"在制定AI導入路線圖時，明確的業務目標和預期成果應該最先考慮。這是因為AI導入的根本目的是解決特定業務問題並實現商業價值，明確的業務目標將指導後續的所有決策，包括技術選擇、資源分配和實施策略。沒有明確的業務目標，AI專案容易偏離方向或無法證明其價值。預算配置細節、技術架構的具體實現和團隊成員的具體分工都是在確定了業務目標和基本策略之後才能具體規劃的因素。"},{"question_text":"在AI導入規劃中，「人機協同」(Human-AI collaboration)方法的主要優勢是什麼？","options":{"A":"完全消除對人工的依賴","B":"比純自動化解決方案便宜","C":"結合AI的效率和人類的判斷力","D":"降低數據需求"},"correct_answer":"C","solution":"在AI導入規劃中，「人機協同」(Human-AI collaboration)方法的主要優勢是結合AI的效率和人類的判斷力。這種方法讓AI系統處理計算密集型和重複性任務，同時人類專家提供創造力、情感智能、道德判斷和處理邊緣案例的能力。「人機協同」並非旨在完全消除對人工的依賴，相反，它強調人類和AI各自優勢的互補性。人機協同不一定比純自動化解決方案便宜，其價值在於提高決策質量和處理複雜情境的能力，而非成本節約。人機協同也不會降低數據需求，AI部分仍需要足夠的高質量數據才能有效運作。"}]},"L21203":{"title":"AI風險管理","questions":[{"question_text":"在AI系統部署中，「算法偏見」(Algorithmic Bias)主要源於以下哪一項？","options":{"A":"硬件故障","B":"訓練數據中的歷史或社會不平等","C":"使用開源軟件","D":"雲服務提供商的政策"},"correct_answer":"B","solution":"算法偏見主要源於訓練數據中存在的歷史或社會不平等。當AI系統使用包含既有偏見或不平等的數據進行訓練時，它可能會「學習」並放大這些偏見，導致對特定群體的不公平結果。例如，如果歷史招聘數據中存在性別歧視，基於這些數據訓練的AI招聘系統可能會繼續偏向特定性別的候選人。硬件故障不會直接導致算法偏見，而是可能導致系統性能問題。使用開源軟件本身不會導致偏見，關鍵在於軟件使用的數據和設計的公平性。雲服務提供商的政策可能會影響系統的可用性或合規性，但不是算法偏見的直接來源。"},{"question_text":"下列哪項不是減輕AI系統中算法偏見的有效策略？","options":{"A":"使用多樣化且代表性的訓練數據","B":"假設所有AI決策都是完全客觀的","C":"定期審計AI系統的決策結果","D":"使用公平性指標監控模型表現"},"correct_answer":"B","solution":"假設所有AI決策都是完全客觀的不是減輕算法偏見的有效策略，反而是一種危險的誤解。AI系統是基於人類創建的數據和算法構建的，因此可能繼承並放大人類社會中存在的偏見。正確的方法是承認偏見可能存在，並積極採取措施來識別和減輕它。使用多樣化且具有代表性的訓練數據可以幫助確保AI系統對不同人群都公平公正。定期審計AI系統的決策結果有助於發現潛在偏見模式。使用公平性指標監控模型表現可以量化評估AI系統對不同群體的影響是否公平。"},{"question_text":"關於AI系統的隱私風險管理，以下哪種做法是不正確的？","options":{"A":"實施數據最小化原則，只收集必要數據","B":"在收集數據前獲得明確知情同意","C":"實施強大的數據安全措施","D":"一旦獲得用戶同意，就可永久存儲所有數據"},"correct_answer":"D","solution":"「一旦獲得用戶同意，就可永久存儲所有數據」是一種不正確的隱私風險管理做法。即使獲得了初始同意，數據保留也應遵循數據最小化原則和有限期限。組織應定期審查所存儲的數據，並在不再需要時安全刪除，而非無限期保留。相比之下，實施數據最小化原則（只收集實現特定目的所必需的數據）、在收集數據前獲得明確知情同意（確保用戶了解其數據如何被使用）以及實施強大的數據安全措施（如加密、訪問控制等）都是AI系統隱私風險管理的正確做法。"},{"question_text":"在企業部署AI系統時，下列哪種風險管理策略最能確保系統決策的可解釋性？","options":{"A":"僅使用最先進的深度學習模型","B":"使用完全「黑盒」模型以保護商業機密","C":"建立解釋AI決策的機制和工具","D":"避免向最終用戶解釋系統如何工作"},"correct_answer":"C","solution":"建立解釋AI決策的機制和工具是最能確保系統決策可解釋性的風險管理策略。這可能包括使用固有可解釋的模型、開發後解釋工具、提供決策因素的可視化或生成自然語言解釋等。可解釋性對於建立用戶信任、滿足監管要求和識別潛在偏見至關重要。僅使用最先進的深度學習模型可能會降低可解釋性，因為這些模型往往更複雜、更難解釋。使用完全「黑盒」模型以保護商業機密直接違背可解釋性的目標。避免向最終用戶解釋系統如何工作同樣不利於建立信任和透明度，不應作為管理策略。"},{"question_text":"關於AI系統的責任分配(Accountability)，下列哪項是錯誤的？","options":{"A":"應明確定義AI系統相關決策和行動的責任人","B":"一旦系統投入使用，結果由AI自己負責","C":"應建立監督機制確保AI系統按預期運行","D":"發生問題時應有明確的上報和處理流程"},"correct_answer":"B","solution":"「一旦系統投入使用，結果由AI自己負責」是一種錯誤的責任分配觀念。AI系統本身不具備法律人格或道德責任能力，因此不能自行承擔責任。責任始終應該落在人類身上，包括系統的開發者、部署者和管理者。正確的做法是明確定義AI系統相關決策和行動的責任人，建立監督機制確保AI系統按預期運行，以及在發生問題時有明確的上報和處理流程。這些措施共同確保了AI系統的責任框架，使人類持續對AI系統的行為和結果保持控制和問責。"}]}}},"L213":{"title":"AI 技術應用與系統部署","sub_sections":{"L21301":{"title":"數據準備與模型選擇","questions":[{"question_text":"在AI項目中，下列哪一項不是數據預處理階段的典型任務？","options":{"A":"數據清洗","B":"特徵工程","C":"業務目標定義","D":"數據標準化"},"correct_answer":"C","solution":"業務目標定義不是數據預處理階段的典型任務，而是AI項目生命週期中更早的規劃階段的任務。業務目標應該在收集和處理數據之前明確，因為它們將指導整個項目的方向，包括決定需要什麼類型的數據。相比之下，數據清洗（處理缺失值、異常值和不一致性）、特徵工程（創建、轉換或選擇有助於模型性能的特徵）和數據標準化（將不同範圍的特徵調整到相似尺度）都是數據預處理階段的典型任務，這些任務直接處理和準備數據使其適合建模。"},{"question_text":"在選擇AI模型時，「模型可解釋性需求」最可能在哪種情境下成為首要考慮因素？","options":{"A":"為遊戲開發角色動畫","B":"預測社交媒體上的內容點擊率","C":"醫療診斷輔助決策系統","D":"音樂串流服務的推薦系統"},"correct_answer":"C","solution":"在醫療診斷輔助決策系統中，模型可解釋性需求最可能成為首要考慮因素。這是因為醫療決策直接影響患者健康和生命，醫生需要理解AI系統建議背後的原因才能做出負責任的臨床判斷，患者有權知道影響其治療的因素，且醫療領域通常有嚴格的監管要求，要求治療決策是可解釋和可驗證的。相比之下，為遊戲開發角色動畫主要關注視覺效果而非理解決策過程。預測社交媒體內容點擊率和音樂串流服務的推薦系統雖然也會受益於可解釋性，但通常優先考慮準確性和性能，且錯誤的後果相對較小。"},{"question_text":"在建立機器學習模型時，為什麼將數據分成訓練集、驗證集和測試集很重要？","options":{"A":"增加數據處理的計算複雜度","B":"防止數據洩露給競爭對手","C":"評估模型對新數據的泛化能力並防止過擬合","D":"減少模型訓練所需的總數據量"},"correct_answer":"C","solution":"將數據分成訓練集、驗證集和測試集的主要目的是評估模型對新數據的泛化能力並防止過擬合。訓練集用於模型學習，驗證集用於調整超參數和選擇模型，而測試集用於最終評估模型在未見過的數據上的表現。這種分割確保了我們能夠可靠地評估模型在實際應用中的預期表現，而不僅僅是它對已知數據的擬合能力。這種數據分割並不會增加計算複雜度，實際上可能減少計算需求，因為某些步驟只在較小的數據子集上執行。這種做法與防止數據洩露無關，而是關於正確評估模型性能。這也不會減少訓練所需的總數據量，事實上可能需要更多的初始數據以確保每個集合都有足夠的樣本。"},{"question_text":"在AI專案中，何時使用預訓練模型(pre-trained models)而非從頭訓練是最合適的？","options":{"A":"當有大量領域特定的標記數據時","B":"當計算資源充足且不受時間限制時","C":"當處理非常獨特且專業的任務，沒有現成模型時","D":"當資源有限且任務相對標準化時"},"correct_answer":"D","solution":"當資源有限且任務相對標準化時，使用預訓練模型而非從頭訓練是最合適的。預訓練模型已在大型數據集上訓練過，能夠提供良好的起點，可以節省大量計算資源和時間，特別適合於計算資源有限或訓練數據不足的情況。當有大量領域特定的標記數據時，可能更適合從頭訓練模型或至少對預訓練模型進行更深入的微調，以充分利用這些數據。當計算資源充足且不受時間限制時，從頭訓練可能會產生更針對特定任務優化的結果。當處理非常獨特且專業的任務，沒有現成模型時，通常需要自定義模型架構和從頭訓練，因為預訓練模型可能不適用。"},{"question_text":"在機器學習中，「過擬合」(overfitting)的最佳解釋是什麼？","options":{"A":"模型太簡單，無法捕捉數據中的模式","B":"模型過於複雜，學習了訓練數據中的噪聲和隨機波動","C":"訓練數據太少，導致模型收斂緩慢","D":"模型訓練時間過長，浪費計算資源"},"correct_answer":"B","solution":"「過擬合」(overfitting)的最佳解釋是模型過於複雜，學習了訓練數據中的噪聲和隨機波動。過擬合發生在模型在訓練數據上表現很好，但在新數據上表現不佳的情況。這是因為模型不僅學習了數據中的真實模式，還學習了訓練集特有的噪聲和隨機波動，導致泛化能力差。模型太簡單，無法捕捉數據中的模式是「欠擬合」(underfitting)的描述，是一個不同的問題。訓練數據太少可能會增加過擬合的風險，但本身不是過擬合的定義。模型訓練時間過長可能導致過擬合，但不是過擬合本身的定義。"}]},"L21302":{"title":"AI技術系統集成與部署","questions":[{"question_text":"在AI系統部署中，下列哪種方式不是典型的部署模式？","options":{"A":"雲端部署","B":"邊緣部署","C":"混合部署","D":"記憶體持久化部署"},"correct_answer":"D","solution":"「記憶體持久化部署」不是AI系統的典型部署模式。AI系統的典型部署模式包括雲端部署（將AI系統部署在雲服務提供商的基礎設施上）、邊緣部署（將AI系統部署在靠近數據生成和使用點的設備上）以及混合部署（結合雲端和邊緣部署的優勢）。「記憶體持久化」是一個與數據存儲相關的概念，指將數據保持在記憶體中以提高訪問速度，但不是AI系統的整體部署模式。"},{"question_text":"對於需要處理敏感醫療數據且要求低延遲的AI醫療診斷輔助系統，以下哪種部署方式最合適？","options":{"A":"完全雲端部署","B":"邊緣部署","C":"僅移動設備部署","D":"公共區塊鏈部署"},"correct_answer":"B","solution":"對於需要處理敏感醫療數據且要求低延遲的AI醫療診斷輔助系統，邊緣部署最為合適。邊緣部署將AI處理能力放置在靠近數據生成和使用的位置（如醫院的本地伺服器），這帶來幾個關鍵優勢：首先，敏感的醫療數據可以保持在本地處理，不必傳輸到外部雲服務，提高數據安全性和隱私保護；其次，由於數據不需要傳輸到遙遠的數據中心，可以顯著降低延遲，實現近實時的診斷響應；最後，即使網絡連接不穩定，系統也能繼續運行，提高可靠性。完全雲端部署會引入數據傳輸延遲，並增加敏感醫療數據外傳的風險。僅移動設備部署通常計算能力有限，可能無法處理複雜的醫療AI模型。公共區塊鏈部署不適合處理敏感醫療數據，且通常處理速度較慢，不適合低延遲需求。"},{"question_text":"在AI系統開發週期中，「CI/CD」指的是什麼？","options":{"A":"計算智能/計算診斷 (Computational Intelligence/Computational Diagnostics)","B":"客戶界面/客戶數據 (Customer Interface/Customer Data)","C":"持續集成/持續部署 (Continuous Integration/Continuous Deployment)","D":"認知互動/創意設計 (Cognitive Interaction/Creative Design)"},"correct_answer":"C","solution":"在AI系統開發週期中，「CI/CD」指的是持續集成/持續部署(Continuous Integration/Continuous Deployment)。這是一種實踐方法，它使開發團隊能夠頻繁地將代碼變更合併到共享存儲庫中（持續集成），並自動部署新版本到生產環境（持續部署）。在AI系統開發中，CI/CD特別重要，因為它可以自動化模型訓練、評估和部署的過程，確保新模型的可靠發布，並能夠快速應對性能下降或數據漂移等問題。「CI/CD」不是計算智能/計算診斷、客戶界面/客戶數據或認知互動/創意設計的縮寫。"},{"question_text":"在部署AI系統時，實施「金絲雀部署」(Canary Deployment)的主要目的是什麼？","options":{"A":"減少部署成本","B":"通過漸進式發布減少風險","C":"增加系統的最大用戶容量","D":"提升系統的計算性能"},"correct_answer":"B","solution":"實施「金絲雀部署」(Canary Deployment)的主要目的是通過漸進式發布減少風險。這種部署方法首先將新版本的應用或模型發布給一小部分用戶或流量，然後監控其性能和影響，如果一切正常，再逐步增加覆蓋範圍，直到完全部署。這種方法允許團隊在潛在問題影響大量用戶之前及早發現並解決問題，降低了大規模部署失敗的風險。金絲雀部署的名稱源於礦工過去用金絲雀探測礦井中的有害氣體，類似地，初始的小規模部署可以作為「金絲雀」來檢測問題。金絲雀部署不以減少部署成本為主要目的，反而可能增加部署的複雜性和短期成本。它也不直接關注增加系統的最大用戶容量或提升系統的計算性能，雖然它可以幫助確保新版本的性能在擴展前符合預期。"},{"question_text":"在AI系統與企業現有系統集成時，API(應用程序接口)的主要作用是什麼？","options":{"A":"僅提供數據存儲功能","B":"取代所有現有的企業軟件","C":"提供標準化的通信接口，連接不同系統","D":"降低系統的安全性以提高效率"},"correct_answer":"C","solution":"在AI系統與企業現有系統集成時，API(應用程序接口)的主要作用是提供標準化的通信接口，連接不同系統。API定義了不同系統之間交互的規則和方法，使得AI系統能夠與企業的現有系統（如ERP、CRM、數據庫等）無縫集成和通信，而不需要深入了解各自的內部工作原理。這種標準化接口大大簡化了系統集成的複雜性，使不同團隊開發的系統能夠協同工作。API不僅限於提供數據存儲功能，而是提供更廣泛的功能接口。API的目的是促進系統間的集成，而非取代現有企業軟件。設計良好的API應該增強而非降低系統安全性，通過授權機制和數據驗證來保護系統資源。"}]}}}}}}')}),U("aMt6j",function(e,t){e.exports=JSON.parse('{"L22":{"title":"大數據處理分析與應用","sections":{"L221":{"title":"機率統計與資料探勘","sub_sections":{"L22101":{"title":"機率論與數理統計","questions":[{"question_text":"下列哪一個統計量最能代表一組數據的集中趨勢，且不容易受到極端值的影響？","options":{"A":"平均數 (Mean)","B":"中位數 (Median)","C":"全距 (Range)","D":"標準差 (Standard Deviation)"},"correct_answer":"B","solution":"(B) 正確。中位數是指將一組數據按大小排序後，位於中間位置的數值。由於中位數只考慮數據在排序中的位置，而不受數值大小的影響，因此當數據中存在極端值（異常值）時，中位數比平均數更能穩健地反映數據的集中趨勢。\\n(A) 錯誤。平均數是數據總和除以數據量，極端值會顯著影響平均數的計算結果，使其偏離大多數數據的實際集中位置。\\n(C) 錯誤。全距是衡量數據變異性或分散程度的指標，等於最大值減去最小值，完全由極端值決定，不能反映集中趨勢。\\n(D) 錯誤。標準差是衡量數據離散或變異程度的統計量，反映的是數據點偏離平均數的平均距離，用於描述數據的分散情況，而非集中趨勢。"},{"question_text":"若要描述一組數據的分散程度或變異性，下列哪個指標最不適合？","options":{"A":"變異數 (Variance)","B":"標準差 (Standard Deviation)","C":"四分位距 (Interquartile Range, IQR)","D":"眾數 (Mode)"},"correct_answer":"D","solution":"(D) 正確。眾數是一組數據中出現次數最多的數值，它是描述數據集中趨勢的指標之一，而非描述數據分散程度的指標。眾數只反映了數據的集中點，不包含任何關於數據分散程度的信息。\\n(A) 錯誤。變異數是描述數據變異性的基本統計量，計算方法是各數據點與平均數偏差的平方和除以數據量（或數據量減1），數值越大表示數據越分散。\\n(B) 錯誤。標準差是變異數的平方根，以原始數據的單位表示分散程度，是最常用的數據分散度量指標。\\n(C) 錯誤。四分位距是第三四分位數與第一四分位數的差值，反映了中間50%數據的分散程度，是一個穩健的分散性指標，不易受極端值影響。"},{"question_text":"箱形圖 (Box Plot) 主要用於展示數據的哪些統計特性？","options":{"A":"數據的平均數、眾數和峰態","B":"數據的最小值、第一四分位數(Q1)、中位數、第三四分位數(Q3)和最大值","C":"兩個變數之間的線性相關程度","D":"數據隨時間變化的趨勢"},"correct_answer":"B","solution":"(B) 正確。箱形圖（又稱盒鬚圖）是一種展示數據分佈的圖形，它顯示數據的五個關鍵值：最小值、第一四分位數(Q1)、中位數、第三四分位數(Q3)和最大值。其中\\"箱\\"的底部是Q1，頂部是Q3，箱中間的線是中位數，\\"鬚\\"則延伸到數據的最小值和最大值（有時會調整以顯示異常值）。\\n(A) 錯誤。箱形圖通常不直接展示平均數、眾數和峰態，雖然有些變體可能會標示平均數。\\n(C) 錯誤。展示兩個變數之間相關程度的是散點圖和相關係數，不是箱形圖。\\n(D) 錯誤。展示數據隨時間變化趨勢的是時間序列圖或折線圖，而非箱形圖。"},{"question_text":"描述數據分佈不對稱程度的統計量是？","options":{"A":"峰態 (Kurtosis)","B":"偏態 (Skewness)","C":"全距 (Range)","D":"相關係數 (Correlation Coefficient)"},"correct_answer":"B","solution":"(B) 正確。偏態是描述數據分佈不對稱程度和方向的統計量。正偏態（右偏）表示分佈有一個長尾巴延伸到較大的值；負偏態（左偏）表示分佈有一個長尾巴延伸到較小的值；偏態為零表示數據分佈是對稱的。\\n(A) 錯誤。峰態描述的是數據分佈的尖峰程度或\\"尾部厚度\\"，高峰態表示數據分佈比正態分佈更集中且尾部更厚，低峰態表示分佈比正態分佈更平坦，而不是描述分佈的對稱性。\\n(C) 錯誤。全距是描述數據變異性的指標，等於最大值減去最小值，不能反映分佈的對稱性。\\n(D) 錯誤。相關係數衡量的是兩個變數之間的線性關係強度，取值範圍為-1到1，不是描述單一數據集分佈特徵的統計量。"},{"question_text":"若一組數據的直方圖呈現鐘形，且左右對稱，則其平均數、中位數和眾數的關係最可能為何？","options":{"A":"平均數 > 中位數 > 眾數","B":"平均數 < 中位數 < 眾數","C":"平均數 ≈ 中位數 ≈ 眾數","D":"平均數與中位數、眾數無固定關係"},"correct_answer":"C","solution":"(C) 正確。當數據分佈呈現完美鐘形且左右對稱時，這種分佈被稱為正態分佈（常態分佈）。在正態分佈中，平均數、中位數和眾數三者相等或非常接近。這是因為對稱性意味著數據在中心位置的兩側均勻分佈，因此不同的集中趨勢指標都指向同一個中心位置。\\n(A) 錯誤。平均數 > 中位數 > 眾數的關係通常出現在右偏（正偏態）的分佈中，而不是左右對稱的鐘形分佈。\\n(B) 錯誤。平均數 < 中位數 < 眾數的關係通常出現在左偏（負偏態）的分佈中，而不是左右對稱的鐘形分佈。\\n(D) 錯誤。在左右對稱的鐘形分佈中，平均數、中位數和眾數的關係是固定的（相等或非常接近），而不是無固定關係。"},{"question_text":"假設一個袋子中有3顆紅球和2顆藍球，從中隨機抽取兩顆球（取出不放回）。請問兩顆球都是紅球的機率是多少？","options":{"A":"1/5","B":"3/10","C":"2/5","D":"1/2"},"correct_answer":"B","solution":"第一顆抽到紅球的機率是 3/5 (總共5顆球，3顆是紅的)。\\n在第一顆是紅球的前提下，袋中剩下2顆紅球和2顆藍球（共4顆）。\\n此時第二顆再抽到紅球的機率是 2/4 = 1/2。\\n兩顆都是紅球的機率是兩個事件機率的乘積：P(兩紅) = P(第一紅) * P(第二紅 | 第一紅) = (3/5) * (2/4) = 6/20 = 3/10。"}]},"L22102":{"title":"機率分佈與資料分佈模型","questions":[{"question_text":"在機率論中，描述單次試驗只有兩種可能結果（例如成功/失敗）的機率分佈是什麼？","options":{"A":"泊松分佈 (Poisson Distribution)","B":"二項分佈 (Binomial Distribution)","C":"伯努利分佈 (Bernoulli Distribution)","D":"常態分佈 (Normal Distribution)"},"correct_answer":"C","solution":"(C) 正確。伯努利分佈（Bernoulli Distribution）是機率論中最基本的離散型機率分佈之一，它描述了單次試驗中只有兩種可能結果（通常標記為\\"成功\\"和\\"失敗\\"）的隨機事件。成功發生的機率為p，失敗發生的機率為1-p。例如，擲一枚硬幣有正面（成功）和反面（失敗）兩種可能結果。\\n(A) 錯誤。泊松分佈描述的是在固定時間或空間內，隨機事件發生次數的機率分佈，適用於建模罕見事件，而非單次試驗的兩種結果。\\n(B) 錯誤。二項分佈描述的是n次獨立伯努利試驗中，成功次數的機率分佈，而伯努利分佈是n=1時的特例。\\n(D) 錯誤。常態分佈是一種連續型機率分佈，適用於描述許多自然現象，而非單次試驗的兩種可能結果。"},{"question_text":"常態分佈（鐘形曲線）的形狀主要由哪兩個參數決定？","options":{"A":"樣本數與自由度","B":"平均數 (μ) 與標準差 (σ)","C":"偏態與峰態","D":"最小值與最大值"},"correct_answer":"B","solution":"(B) 正確。常態分佈（又稱正態分佈或高斯分佈）是一種連續型機率分佈，其形狀由兩個參數完全決定：平均數μ和標準差σ。平均數決定了分佈的中心位置，標準差決定了分佈的寬窄程度（離散程度）。標準差越大，曲線越平坦（分佈越分散）；標準差越小，曲線越尖聳（分佈越集中）。\\n(A) 錯誤。樣本數與自由度是影響抽樣分佈和統計檢定的因素，不是決定常態分佈形狀的參數。\\n(C) 錯誤。偏態和峰態是描述分佈形狀特性的統計量，但常態分佈的偏態為0（完全對稱），峰態為3（標準化峰態為0），這些是常態分佈的固有特性，不是決定其形狀的參數。\\n(D) 錯誤。常態分佈在理論上的取值範圍是無限的（-∞到+∞），沒有明確的最小值和最大值來定義其形狀。"}]},"L22103":{"title":"假設檢定與統計推論","questions":[{"question_text":"在假設檢定中，研究者通常希望推翻的假設是什麼？","options":{"A":"對立假設 (Alternative Hypothesis, H₁)","B":"虛無假設 (Null Hypothesis, H₀)","C":"研究假設 (Research Hypothesis)","D":"統計假設 (Statistical Hypothesis)"},"correct_answer":"B","solution":"(B) 正確。在假設檢定的框架中，虛無假設（H₀）通常代表「沒有效應」或「沒有差異」的情況，例如「兩組間沒有顯著差異」或「該變數對結果沒有影響」。研究者通常希望收集足夠的證據來拒絕虛無假設，從而支持自己的研究主張（通常體現在對立假設中）。這種方法基於「否證」的邏輯：通過證明虛無假設不正確，間接支持對立假設。\\n(A) 錯誤。對立假設（H₁）通常代表研究者期望發現的效應或差異，是研究者希望證明的觀點，而不是希望推翻的假設。\\n(C) 錯誤。研究假設是研究者基於理論或先前研究提出的預測，通常與對立假設相對應，是研究者希望證實而非推翻的假設。\\n(D) 錯誤。統計假設是一個廣義的術語，包括虛無假設和對立假設，不特指研究者希望推翻的那個假設。"},{"question_text":"假設檢定中的 p 值 (p-value) 代表什麼意義？","options":{"A":"犯第二類型錯誤的機率","B":"在虛無假設為真的前提下，觀測到當前樣本結果或更極端結果的機率","C":"對立假設為真的機率","D":"檢定統計量的值"},"correct_answer":"B","solution":"(B) 正確。p值是在虛無假設為真的前提下，觀測到當前樣本結果或更極端結果的機率。換句話說，p值測量了樣本數據與虛無假設預期結果之間的不一致程度。p值越小，表示樣本結果與虛無假設的預期越不一致，因此拒絕虛無假設的證據越強。這是統計假設檢定中的核心概念。\\n(A) 錯誤。第二類型錯誤（β）是指虛無假設實際上是錯誤的，但我們未能拒絕它的機率。p值與β沒有直接關係。\\n(C) 錯誤。p值不是對立假設為真的機率。p值只是在虛無假設為真的條件下計算的條件機率，不能用來直接量化對立假設的可能性。\\n(D) 錯誤。檢定統計量（如t值、F值、χ²值等）是基於樣本數據計算的數值，用於與臨界值比較或計算p值，但它不是p值本身。"}]}}},"L222":{"title":"大數據處理技術","sub_sections":{"L22201":{"title":"數據收集與清理","questions":[{"question_text":"企業從其官方網站、行動應用程式及社交媒體平台收集用戶行為數據，這些數據來源可歸類為？","options":{"A":"僅內部數據","B":"僅外部公開數據","C":"混合內部與外部數據，包含用戶生成內容","D":"僅感測器數據"},"correct_answer":"C","solution":"(C) 正確。企業從官方網站和行動應用程式收集的用戶行為數據屬於內部數據（由企業自身渠道直接收集），而從社交媒體平台收集的數據則通常來自外部平台。此外，這些數據中包含用戶在網站、應用和社交媒體上的互動、評論、點讚等用戶生成內容(User-Generated Content, UGC)。因此，這些數據來源綜合了內部與外部數據，且包含用戶生成的內容。\\n(A) 錯誤。雖然官網和應用程式的數據可視為內部數據，但社交媒體平台上的數據通常被視為外部數據，因為它們在企業控制範圍之外的平台上產生。\\n(B) 錯誤。官網和應用程式的用戶行為數據是企業內部數據，不屬於外部公開數據。此外，社交媒體上的部分用戶數據可能是私密的，不完全公開。\\n(D) 錯誤。感測器數據通常指通過物聯網設備、感測器等硬體收集的數據（如溫度、位置、加速度等），題目中描述的是用戶在數字平台上的行為數據，而非感測器數據。"},{"question_text":"在大數據背景下進行數據清理時，相較於傳統數據清理，主要面臨的額外挑戰是什麼？","options":{"A":"數據類型單一，缺乏多樣性","B":"數據量小，難以發現規律","C":"數據的規模 (Volume)、速度 (Velocity) 和多樣性 (Variety) 帶來的處理效率與複雜性問題","D":"缺乏有效的數據清理工具"},"correct_answer":"C","solution":"(C) 正確。大數據通常以「3V」特性著稱：規模(Volume)、速度(Velocity)和多樣性(Variety)。在大數據清理中，這三個特性帶來了傳統數據處理中不常見的挑戰：巨大的數據量使得處理效率成為關鍵問題，需要分散式處理架構；高速的數據產生要求能及時處理甚至實時清理；多樣化的數據格式和來源增加了數據整合和標準化的複雜性。這些因素結合在一起，使得大數據清理比傳統的小規模、結構化數據清理面臨更多技術和效率挑戰。\\n(A) 錯誤。大數據的一個核心特點恰恰是數據類型的多樣性（結構化、半結構化、非結構化數據並存），而非單一。\\n(B) 錯誤。大數據的定義核心就是數據量龐大，而非數據量小。\\n(D) 錯誤。目前已有許多專門為大數據清理設計的工具和框架，如Hadoop生態系統中的工具、Apache Spark、專門的數據清理庫等，因此並非缺乏有效工具。"},{"question_text":"ETL 是數據整合中常見的流程，其三個字母分別代表什麼？","options":{"A":"Extract, Transform, Load (抽取、轉換、載入)","B":"Execute, Test, Launch (執行、測試、啟動)","C":"Explore, Train, Label (探索、探索、訓練、標註)","D":"Estimate, Track, Log (估計、追蹤、記錄)"},"correct_answer":"A","solution":"(A) 正確。ETL是數據整合和數據倉儲中的核心流程，代表Extract（抽取）、Transform（轉換）和Load（載入）的過程。Extract階段涉及從各種來源系統中提取數據；Transform階段包括清理、轉換、標準化、整合和聚合數據；Load階段則是將處理後的數據載入到目標系統，通常是數據倉儲或數據湖。ETL流程確保來自不同來源的數據能夠以一致、高質量的方式整合，以支持報表、分析和商業智能應用。\\n(B) 錯誤。Execute, Test, Launch描述的是軟體開發或項目實施的階段，而非數據整合流程。\\n(C) 錯誤。Explore, Train, Label描述的是機器學習項目的部分步驟，不是ETL的含義。\\n(D) 錯誤。Estimate, Track, Log可能描述項目管理或監控的某些方面，但不是ETL的含義。"}]},"L22202":{"title":"數據儲存與管理","questions":[{"question_text":"Hadoop Distributed File System (HDFS) 作為一種分散式檔案系統，其設計的主要目的是什麼？","options":{"A":"提供低延遲的交易處理能力","B":"在單台高性能伺服器上儲存小型結構化數據","C":"在商用硬體集群上可靠地儲存和處理超大規模數據集","D":"專門用於儲存圖形數據庫"},"correct_answer":"C","solution":"(C) 正確。Hadoop Distributed File System (HDFS) 的設計初衷就是在商用硬體（普通、廉價的伺服器）集群上可靠地儲存和處理超大規模數據集。HDFS遵循「寫一次，讀多次」的模式，通過數據分塊和跨節點複製提供高容錯性和高可靠性，同時支持高吞吐量的數據訪問，特別適合大規模批處理工作負載。HDFS是Apache Hadoop生態系統的核心組件，專為大數據時代的需求設計。\\n(A) 錯誤。HDFS並非為低延遲的交易處理設計，相反，它的設計更偏向高吞吐量而非低延遲，不適合需要快速響應的OLTP（聯機交易處理）工作負載。\\n(B) 錯誤。HDFS的目標是跨多台機器的分散式存儲，專為大規模數據設計，而非單機上的小型結構化數據。\\n(D) 錯誤。HDFS是一個通用的分散式檔案系統，可以存儲各種類型的數據，並不專門針對圖形數據庫設計。圖形數據庫通常有其專門的存儲解決方案。"},{"question_text":"下列哪種類型的NoSQL數據庫最適合儲存和查詢具有複雜關係的數據，例如社交網絡中的用戶關係？","options":{"A":"鍵值數據庫 (Key-Value Store)","B":"文件數據庫 (Document Store)","C":"列式數據庫 (Column-Family Store)","D":"圖數據庫 (Graph Database)"},"correct_answer":"D","solution":"(D) 正確。圖數據庫（Graph Database）專門設計用於高效存儲和查詢具有複雜關係網絡的數據。在圖數據庫中，數據被建模為節點（如用戶）和邊（如朋友關係、關注關係），並且可以高效地執行關係遍歷查詢，例如「朋友的朋友」或「最短路徑」等。這使圖數據庫特別適合社交網絡、推薦系統、知識圖譜等應用場景，這些場景中實體之間的關係與實體本身一樣重要。代表性的圖數據庫包括Neo4j、JanusGraph和Amazon Neptune等。\\n(A) 錯誤。鍵值數據庫（如Redis、DynamoDB）以鍵值對形式存儲數據，結構簡單，適合快速查找，但不擅長處理複雜的關聯關係。\\n(B) 錯誤。文件數據庫（如MongoDB、CouchDB）以文檔為單位存儲半結構化數據，雖然可以存儲嵌套和複雜的數據結構，但難以高效查詢和遍歷實體間的複雜關係網絡。\\n(C) 錯誤。列式數據庫（如Cassandra、HBase）按列而非行組織數據，適合分析大量數據的特定屬性，但不擅長處理和查詢實體間的複雜關係。"}]},"L22203":{"title":"數據處理技術與工具","questions":[{"question_text":"MapReduce 是一種用於大數據處理的編程模型，其核心思想包含哪兩個主要階段？","options":{"A":"輸入 (Input) 與輸出 (Output)","B":"排序 (Sort) 與合併 (Merge)","C":"映射 (Map) 與歸約 (Reduce)","D":"讀取 (Read) 與寫入 (Write)"},"correct_answer":"C","solution":"(C) 正確。MapReduce是由Google提出的分散式計算模型，專為大規模數據集的並行處理而設計。其核心思想由兩個主要階段構成：映射（Map）階段和歸約（Reduce）階段。在Map階段，輸入數據被分割成獨立的塊，並分配給多個Map任務並行處理，每個Map任務將輸入轉換為中間的鍵值對。在Reduce階段，具有相同鍵的所有中間值被合併，並執行歸約操作產生最終結果。這種分而治之的方法使得大規模數據可以在分佈式集群上高效處理。\\n(A) 錯誤。輸入與輸出是任何數據處理系統的基本部分，但它們不是MapReduce模型的核心思想或主要階段，而是整個處理流程的開始和結束。\\n(B) 錯誤。排序和合併確實是MapReduce框架內部實現的重要步驟（特別是在Map和Reduce階段之間的shuffle過程中），但它們不是模型的兩個主要階段。\\n(D) 錯誤。讀取和寫入是數據處理的基本操作，但它們不是MapReduce模型的核心組成部分或主要階段。"},{"question_text":"相較於傳統的 Hadoop MapReduce，Apache Spark 在處理大數據時的主要優勢之一是什麼？","options":{"A":"僅支持批次處理，不支持串流處理","B":"依賴磁碟進行中間數據存儲，速度較慢","C":"支持內存計算 (In-Memory Computing)，大幅提升處理速度","D":"只能使用 Java 語言進行開發"},"correct_answer":"C","solution":"(C) 正確。Apache Spark的主要優勢之一是其支持內存計算（In-Memory Computing）的能力。Spark將中間處理結果儲存在記憶體中，而不是像傳統Hadoop MapReduce那樣將中間結果寫入磁碟。這種設計大幅減少了I/O操作，顯著提升了數據處理速度，特別是對需要多次迭代的機器學習算法和交互式數據分析尤為有利。在某些案例中，Spark的處理速度可比MapReduce快10-100倍。\\n(A) 錯誤。Spark不僅支持批處理，還通過Spark Streaming和更新的結構化流（Structured Streaming）支持串流處理，使其成為一個統一的大數據處理平台。\\n(B) 錯誤。正好相反，Spark的設計理念是減少對磁碟的依賴，盡可能利用內存進行計算，從而加快處理速度。雖然Spark也可以在內存不足時使用磁碟，但這不是其設計優勢。\\n(D) 錯誤。Spark支持多種程式語言進行開發，包括Scala（其原生語言）、Java、Python和R，為不同背景的開發者提供了便利。"},{"question_text":"若需要對持續不斷產生的數據流（例如來自IoT設備的感測器數據）進行即時分析和處理，應選擇下列何種類型的處理技術？","options":{"A":"批次處理 (Batch Processing)","B":"串流處理 (Stream Processing)","C":"離線處理 (Offline Processing)","D":"互動式查詢 (Interactive Query)"},"correct_answer":"B","solution":"(B) 正確。串流處理（Stream Processing）技術專為處理連續、即時生成的數據流而設計。它允許在數據到達時就立即處理數據，而無需等待整批數據收集完成，因此能夠提供近乎實時的分析結果。對於IoT設備的感測器數據、社交媒體更新、金融交易等持續產生的數據流，串流處理是理想的選擇。常見的串流處理框架包括Apache Kafka Streams、Apache Flink、Apache Storm和Spark Streaming等。\\n(A) 錯誤。批次處理是指在預定的時間間隔內收集數據，然後一次性處理整批數據。雖然它在處理大量歷史數據時很有用，但對於需要即時回應的持續數據流不夠高效。\\n(C) 錯誤。離線處理通常指不需要即時回應的後台處理，數據可能會延時處理或定期處理，不適合需要即時分析的情境。\\n(D) 錯誤。互動式查詢通常指允許用戶以低延遲方式與數據交互的系統，雖然它可以處理實時數據，但它本身不是針對連續數據流設計的處理技術。"},{"question_text":"Apache Kafka 在大數據架構中通常扮演什麼角色？","options":{"A":"分散式檔案儲存系統","B":"分散式運算框架","C":"分散式發布訂閱消息系統，用於構建即時數據管道","D":"數據可視化工具"},"correct_answer":"C","solution":"(C) 正確。Apache Kafka是一個高性能、高吞吐量、可水平擴展的分散式發布訂閱消息系統。它在大數據架構中主要用於構建即時數據管道，實現系統與系統之間的數據傳輸和集成。Kafka通過「主題」（topic）組織消息，生產者（producer）發送消息到特定主題，消費者（consumer）從主題訂閱並處理消息。其持久化機制、分區設計和複製功能使其能夠可靠地處理高容量數據流，廣泛應用於日誌收集、事件流處理、事務處理、指標監控等場景。\\n(A) 錯誤。Apache Kafka雖然有持久化存儲能力，但主要作為消息系統，而非分散式檔案儲存系統。在大數據生態中，HDFS或Amazon S3等才是典型的分散式檔案儲存系統。\\n(B) 錯誤。Kafka本身不是數據處理或計算框架。雖然Kafka Streams API允許進行流處理，但Kafka主要功能是消息傳遞，而非分散式計算，後者通常由Spark、Flink等框架實現。\\n(D) 錯誤。Kafka不是數據可視化工具，而是數據傳輸層組件。數據可視化通常由Tableau、PowerBI、D3.js等工具實現。"},{"question_text":"在Hadoop生態系統中，哪一個組件主要負責資源管理和任務調度？","options":{"A":"HDFS","B":"MapReduce","C":"YARN (Yet Another Resource Negotiator)","D":"Hive"},"correct_answer":"C","solution":"(C) 正確。YARN（Yet Another Resource Negotiator）是Apache Hadoop 2.0中引入的資源管理和任務調度框架。它將Hadoop 1.0中JobTracker的資源管理和任務調度功能分離出來，形成一個更通用的資源管理系統。YARN允許多種不同類型的分散式應用程序在Hadoop集群上運行，而不僅限於MapReduce。其核心組件包括ResourceManager（全局資源管理器）和NodeManager（每個節點上的資源管理器），以及ApplicationMaster（每個應用程序的協調器）。\\n(A) 錯誤。HDFS（Hadoop Distributed File System）是Hadoop的分散式檔案系統，負責數據存儲，而非資源管理和任務調度。\\n(B) 錯誤。MapReduce是一個分散式計算模型和框架，用於數據處理。在Hadoop 2.0後，MapReduce作為YARN上的一種應用類型運行，而不再負責資源管理。\\n(D) 錯誤。Hive是建立在Hadoop之上的數據倉庫系統，提供SQL介面查詢和分析功能，不負責底層資源管理和調度。"}]},"L22204":{"title":"數據分析與建模","questions":[{"question_text":"以下哪種演算法最適合用來偵測信用卡交易詐欺等異常行為？","options":{"A":"線性迴歸 (Linear Regression)","B":"關聯規則學習 (Association Rule Learning)","C":"異常偵測 (Anomaly Detection)","D":"主成分分析 (Principal Component Analysis)"},"correct_answer":"C","solution":"(C) 正確。異常偵測是一種識別數據集中偏離正常模式或行為的數據點（離群值）的技術。對於信用卡詐欺檢測這類問題，異常偵測特別適用，因為詐欺交易通常表現為與用戶正常消費模式顯著不同的行為。異常偵測算法可以學習用戶的正常消費模式，然後識別出偏離這些模式的交易，從而標記可能的詐欺行為。常見的異常檢測方法包括統計方法（如Z分數）、基於密度的方法（如LOF）、基於距離的方法（如k-NN）和機器學習方法（如單類SVM、隔離森林等）。\\n(A) 錯誤。線性迴歸是一種用於預測連續數值的監督學習算法，不適合直接用於偵測異常行為，因為它主要用於建立變數之間的線性關係。\\n(B) 錯誤。關聯規則學習主要用於發現數據集中的物品或事件之間的關聯關係（如市場籃分析中的物品共現關係），不是專門設計用來偵測異常行為的。\\n(D) 錯誤。主成分分析是一種降維技術，雖然有時可以作為異常檢測的前處理步驟，但它本身不是一種異常檢測算法。PCA主要用於減少數據的維度同時保留其中的變異信息，而不是直接識別異常值。"}]}}},"L223":{"title":"大數據分析方法與工具","sub_sections":{"L22301":{"title":"統計學在大數據中的應用","questions":[{"question_text":"在大數據環境下進行A/B測試時，相較於傳統小樣本A/B測試，其主要優勢是什麼？","options":{"A":"可以完全忽略統計顯著性的要求","B":"能夠檢測到更微小的效果差異，並獲得更可靠的結論","C":"測試所需的時間大幅縮短至數秒內","D":"不再需要設立對照組"},"correct_answer":"B","solution":"(B) 正確。大數據環境下的A/B測試最大優勢在於樣本量巨大，這帶來兩個關鍵好處：首先，根據統計學原理，較大的樣本量能夠提高統計檢定力(power)，使我們能夠檢測到更微小的效果差異（例如轉換率提升0.1%這樣的小改變）；其次，大樣本減少了抽樣誤差，縮小了置信區間，使得測試結果更加可靠。這使得企業能夠基於更細微的改進做出更精確的決策，優化用戶體驗和業務指標。\\n(A) 錯誤。即使在大數據環境下，統計顯著性的要求仍然至關重要。大樣本確實使得較小的效果更容易達到統計顯著性，但這並不意味著可以忽略顯著性要求。相反，正確解讀統計顯著性對避免誤判更加重要。\\n(C) 錯誤。雖然大數據技術可以加速數據處理，但A/B測試的持續時間主要取決於用戶行為和業務週期，而非數據處理時間。良好的A/B測試通常需要運行足夠長的時間（數天到數週）以捕捉用戶行為模式和周期性變化。\\n(D) 錯誤。無論樣本大小如何，A/B測試的核心原則是將用戶隨機分配到測試組和對照組，然後比較兩組的差異。沒有對照組就無法進行因果推斷，這是A/B測試的根本。大數據環境不會改變這一基本設計需求。"},{"question_text":"當在大數據集中同時進行成百上千次的假設檢定時（例如基因表達分析），可能會出現什麼問題，需要進行相應的校正？","options":{"A":"第二類型錯誤率急劇下降","B":"多重比較問題 (Multiple Comparisons Problem)，導致第一類型錯誤的累積機率增加","C":"樣本代表性不足","D":"計算資源耗盡"},"correct_answer":"B","solution":"(B) 正確。在大數據集中同時進行大量假設檢定時，會面臨多重比較問題(Multiple Comparisons Problem)。如果使用傳統的顯著性水準（如α=0.05）進行每次獨立的檢定，則在大量檢定中，至少有一次出現第一類型錯誤（錯誤拒絕實際上正確的虛無假設）的總機率將顯著增加。例如，如果進行100次獨立檢定，即使所有虛無假設實際上都是正確的，也有大約99.4%的機率至少有一次檢定會錯誤地顯示「顯著」結果。為解決此問題，需要應用多重比較校正方法，如Bonferroni校正、Benjamini-Hochberg程序(FDR校正)、Holm方法等，以控制整體的錯誤率。\\n(A) 錯誤。多重比較問題通常會增加第一類型錯誤（誤報）的機率，而非減少第二類型錯誤（漏報）。實際上，許多多重比較校正方法（如Bonferroni校正）會使檢定更加保守，反而可能增加第二類型錯誤的機率。\\n(C) 錯誤。樣本代表性是數據收集階段的問題，與同時進行多次假設檢定無直接關係。此外，大數據集通常樣本量較大，代表性問題相對較小。\\n(D) 錯誤。雖然大數據分析確實可能消耗大量計算資源，但這是技術實現層面的挑戰，而非統計推斷方法學上的問題。多重比較校正主要解決的是統計推斷的有效性問題，而非計算效率問題。"}]},"L22302":{"title":"常見的大數據分析方法","questions":[{"question_text":"一家零售商希望分析顧客的購物籃數據，找出哪些商品經常被一起購買（例如麵包和牛奶），以便進行商品搭配推薦。此分析最適合使用下列哪種方法？","options":{"A":"分群分析 (Clustering)","B":"迴歸分析 (Regression Analysis)","C":"關聯規則挖掘 (Association Rule Mining)","D":"時間序列分析 (Time Series Analysis)"},"correct_answer":"C","solution":"(C) 正確。關聯規則挖掘（Association Rule Mining）是發現大型數據集中項目之間頻繁出現的關聯模式的技術，特別適合購物籃分析。其最典型的演算法是Apriori算法和FP-Growth算法，這些算法能夠找出形如「如果購買項目A，則經常也會購買項目B」的規則。關聯規則通常用三個指標評估：支持度（support，規則涵蓋的交易比例）、置信度（confidence，規則的可靠性）和提升度（lift，規則的相關性強度）。這種分析幫助零售商進行交叉銷售、優化商品陳列和設計有效的促銷活動。\\n(A) 錯誤。分群分析（Clustering）是將相似的物件分組的技術，適合用於客戶分群或商品分類，但不直接識別商品之間的購買關聯。\\n(B) 錯誤。迴歸分析（Regression Analysis）主要用於理解變數之間的關係和預測連續型數值結果，如預測銷售量或價格，不適合發現商品間的共同購買模式。\\n(D) 錯誤。時間序列分析（Time Series Analysis）專注於隨時間變化的數據模式，如季節性趨勢或週期性變化，適合銷售預測或庫存管理，但不適合分析哪些商品經常被一起購買。"},{"question_text":"利用歷史數據和機器學習模型來預測未來可能發生的事件或趨勢（例如預測下個月的銷售額），這屬於下列哪種分析類型？","options":{"A":"描述性分析 (Descriptive Analytics)","B":"診斷性分析 (Diagnostic Analytics)","C":"預測性分析 (Predictive Analytics)","D":"規範性分析 (Prescriptive Analytics)"},"correct_answer":"C","solution":"(C) 正確。預測性分析（Predictive Analytics）是利用統計算法和機器學習技術，基於歷史數據來預測未來的事件、行為或趨勢的分析方法。它回答的是「未來可能會發生什麼？」的問題。典型應用包括銷售預測、客戶流失預測、風險評估和需求預測等。預測性分析使用的技術包括迴歸分析、時間序列預測、分類算法、神經網絡等。這種分析方式幫助企業主動應對未來的挑戰和機遇，而不僅僅是被動反應。\\n(A) 錯誤。描述性分析（Descriptive Analytics）關注的是「過去發生了什麼？」，它使用數據聚合和數據挖掘技術來提供過去事件的洞察，如銷售報表、客戶行為總結等，但不進行未來預測。\\n(B) 錯誤。診斷性分析（Diagnostic Analytics）專注於「為什麼會發生？」，它深入分析數據以確定事件或趨勢的原因，如下降的銷售額可能與哪些因素有關，但不做未來預測。\\n(D) 錯誤。規範性分析（Prescriptive Analytics）更進一步，回答「我們應該做什麼？」的問題，不僅預測未來可能發生的事，還會提供不同行動方案的可能結果，幫助決策者選擇最佳路徑。題目中只提到預測未來趨勢，還未達到規範性分析的層次。"},{"question_text":"下列何者不是機器學習在常見大數據分析中的主要應用類型？","options":{"A":"監督式學習 (如分類與迴歸)","B":"非監督式學習 (如分群與降維)","C":"強化學習 (用於決策與控制)","D":"手動數據輸入與整理"},"correct_answer":"D","solution":"(D) 正確。手動數據輸入與整理不是機器學習的應用類型，而是數據準備過程中的人工任務。在大數據環境下，這種手動操作通常是不可行的，因為數據量太大，需要自動化工具和技術來處理。機器學習的主要價值在於自動化地從數據中學習模式和做出預測，而非依賴手動操作。\\n(A) 錯誤。監督式學習是機器學習的一個主要分支，它使用標註好的訓練數據（包含輸入特徵和目標輸出）來學習輸入和輸出之間的映射關係。在大數據分析中，監督式學習被廣泛應用於分類問題（如垃圾郵件檢測、客戶分類）和迴歸問題（如銷售預測、價格估算）。\\n(B) 錯誤。非監督式學習在沒有標註數據的情況下探索數據的結構和模式。在大數據分析中，它常用於分群（如客戶分群、異常檢測）和降維（如主成分分析PCA、t-SNE）等任務，幫助理解複雜數據集的內在結構。\\n(C) 錯誤。強化學習是機器學習的一個分支，智能體通過與環境互動學習做出最優決策。在大數據環境中，強化學習用於優化決策過程，如推薦系統的策略優化、自動化交易、遊戲AI和自動駕駛等領域。"}]},"L22303":{"title":"數據可視化工具","questions":[{"question_text":"數據可視化的主要目的是什麼？","options":{"A":"產生更多的原始數據","B":"將複雜數據轉換為模型可直接使用的格式","C":"將數據和分析結果以直觀的圖形方式呈現，幫助理解、發現模式和溝通洞察","D":"自動化數據清理流程"},"correct_answer":"C","solution":"(C) 正確。數據可視化的主要目的是將複雜的數據和分析結果轉換為直觀的圖形表示形式，以使數據更易於理解和解釋。有效的可視化能夠揭示數據中潛藏的模式、趨勢、異常和關聯，讓人腦更容易發現洞察。此外，可視化也是溝通數據洞察的強有力工具，能夠幫助不同背景的利益相關者（包括非技術人員）理解數據分析結果，促進基於數據的決策討論。常見的可視化形式包括條形圖、折線圖、散點圖、熱圖、地圖等。\\n(A) 錯誤。數據可視化是將現有數據轉換為視覺表示，而非產生新的原始數據。\\n(B) 錯誤。將數據轉換為模型可用的格式是數據預處理或特徵工程的任務，而非數據可視化的主要目的。雖然可視化可能有助於決定如何處理數據，但它們是不同的步驟。\\n(D) 錯誤。自動化數據清理是數據預處理階段的任務，目的是處理缺失值、錯誤和不一致性，與數據可視化的目的不同。數據可視化可能會幫助識別需要清理的問題，但本身不負責執行清理過程。"},{"question_text":"下列哪一個Python函式庫是常用的數據可視化工具，以其基於Grammar of Graphics的理念和強大的圖表繪製能力著稱？","options":{"A":"NumPy","B":"Pandas","C":"Scikit-learn","D":"Matplotlib 或 Seaborn (ggplot2 for R)"},"correct_answer":"D","solution":"(D) 正確。Matplotlib是Python中最基礎且使用最廣泛的數據可視化函式庫，提供了廣泛的圖表類型和詳細的自定義選項。Seaborn是基於Matplotlib的高級可視化函式庫，專門用於統計可視化，提供了更美觀的預設樣式和更簡潔的API。另外，Python中的plotly和altair等函式庫，以及R語言中的ggplot2，都是基於「Grammar of Graphics」的理念設計的，這種理念將數據可視化視為一種語法，通過組合不同的圖形元素（如座標系、幾何形狀、美學屬性等）來構建複雜的圖表。這些工具使得創建複雜、專業的可視化變得更加系統和直觀。\\n(A) 錯誤。NumPy是Python的基礎數值計算函式庫，提供高效的多維數組和各種數學函數，但它不是數據可視化工具。\\n(B) 錯誤。Pandas是Python中用於數據操作和分析的函式庫，專注於提供數據結構（如DataFrame）和數據處理功能。雖然Pandas有一些基本的繪圖功能（通過調用Matplotlib），但它不是專門的可視化工具。\\n(C) 錯誤。Scikit-learn是Python中最流行的機器學習函式庫，提供各種機器學習算法和工具，但不是專門的數據可視化工具。"},{"question_text":"Tableau 和 Microsoft Power BI 屬於下列哪一類數據分析與可視化工具？","options":{"A":"程式語言內建函式庫","B":"商業智能 (BI) 工具，提供互動式儀表板和報表功能","C":"分散式運算框架","D":"數據庫管理系統"},"correct_answer":"B","solution":"(B) 正確。Tableau和Microsoft Power BI是領先的商業智能(BI)工具，專為數據分析和可視化設計，特別面向業務用戶和數據分析師。這些工具的核心價值在於提供互動式儀表板和報表功能，使用戶可以通過拖放操作創建複雜的可視化，而無需編寫程式碼。它們集成了數據連接、數據準備、可視化設計和報表發布等功能，支持各種數據源，並提供豐富的互動功能，如過濾、鑽取、參數控制等。這類工具大大降低了數據可視化的技術門檻，使組織各級人員都能參與數據驅動的決策過程。\\n(A) 錯誤。程式語言內建函式庫（如Python的Matplotlib或R的ggplot2）是需要通過程式碼調用的可視化庫，而Tableau和Power BI是獨立的商業軟體，主要通過圖形界面操作。\\n(C) 錯誤。分散式運算框架（如Hadoop、Spark）是用於大規模數據處理和計算的系統，注重處理能力而非可視化功能。雖然BI工具可能會連接這些框架處理的數據，但它們本身不是運算框架。\\n(D) 錯誤。數據庫管理系統（如MySQL、Oracle）主要管理結構化數據的存儲和檢索。雖然BI工具通常從數據庫中獲取數據，但它們專注於分析和可視化，而不是數據庫管理功能。"}]}}},"L224":{"title":"大數據在人工智慧之應用","sub_sections":{"L22401":{"title":"大數據與機器學習","questions":[{"question_text":"大數據與機器學習之間存在密切的關係，下列敘述何者最能描述這種關係？","options":{"A":"機器學習的發展使得大數據不再重要","B":"大數據為機器學習模型（尤其是深度學習）提供了必要的「燃料」進行訓練，而機器學習則為大數據分析提供了強大的工具","C":"大數據僅適用於傳統統計方法，不適用於機器學習","D":"機器學習只能處理小規模數據，無法應對大數據的挑戰"},"correct_answer":"B","solution":"(B) 正確。大數據與機器學習的關係是相輔相成的。一方面，大數據為機器學習模型（尤其是深度學習等數據飢渴型模型）提供了必要的「燃料」。大規模、多樣化的數據集使模型能夠學習更複雜的模式，提高泛化能力，降低過擬合風險。例如，大型語言模型(LLM)和圖像識別模型的顯著進步很大程度上得益於大規模訓練數據的可用性。另一方面，機器學習為大數據分析提供了強大工具，能夠從海量數據中自動提取洞察、識別模式和做出預測，幫助解決傳統分析方法難以應對的複雜問題。這種互利共生的關係推動了兩個領域的共同發展。\\n(A) 錯誤。機器學習的發展非但沒有減少大數據的重要性，反而增強了其價值。隨著更先進機器學習模型（如深度神經網絡）的發展，對大規模、高質量數據的需求更加迫切。\\n(C) 錯誤。大數據不僅適用於傳統統計方法，還是現代機器學習，特別是深度學習算法的關鍵推動力。事實上，許多複雜的機器學習模型在大數據環境下表現更佳，因為它們有能力捕捉數據中的複雜非線性關係。\\n(D) 錯誤。現代機器學習框架和分散式計算技術能夠有效處理大規模數據集。例如，分散式機器學習框架如TensorFlow、PyTorch搭配分散式計算環境，或Spark MLlib等專為大數據設計的機器學習庫，已能高效處理TB甚至PB級別的數據。"},{"question_text":"在處理無法在單機上完成訓練的大規模機器學習任務時，常會使用下列何種技術？","options":{"A":"僅增加單機的記憶體和CPU","B":"分散式機器學習框架 (如 Spark MLlib, TensorFlow/PyTorch on clusters)","C":"手動將數據分割成小塊，分別訓練多個小模型","D":"降低模型的複雜度，直到可以在單機上運行"},"correct_answer":"B","solution":"(B) 正確。分散式機器學習框架是處理大規模機器學習任務的標準解決方案。這些框架（如Spark MLlib、分散式TensorFlow/PyTorch、Horovod等）專門設計用於在多台機器組成的集群上並行訓練機器學習模型。它們採用不同的並行策略，如數據並行（在不同節點上使用相同模型處理不同數據子集）、模型並行（將模型分割到不同節點）或混合並行策略。這些框架自動處理節點間的通信、同步、錯誤恢復等複雜問題，使數據科學家能夠專注於模型開發，同時利用集群的計算能力處理超大規模數據集或訓練超大規模模型（如大型語言模型）。\\n(A) 錯誤。雖然增加單機的記憶體和CPU可以提高處理能力，但單機的擴展有物理和經濟上的限制。對於真正的大規模任務，單機擴展難以經濟高效地滿足需求，尤其是當數據規模達到TB或PB級別時。\\n(C) 錯誤。手動分割數據並訓練多個獨立模型是一種簡單的方法，但這種方法有嚴重限制。各個小模型僅能從部分數據中學習，無法捕捉整體數據的全局模式，通常會導致次優的模型性能。此外，如何合併這些小模型的結果也是一個挑戰。\\n(D) 錯誤。降低模型複雜度雖然可能使模型能在單機上運行，但這通常以犧牲模型性能和準確性為代價。對於許多複雜任務，簡化的模型可能無法達到所需的預測能力。"},{"question_text":"對於圖像、文本等低結構化或非結構化數據，在特徵工程階段，哪種方法最為適用且常與深度學習結合？","options":{"A":"手動設計基於領域知識的特徵","B":"詞袋模型 (Bag-of-Words) 或 TF-IDF","C":"深度學習模型自動學習特徵表示 (如詞嵌入、圖像特徵提取層)","D":"主成分分析 (PCA) 或線性判別分析 (LDA)"},"correct_answer":"C","solution":"(C) 正確。深度學習的一個革命性優勢在於其能夠自動從原始數據中學習有效的特徵表示，這一特性在處理低結構化或非結構化數據（如圖像、文本、音頻等）時特別有價值。在傳統機器學習流程中，特徵工程往往是最耗時、需要專業知識的步驟，而深度學習模型則通過多層神經網絡自動學習層次化的特徵表示：較低層捕捉基本特徵（如邊緣、文本中的字詞關係），較高層則組合這些特徵形成更抽象的表示。具體應用如卷積神經網絡(CNN)自動從圖像中學習視覺特徵；循環神經網絡(RNN)或Transformer從文本中學習語言結構；詞嵌入(Word Embeddings)如Word2Vec、GloVe將文本單詞轉換為有意義的向量表示。這種端到端的特徵學習極大簡化了模型開發流程，並在許多任務上取得了突破性的成果。\\n(A) 錯誤。手動設計特徵雖然在某些情況下效果良好，特別是當領域知識豐富且數據量有限時，但對於大規模的低結構化數據，手動特徵設計變得極為耗時且難以擴展，難以捕捉數據中的所有複雜模式。\\n(B) 錯誤。詞袋模型(Bag-of-Words)和TF-IDF是文本處理的傳統方法，雖然簡單有效，但它們忽略了詞序和上下文信息，且產生高維、稀疏的特徵向量，在處理大量非結構化文本時不如現代深度學習方法（如詞嵌入）效果好。\\n(D) 錯誤。PCA和LDA等降維技術對結構化數據的特徵降維很有效，但它們本身並不是為從原始的非結構化數據中提取特徵而設計的，通常作為深度學習特徵提取後的補充步驟使用。"}]},"L22402":{"title":"大數據在鑑別式AI中的應用","questions":[{"question_text":"鑑別式AI (Discriminative AI) 模型的主要目標是什麼？","options":{"A":"生成新的數據樣本","B":"學習數據的潛在分佈","C":"學習決策邊界以區分不同類別的數據","D":"理解數據生成的過程"},"correct_answer":"C","solution":"(C) 正確。鑑別式AI（Discriminative AI）模型的主要目標是學習數據中不同類別或目標變量之間的決策邊界。這類模型直接學習條件機率分佈 P(Y|X)，即給定輸入特徵X，預測目標Y的機率。鑑別式模型專注於找到最能區分不同類別的特徵和模式，建立一個從輸入到輸出的直接映射函數。這種方法在分類和回歸任務中尤為有效，因為它們直接針對預測問題進行優化。常見的鑑別式模型包括邏輯回歸、支持向量機(SVM)、決策樹、隨機森林和大多數神經網絡架構。\\n(A) 錯誤。生成新的數據樣本是生成式AI（Generative AI）的主要目標，如GAN、VAE等模型，而非鑑別式AI的目標。\\n(B) 錯誤。學習數據的潛在分佈（通常是聯合機率分佈P(X,Y)或P(X)）是生成式AI的一個特點。鑑別式模型不試圖建模完整的數據分佈，而是直接學習分類或預測所需的決策邊界。\\n(D) 錯誤。理解數據生成的過程是生成式模型的特點，它們試圖捕捉數據是如何產生的，而鑑別式模型不關注這個問題，只專注於區分不同類別。"},{"question_text":"一家電子商務公司利用其海量的用戶瀏覽歷史、購買記錄和商品信息，訓練一個模型來預測用戶下次最可能購買的商品類別。這個應用屬於：","options":{"A":"生成式AI應用","B":"鑑別式AI應用 (分類問題)","C":"強化學習應用","D":"無監督學習應用"},"correct_answer":"B","solution":"(B) 正確。該電子商務應用是典型的鑑別式AI應用，具體來說是一個分類問題。模型基於用戶的歷史行為特徵（瀏覽歷史、購買記錄）和商品信息，學習預測用戶下次最可能購買的商品類別。這是一個直接從輸入特徵X（用戶行為和商品信息）預測輸出類別Y（商品類別）的監督式學習任務，專注於學習這種映射關係。可能使用的技術包括邏輯回歸、隨機森林、梯度提升樹或神經網絡等，這些都是典型的鑑別式模型。電商平台如Amazon、阿里巴巴等普遍採用此類方法實現個性化推薦。\\n(A) 錯誤。生成式AI應用通常涉及生成新內容，如創建新的產品描述或虛擬商品圖像，而非預測用戶的下一次購買。\\n(C) 錯誤。強化學習應用涉及代理在環境中通過嘗試錯誤學習最佳行動策略，雖然電商推薦系統可以應用強化學習（特別是在考慮長期用戶滿意度時），但題目描述的是直接基於歷史數據預測下一次購買，這更符合監督式分類問題。\\n(D) 錯誤。無監督學習應用不使用標註的目標變量，而是尋找數據中的內在結構或模式。題目中描述的應用有明確的預測目標（下次購買的商品類別），因此是監督式學習而非無監督學習。"}]},"L22403":{"title":"大數據在生成式AI中的應用","questions":[{"question_text":"大型語言模型 (LLMs) 如GPT-3、BERT等能夠生成流暢且語義相關的文本，其卓越性能在很大程度上依賴於什麼？","options":{"A":"極其複雜的模型架構和少量高品質數據","B":"相對簡單的模型架構和海量的、多樣化的文本數據進行訓練","C":"僅依賴人工設計的語言規則","D":"僅在特定領域的小數據集上進行微調"},"correct_answer":"B","solution":"(B) 正確。大型語言模型(LLMs)如GPT-3、BERT等的卓越性能在很大程度上依賴於兩個關鍵因素的結合：一是相對簡單但規模龐大的模型架構（通常基於Transformer架構），二是海量、多樣化的文本數據進行訓練。Transformer架構雖然概念上相對直接，但通過擴大規模（增加層數、隱藏單元和注意力頭數），可以捕捉語言的複雜模式。GPT-3擁有1750億參數，BERT-Large有3.4億參數，它們分別在數百GB甚至TB級的文本數據上訓練。這種「規模即能力」的原則使得模型能夠從原始文本中學習語法、語義、事實知識和某種程度上的推理能力，無需顯式編程這些規則。研究表明，模型規模與文本量的增加往往會帶來性能的跳躍性提升，這一趨勢推動了今天生成式AI的爆發性發展。\\n(A) 錯誤。雖然現代LLMs的架構確實複雜（就參數規模而言），但其基本設計原理（Transformer架構）相對直接，真正的突破來自於大規模化和海量訓練數據，而非少量高品質數據。\\n(C) 錯誤。現代LLMs正是擺脫了對人工設計語言規則的依賴，而是通過自監督學習從海量文本中自動學習語言規律。這種數據驅動的方法比傳統的基於規則的方法更具擴展性和適應性。\\n(D) 錯誤。雖然LLMs通常會在特定領域的數據上進行微調以提高特定任務的性能，但其基礎能力是在預訓練階段通過海量、多樣化的數據獲得的，而非僅依賴特定領域的小數據集。"},{"question_text":"利用生成式AI模型（如GANs）產生合成圖像數據，以擴充醫學影像數據集，幫助訓練更精準的疾病診斷模型。這體現了大數據在生成式AI中的何種應用價值？","options":{"A":"降低模型訓練成本","B":"提高模型的可解釋性","C":"解決數據稀疏性問題，增強模型泛化能力","D":"完全取代對真實醫學影像的需求"},"correct_answer":"C","solution":"(C) 正確。利用生成式AI模型（如GANs）產生合成醫學影像數據的主要應用價值在於解決醫學領域常見的數據稀疏性問題。醫學影像數據通常面臨幾個挑戰：獲取成本高、涉及患者隱私、疾病樣本不平衡（罕見疾病案例有限）、標註需要專業醫生等。通過生成高質量的合成數據，可以有效擴充訓練集，尤其是增加稀有病例的樣本，從而改善模型在這些罕見情況下的表現。此外，合成數據還有助於創建更多樣化的訓練樣本，覆蓋不同人口統計學特徵、成像條件和疾病階段，從而增強模型的泛化能力，使其在真實世界的各種情境中表現更穩定。研究表明，適當結合真實和合成數據進行訓練，可以顯著提高醫學AI模型的性能，特別是在數據有限的情況下。\\n(A) 錯誤。雖然利用合成數據可能會在某種程度上降低數據收集成本，但生成高質量的合成醫學影像也需要訓練複雜的生成模型，這本身也有成本。主要價值在於解決數據稀缺問題，而非主要的成本節約。\\n(B) 錯誤。合成數據通常不會直接提高模型的可解釋性。事實上，使用生成式AI產生的數據可能引入額外的複雜性，使模型決策過程更難解釋。\\n(D) 錯誤。生成式AI產生的合成數據目前不能完全取代真實醫學影像的需求。合成數據最佳用途是作為真實數據的補充，而非替代。生成模型本身需要真實數據進行訓練，而且合成數據可能無法完全捕捉所有真實世界的變異和細微特徵。"},{"question_text":"下列哪項不是大規模語言模型(Large Language Models, LLMs)的主要特徵？","options":{"A":"需要大量數據訓練","B":"具有數百億或更多參數","C":"只能執行文本生成任務","D":"能理解上下文信息"},"correct_answer":"C","solution":"(C) 正確。「只能執行文本生成任務」不是大規模語言模型(LLMs)的特徵。現代LLMs實際上展示了強大的多功能性，除了文本生成外，它們還能執行多種任務，如：自然語言理解(理解查詢和指令)、文本分類、情感分析、摘要、問答、翻譯、代碼生成與調試、基本推理、創意寫作等。這種多功能性得益於模型的規模和預訓練-微調範式，使其能在不同領域和任務上展現能力，成為通用人工智能的重要一步。\\n(A) 錯誤。大規模語言模型確實需要海量數據進行訓練，這是它們的核心特徵之一。例如，GPT-3和GPT-4的訓練數據包含數萬億個標記(tokens)，涵蓋網頁、書籍、文章等多樣化來源。\\n(B) 錯誤。擁有數百億或更多參數是大規模語言模型的關鍵特徵。參數數量的增長帶來了模型能力的顯著提升，如GPT-3有1750億參數，GPT-4更多，而其他模型如PaLM、LLaMA等也在同一量級。\\n(D) 錯誤。理解上下文信息是大規模語言模型的重要特徵。通過注意力機制和大量訓練，這些模型能夠處理長文本輸入，並理解詞語、句子、段落之間的關係，從而生成連貫且與上下文相關的回應。"},{"question_text":"在大規模多模態生成AI中，所謂「多模態」指的是什麼？","options":{"A":"模型能夠在多種硬體上運行","B":"模型能夠同時處理多種不同類型的數據（如文本、圖像、音頻等）","C":"模型有多種大小版本適用於不同場景","D":"模型支持多種編程語言"},"correct_answer":"B","solution":"(B) 正確。在AI領域，「多模態」(Multimodal)指的是模型能夠同時處理和理解多種不同類型的數據輸入或生成多種形式的輸出。這些模態包括文本、圖像、視頻、音頻、語音、3D數據等。多模態AI系統能夠跨越不同感知通道的界限，例如根據文本描述生成圖像(如DALL-E、Midjourney)、從圖像理解並回答問題(如GPT-4V)、將語音轉換為文本後再處理、音視頻內容理解等。這種跨模態能力使AI更接近人類的綜合感知和表達能力，為更自然的人機交互創造了可能。\\n(A) 錯誤。模型能在多種硬體上運行通常被稱為「跨平台」或「硬體兼容性」，而非多模態。\\n(C) 錯誤。模型有不同大小版本適用於不同場景通常被稱為「模型家族」或「縮放變體」(如GPT-3.5-Turbo, GPT-4)，這不是多模態的含義。\\n(D) 錯誤。支持多種程式語言的能力是模型功能的一個方面，特別是針對代碼生成和理解的模型，但這不是「多模態」的定義。"},{"question_text":"生成式AI模型的「幻覺」(Hallucinations)問題指的是什麼？","options":{"A":"模型無法生成任何有意義的輸出","B":"模型生成看似真實但實際上是虛構或不準確的信息","C":"模型過度模仿訓練數據","D":"模型生成的內容總是過於簡短"},"correct_answer":"B","solution":"(B) 正確。在生成式AI領域，「幻覺」(Hallucinations)是指模型生成看似合理、連貫且有說服力，但實際上是虛構或不準確的信息。這是當前大型語言模型和其他生成式AI面臨的一個重要挑戰。幻覺可表現為捏造事實、引用不存在的文獻、創造虛構的統計數據或事件、錯誤解釋關係等。幻覺產生的原因複雜，包括訓練數據中的錯誤信息、模型對知識的不完全或錯誤記憶、過度泛化、優化目標偏向流暢而非事實準確性等。解決幻覺問題的方法包括檢索增強生成(RAG)、人類反饋強化學習(RLHF)、自我一致性檢查、事實驗證機制等，這也是研究界和產業界持續努力的方向。\\n(A) 錯誤。無法生成有意義輸出通常稱為「生成失敗」或「模型崩潰」，而非幻覺。幻覺恰恰是生成了「太過」流暢而看似有意義的內容，只是內容不準確。\\n(C) 錯誤。過度模仿訓練數據通常被稱為「記憶化」(Memorization)或「過擬合」(Overfitting)，這是一個不同的問題，雖然有時可能與幻覺相關。\\n(D) 錯誤。生成內容過於簡短是輸出質量或模型能力的問題，而非幻覺問題。幻覺可能出現在長篇或簡短的生成內容中。"},{"question_text":"以下哪項技術常用於生成式AI系統，通過讓模型生成多個輸出並從中挑選最佳結果，從而提高輸出質量？","options":{"A":"增量學習 (Incremental Learning)","B":"採樣多樣化 (Sample Diversity) 與篩選","C":"注意力機制 (Attention Mechanism)","D":"梯度下降 (Gradient Descent)"},"correct_answer":"B","solution":"(B) 正確。採樣多樣化(Sample Diversity)與篩選是生成式AI中提高輸出質量的重要技術。這種方法涉及讓模型使用不同參數設置(如溫度、頂部概率值)生成多個備選輸出，然後通過某種方式從中選擇最佳結果。選擇可以基於自動評估指標、人類偏好、其他模型的評判，或這些方法的組合。這種技術在許多生成式AI應用中被廣泛採用，包括文本生成、圖像生成、程式碼生成等。例如，在OpenAI的RLHF(基於人類反饋的強化學習)中，會生成多個回應候選項，然後使用獎勵模型選擇最符合人類偏好的版本；在DALL-E等圖像生成系統中，通常會生成多張圖像讓用戶選擇。這種「先生成多樣，再篩選最佳」的策略有效提升了生成內容的品質。\\n(A) 錯誤。增量學習是指模型能夠從新數據中持續學習，而不需要重新訓練整個模型，這是一種訓練方法而非生成多樣輸出的技術。\\n(C) 錯誤。注意力機制是神經網絡中使模型關注輸入的特定部分的機制，是Transformer等架構的核心組件，但它本身不是一種生成多樣輸出並篩選的技術。\\n(D) 錯誤。梯度下降是神經網絡優化過程中用於更新權重的基本算法，與生成多樣輸出並篩選無直接關係。"}]},"L22404":{"title":"大數據隱私保護、安全與合規","questions":[{"question_text":"差分隱私 (Differential Privacy) 技術的核心思想是什麼？","options":{"A":"完全加密所有數據，使其不可訪問","B":"通過添加精確控制的隨機噪聲來保護個人隱私，同時保持數據分析的有用性","C":"限制數據訪問權限並記錄所有訪問操作","D":"將數據完全匿名化，移除所有可識別個人的信息"},"correct_answer":"B","solution":"(B) 正確。差分隱私(Differential Privacy)的核心思想是在數據分析或發布結果中有意地加入精確控制的隨機噪聲，使得任何單個個體的數據信息無法被精確推斷，同時保持整體數據的統計特性和分析價值。直觀來說，差分隱私確保數據集中任何一個個體的存在或不存在，不會顯著改變分析結果，從而保護個體隱私。這種方法提供了數學上可證明的隱私保障，同時允許從數據中提取有用的洞察。它的應用範圍廣泛，包括人口普查、醫療數據分析、位置數據收集和機器學習等領域。差分隱私通過隱私預算(privacy budget)參數ε來控制添加噪聲的程度，較小的ε提供更強的隱私保護但可能降低數據的實用性。\\n(A) 錯誤。完全加密雖然能保護數據，但使數據完全不可訪問會失去其分析價值。差分隱私的目標是在保護隱私和保持數據可用性之間取得平衡，而非完全阻止訪問。\\n(C) 錯誤。訪問控制和日誌記錄是基本的安全措施，但它們不是差分隱私的核心思想。這些措施無法防止授權用戶從合法訪問的數據中推斷出個體信息。\\n(D) 錯誤。傳統的匿名化技術（如刪除直接識別符）已被證明不足以提供強隱私保護，因為結合外部信息可能重新識別個體（如著名的Netflix Prize數據集重識別案例）。差分隱私提供了更嚴格的數學保證，不僅僅是移除識別信息。"},{"question_text":"歐盟的「通用數據保護條例 (GDPR)」對個人數據的處理和跨境流動設定了嚴格的規定。下列何者是GDPR賦予數據主體的重要權利？","options":{"A":"企業可以無限期存儲和使用個人數據","B":"被遺忘權 (Right to be Forgotten) 和數據可攜權 (Right to Data Portability)","C":"企業無需告知用戶數據的收集目的","D":"數據一旦被收集，企業擁有永久使用權"},"correct_answer":"B","solution":"(B) 正確。通用數據保護條例(GDPR)賦予數據主體（即個人）多項重要權利，其中包括被遺忘權(Right to be Forgotten)和數據可攜權(Right to Data Portability)。被遺忘權（也稱為删除權）使個人有權要求數據控制者刪除其個人數據，特別是當數據不再需要、同意被撤回或數據被非法處理時。數據可攜權允許個人獲取企業持有的關於他們的數據，並將這些數據傳輸給另一個數據控制者，格式應為結構化、常用且機器可讀的形式。除了這兩項權利，GDPR還賦予個人其他權利，如知情權、訪問權、更正權、反對處理權和不受純自動化決策影響的權利等。這些權利旨在加強個人對其數據的控制，並在數字時代保護基本隱私權。\\n(A) 錯誤。GDPR明確限制了企業收集和使用個人數據的方式，要求必須有合法基礎（如明確同意、履行合同等），並遵循數據最小化、目的限制等原則。\\n(C) 錯誤。GDPR強調透明原則，要求企業清晰告知數據主體其數據的收集目的、處理方式、保留期限等信息。這通常通過隱私政策實施。\\n(D) 錯誤。GDPR要求企業僅在特定目的所需的時間內保留個人數據，並在目的達成後刪除或匿名化數據。此外，如前所述，數據主體有權要求刪除其數據。"},{"question_text":"聯邦學習 (Federated Learning) 是一種分散式機器學習方法，它在隱私保護方面的主要優勢是什麼？","options":{"A":"所有原始數據必須集中到中央伺服器","B":"原始數據留在本地設備，只有模型更新被傳送和聚合","C":"完全不需要任何數據進行訓練","D":"模型訓練完成後，所有用戶數據都會被公開"},"correct_answer":"B","solution":"(B) 正確。聯邦學習(Federated Learning)在隱私保護方面的主要優勢在於，它實現了「讓模型到達數據」而非「將數據帶到模型」的範式轉變。在傳統機器學習中，所有數據通常被收集到中央伺服器進行訓練。而在聯邦學習中，模型訓練分散在各個本地設備或機構上進行，每個參與者使用自己的本地數據訓練模型，然後僅將模型更新（如梯度信息）而非原始數據發送到中央服務器。中央服務器聚合這些更新以改進全局模型，再將更新後的模型發送回參與者進行下一輪訓練。這種方法使得敏感數據（如醫療記錄、手機使用習慣、金融交易）能夠留在其產生的地方，同時仍然貢獻於機器學習模型的改進，有效平衡了隱私保護和數據價值利用。此外，聯邦學習常與差分隱私、安全多方計算等技術結合，進一步增強隱私保護。\\n(A) 錯誤。將所有原始數據集中到中央伺服器是傳統中心化機器學習的特點，而聯邦學習正是為了避免這種集中化而設計的。\\n(C) 錯誤。聯邦學習仍然需要數據進行訓練，但數據保持在本地設備或機構，不會被集中收集。\\n(D) 錯誤。聯邦學習的核心目標之一是保護用戶數據隱私，用戶數據不會在模型訓練完成後被公開，而是始終保持在本地。"},{"question_text":"在處理大數據時，為確保數據在傳輸和儲存過程中的機密性，防止未經授權的訪問和竊取，最常用的安全措施是什麼？","options":{"A":"不對數據進行任何處理","B":"使用強加密技術 (如傳輸層加密TLS/SSL和靜態數據加密)","C":"將所有數據公開共享","D":"僅依賴防火牆保護"},"correct_answer":"B","solution":"(B) 正確。使用強加密技術是保護大數據在傳輸和儲存過程中機密性的最基本也是最有效的措施。這通常包括兩個層面：傳輸加密和靜態加密。傳輸加密（如TLS/SSL協議）確保數據在網絡傳輸過程中受到保護，防止中間人攻擊和竊聽。靜態加密（如AES、RSA算法）則保護存儲在磁盤或數據庫中的數據，即使物理存儲介質被盜，沒有密鑰也無法讀取數據。現代加密系統通常采用密鑰管理系統來安全管理密鑰，對敏感數據還可能應用端到端加密，確保數據在整個生命周期中都受到保護。根據多國法規要求（如GDPR、HIPAA、CCPA等），敏感個人數據的加密已成為合規的基本要求。\\n(A) 錯誤。不對數據進行任何處理會使其完全暴露於風險之中，這明顯違反了基本的安全實踐和許多數據保護法規的要求。\\n(C) 錯誤。將所有數據公開共享與數據安全和隱私保護的基本目標相悖，尤其是對於包含個人身份信息或敏感業務數據的大數據集。\\n(D) 錯誤。雖然防火牆是網絡安全的重要組成部分，但它僅提供網絡層面的保護，無法保護數據在傳輸過程中的安全（除非配合其他技術），也不能保護已被授權訪問系統的內部威脅。數據安全需要多層次防護策略，其中加密是核心層面。"},{"question_text":"當AI模型因為訓練數據中存在的偏見而對不同性別或種族的群體做出不公平的決策時，這主要涉及到AI的哪個層面的問題？","options":{"A":"模型計算效率","B":"AI倫理中的公平性 (Fairness)","C":"模型可擴展性","D":"數據儲存成本"},"correct_answer":"B","solution":"(B) 正確。AI模型對不同性別或種族群體做出不公平決策的問題，直接涉及AI倫理中的公平性(Fairness)問題。AI公平性關注的是算法和模型的決策是否對不同群體（特別是那些歷史上被邊緣化的群體）提供平等的對待和機會。當訓練數據中存在系統性偏見時，模型可能會學習並放大這些偏見，導致對某些群體的歧視性結果。例如，招聘算法可能偏向特定性別、貸款審批系統可能對特定種族不公平、臉部識別系統可能在識別不同膚色人群時表現不一致。這類問題引發了對AI系統的倫理問題、社會影響和法律責任的廣泛討論。公平性評估通常採用多種指標，如統計平等、機會平等和決策結果平等等。解決方案包括更平衡的訓練數據、去偏算法、模型中立性檢測工具等。\\n(A) 錯誤。模型計算效率主要關注的是算法執行速度和資源消耗，與模型決策的公平性問題無關。\\n(C) 錯誤。模型可擴展性指的是模型處理更大規模數據或部署到更多用戶的能力，不直接涉及偏見和不公平決策問題。\\n(D) 錯誤。數據儲存成本是技術和財務層面的考量，與模型決策公平性沒有直接關係。"},{"question_text":"下列哪項技術不是典型的隱私增強技術 (PETs)？","options":{"A":"同態加密 (Homomorphic Encryption)","B":"安全多方計算 (Secure Multi-party Computation)","C":"差分隱私 (Differential Privacy)","D":"公開數據集共享 (Public Dataset Sharing without any modification)"},"correct_answer":"D","solution":"(D) 正確。公開數據集共享（不做任何修改）不是隱私增強技術(PETs)，相反，它可能會帶來嚴重的隱私風險。隱私增強技術(Privacy-Enhancing Technologies)是專門設計用來保護數據隱私的方法和工具，允許在保護個人或敏感信息的同時實現數據分析和利用。直接公開共享未經處理的數據集，特別是包含個人信息的數據集，可能導致隱私洩露、身份重識別風險，甚至違反數據保護法規如GDPR。\\n(A) 錯誤。同態加密是一種加密技術，允許在加密數據上直接執行計算，而無需先解密。這意味著可以對加密數據進行分析，同時保護原始數據的機密性，是重要的隱私增強技術。\\n(B) 錯誤。安全多方計算允許多個參與方共同計算函數，每方只提供自己的輸入，而不揭示其輸入給其他參與者。這種技術使多個組織能夠協作分析彼此的數據，同時保護各自數據的隱私。\\n(C) 錯誤。差分隱私是一種在數據分析結果中添加精確控制的噪聲的技術，確保分析結果不會顯著受到任何單個個體數據的影響，從而保護個體隱私，是現代隱私保護的核心技術之一。"}]}}}}}}')}),U("gDbeG",function(e,t){e.exports=JSON.parse('{"L23":{"title":"機器學習技術與應用","sections":{"L231":{"title":"機器學習基礎數學","sub_sections":{"L23101":{"title":"機率/統計之機器學習基礎應用","questions":[{"question_text":"在機器學習中，貝氏定理 (Bayes\' Theorem) 主要用於什麼情境？","options":{"A":"計算數據的平均值與變異數","B":"根據新的證據更新事件發生的機率 (計算後驗機率)","C":"進行線性迴歸模型的參數估計","D":"判斷兩組數據的平均數是否有顯著差異"},"correct_answer":"B","solution":"(B) 正確。貝氏定理 (Bayes\' Theorem) 描述了在已知某些條件的情況下，某一事件發生的機率。在機器學習中，它常被用於根據觀測到的新證據（數據）來更新我們對某個假設或事件發生機率的信念，即計算後驗機率 (Posterior Probability)。例如，在樸素貝氏分類器中，就是利用貝氏定理來預測樣本屬於特定類別的後驗機率。\\n(A) 錯誤。計算數據的平均值與變異數屬於描述性統計 (Descriptive Statistics) 的範疇，用於總結數據的基本特徵，與貝氏定理直接更新機率的功能不同。\\n(C) 錯誤。進行線性迴歸模型的參數估計通常使用最小平方法 (Least Squares Method) 或最大概似估計 (Maximum Likelihood Estimation) 等方法，而非直接應用貝氏定理來估計參數（雖然貝氏線性迴歸會用到貝氏方法，但題目問的是貝氏定理的主要用途）。\\n(D) 錯誤。判斷兩組數據的平均數是否有顯著差異通常使用假設檢定中的 t-檢定 (t-test) 或 ANOVA 等統計方法，與貝氏定理更新機率的核心思想不同。"},{"question_text":"最大概似估計 (Maximum Likelihood Estimation, MLE) 的核心思想是什麼？","options":{"A":"選擇一組參數，使得在這些參數下，觀測到目前樣本數據的機率最小","B":"選擇一組參數，使得在這些參數下，觀測到目前樣本數據的機率最大","C":"選擇一組參數，使得模型的複雜度最低","D":"選擇一組參數，使得模型的預測誤差最小"},"correct_answer":"B","solution":"(B) 正確。最大概似估計 (Maximum Likelihood Estimation, MLE) 是一種在給定觀測數據的情況下，估計模型參數的方法。其核心思想是：選擇一組能夠使得「已觀測到的樣本數據出現的機率（即概似函數值）」最大的參數值，作為參數的最佳估計。換句話說，我們認為最合理的參數估計，應該是那個最能解釋我們手中現有數據的參數。\\n(A) 錯誤。這與MLE的核心思想相反。MLE旨在最大化觀測數據出現的機率，而非最小化。\\n(C) 錯誤。選擇使得模型複雜度最低的原則通常與奧卡姆剃刀原則 (Occam\'s Razor) 或正規化 (Regularization) 方法相關，旨在防止過擬合，而非MLE的核心思想。MLE本身不直接考慮模型複雜度，而是專注於數據的概似程度。\\n(D) 錯誤。選擇使得模型的預測誤差最小是許多機器學習模型訓練的目標，例如透過最小化損失函數（如均方誤差、交叉熵）來實現。雖然MLE的結果往往能導向預測誤差較小的模型，但其直接優化的目標是概似函數，而非預測誤差本身。"},{"question_text":"在假設檢定中，若p值 (p-value) 小於顯著水準 (significance level, α)，通常會做出何種決策？","options":{"A":"接受虛無假設 (Null Hypothesis)","B":"拒絕虛無假設，接受對立假設 (Alternative Hypothesis)","C":"增加樣本數重新進行檢定","D":"p值與顯著水準無關"},"correct_answer":"B","solution":"(B) 正確。在假設檢定中，p值 (p-value) 是指在虛無假設 (Null Hypothesis, H0) 為真的前提下，觀測到目前樣本結果或更極端結果的機率。顯著水準 (significance level, α) 是一個預先設定的閾值（通常是0.05或0.01），代表我們願意承擔的犯第一型錯誤（即錯誤地拒絕一個真實的虛無假設）的最大機率。當計算出來的p值小於顯著水準α時，表示觀測到的數據與虛無假設的預期差異足夠大，這種差異不太可能是由隨機抽樣造成的。因此，我們有足夠的證據拒絕虛無假設，並接受對立假設 (Alternative Hypothesis, H1 或 Ha)。\\n(A) 錯誤。接受虛無假設是在p值大於或等於顯著水準α時的決策，表示沒有足夠的證據拒絕虛無假設。\\n(C) 錯誤。雖然增加樣本數可能會影響檢定結果（例如增加檢定力），但當p值小於α時，標準的決策是拒絕虛無假設，而不是立即要求增加樣本數。是否需要增加樣本數是另一個層面的考量，例如檢定力不足或結果不夠精確時。\\n(D) 錯誤。p值與顯著水準密切相關，它們是做出統計決策的關鍵依據。決策規則就是比較p值和α的大小。"},{"question_text":"下列何種機率分佈常用於描述在固定時間間隔或空間區域內，某事件發生次數的機率？","options":{"A":"常態分佈 (Normal Distribution)","B":"伯努利分佈 (Bernoulli Distribution)","C":"二項分佈 (Binomial Distribution)","D":"泊松分佈 (Poisson Distribution)"},"correct_answer":"D","solution":"(D) 正確。泊松分佈 (Poisson Distribution) 是一種離散機率分佈，用於描述在一個固定的時間間隔、空間區域、或指定的單位內，某一獨立事件發生的平均次數已知（通常用λ表示）的情況下，該事件實際發生k次的機率。例如，一小時內到達某服務台的顧客人數、一頁書中的錯字數量等，都可能服從泊松分佈。\\n(A) 錯誤。常態分佈 (Normal Distribution)，也稱高斯分佈，是一種連續機率分佈，描述了許多自然現象中連續變量的分佈情況，其圖形呈鐘形。它與描述固定區間內事件發生次數的泊松分佈不同。\\n(B) 錯誤。伯努利分佈 (Bernoulli Distribution) 是一種離散機率分佈，描述的是單次隨機試驗的結果，該試驗只有兩種可能的結果（例如成功/失敗，正面/反面），通常用0和1表示。它關注的是單次試驗，而非固定區間內的發生次數。\\n(C) 錯誤。二項分佈 (Binomial Distribution) 是一種離散機率分佈，描述的是在n次獨立的伯努利試驗中，成功發生k次的機率，其中每次試驗成功的機率p保持不變。它關注的是固定次數試驗中的成功次數，而泊松分佈關注的是固定區間內的事件發生次數，且泊松分佈可以看作是當n很大、p很小時二項分佈的極限情況。"}]},"L23102":{"title":"線性代數之機器學習基礎應用","questions":[{"question_text":"在機器學習中，特徵向量 (feature vector) 通常如何表示？","options":{"A":"一個純量 (scalar)","B":"一個包含多個數值的一維陣列或向量","C":"一個二維的數值表格 (矩陣)","D":"一個高維的張量 (tensor)"},"correct_answer":"B","solution":"(B) 正確。在機器學習中，一個樣本或一個觀測對象通常由一組特徵 (features) 來描述。這些特徵的數值被組織成一個有序的列表或陣列，稱為特徵向量 (feature vector)。每個特徵向量代表數據集中的一個實例，向量中的每個元素對應一個特定的特徵值。因此，它是一個包含多個數值的一維陣列或向量。\\n(A) 錯誤。一個純量 (scalar) 是一個單一的數值，它只能表示一個特徵，而特徵向量通常包含描述一個樣本的多個特徵。\\n(C) 錯誤。一個二維的數值表格通常表示一個矩陣 (matrix)。在機器學習中，整個數據集（包含多個樣本的特徵向量）可以表示為一個矩陣，其中每一行（或每一列，取決於約定）是一個特徵向量。但單個樣本的特徵向量本身是一維的。\\n(D) 錯誤。一個高維的張量 (tensor) 是向量和矩陣向更高維度的推廣。例如，彩色圖像可以表示為三維張量（高度 x 寬度 x 顏色通道）。雖然某些類型的數據（如圖像、影片）可以用張量表示，並且張量中的某個切片可能被視為特徵向量，但「特徵向量」本身最基礎和普遍的定義是一個一維的數值陣列。"},{"question_text":"計算兩個向量的點積 (dot product) 在機器學習中有何用途？","options":{"A":"判斷兩個向量是否正交 (垂直)","B":"計算向量的長度或大小","C":"作為神經網路中加權和計算的一部分","D":"以上皆是"},"correct_answer":"D","solution":"(D) 正確。向量點積在機器學習中有多種重要用途：\\n(A) 判斷兩個向量是否正交：如果兩個非零向量的點積為0，則它們互相正交（垂直）。這在理解特徵之間的關係或某些演算法（如PCA中的主成分）時很有用。\\n(B) 計算向量的長度或大小（範數）：一個向量與其自身的點積的平方根即為該向量的歐幾里德長度（L2範數）。即 ||v|| = sqrt(v ⋅ v)。向量長度在距離計算、正規化等操作中非常關鍵。\\n(C) 作為神經網路中加權和計算的一部分：在神經網路的每個神經元中，輸入特徵向量會與權重向量進行點積運算，然後加上一個偏置項，再通過活化函數。這個點積（加權和）是神經元計算的核心步驟。\\n因此，以上所有選項都是向量點積在機器學習中的正確用途。"},{"question_text":"奇異值分解 (Singular Value Decomposition, SVD) 是一種重要的矩陣分解技術，它在機器學習中的應用不包含下列何者？","options":{"A":"降維 (Dimensionality Reduction)，如主成分分析 (PCA) 的一種實現方式","B":"推薦系統中的協同過濾","C":"自然語言處理中的潛在語義分析 (LSA)","D":"直接用於訓練深度卷積神經網路的卷積層"},"correct_answer":"D","solution":"(D) 正確。奇異值分解 (SVD) 是一種強大的矩陣分解技術，廣泛應用於數據科學和機器學習中。然而，它並不直接用於訓練深度卷積神經網路 (CNN) 的卷積層。CNN的卷積層是透過反向傳播演算法和梯度下降來學習其卷積核（權重）的，而不是直接使用SVD的結果作為卷積核。\\n(A) 錯誤，這是SVD的應用。SVD是主成分分析 (PCA) 的一種數學基礎和實現方式。透過SVD可以找到數據的主要變異方向，從而進行降維。\\n(B) 錯誤，這是SVD的應用。在推薦系統中，SVD常被用於協同過濾，例如透過分解用戶-物品評分矩陣來發現潛在特徵，進而預測用戶對未評分物品的偏好。\\n(C) 錯誤，這是SVD的應用。在自然語言處理中，潛在語義分析 (Latent Semantic Analysis, LSA) 或潛在語義索引 (Latent Semantic Indexing, LSI) 利用SVD來分析詞彙-文檔矩陣，以捕捉詞彙和文檔之間的潛在語義關係，用於資訊檢索和文本分析。"},{"question_text":"在線性代數中，矩陣的特徵值 (eigenvalue) 與特徵向量 (eigenvector) 描述了矩陣在特定方向上的什麼特性？","options":{"A":"矩陣的行數與列數","B":"矩陣經過線性變換後，特徵向量的方向不變，僅在長度上以特徵值為比例進行縮放","C":"矩陣的轉置與逆矩陣","D":"矩陣的行列式值"},"correct_answer":"B","solution":"(B) 正確。對於一個給定的方陣A，如果存在一個非零向量v和一個純量λ，使得Av = λv成立，那麼λ就被稱為矩陣A的一個特徵值 (eigenvalue)，而v則被稱為對應於特徵值λ的特徵向量 (eigenvector)。這個等式的幾何意義是，當矩陣A對特徵向量v進行線性變換時，其效果僅僅是將向量v在其原始方向上進行縮放，縮放的比例因子就是特徵值λ。特徵向量的方向在變換後保持不變（或者方向相反，如果特徵值為負）。\\n(A) 錯誤。矩陣的行數與列數描述的是矩陣的維度或大小，與特徵值和特徵向量所描述的線性變換特性不同。\\n(C) 錯誤。矩陣的轉置 (transpose) 是將矩陣的行和列互換得到的新矩陣。逆矩陣 (inverse matrix) 是指與原矩陣相乘結果為單位矩陣的矩陣（如果存在）。這些是矩陣的屬性或相關矩陣，但不是特徵值和特徵向量直接描述的特性。\\n(D) 錯誤。矩陣的行列式 (determinant) 是一個與方陣相關的純量值，它可以提供關於矩陣是否可逆、線性變換對面積或體積的影響等信息，但它本身不是特徵值或特徵向量所描述的「特定方向上的特性」。特徵值的乘積等於行列式值（對於某些類型的矩陣），但這是一個間接關係。"}]},"L23103":{"title":"數值優化技術與方法","questions":[{"question_text":"梯度下降法 (Gradient Descent) 是一種常用的優化演算法，其更新參數的主要依據是什麼？","options":{"A":"損失函數的二階導數 (Hessian矩陣)","B":"損失函數對於模型參數的梯度 (一階導數)","C":"隨機選擇一個方向進行更新","D":"損失函數本身的值"},"correct_answer":"B","solution":"(B) 正確。梯度下降法 (Gradient Descent) 是一種迭代優化演算法，用於尋找函數的局部最小值。在機器學習中，這個函數通常是損失函數 (Loss Function)，而我們希望找到使損失函數最小化的模型參數。梯度是函數在某一點上變化最快（上升最快）的方向，其負方向則是函數下降最快的方向。因此，梯度下降法透過計算損失函數對於模型參數的梯度（即一階偏導數向量），然後沿著梯度的負方向按一定步長（學習率）更新參數，從而逐步逼近損失函數的最小值點。\\n(A) 錯誤。損失函數的二階導數（Hessian矩陣）被用於更高級的優化方法，如牛頓法 (Newton\'s method) 或擬牛頓法 (Quasi-Newton methods)。這些方法可以利用曲率信息來加速收斂，但梯度下降法本身主要依賴一階導數（梯度）。\\n(C) 錯誤。隨機選擇一個方向進行更新的方法，如隨機搜索 (Random Search)，通常效率較低，且不保證能找到最優解。梯度下降法是基於梯度的確定性方向（或其估計）進行更新的。\\n(D) 錯誤。雖然損失函數本身的值用於評估當前參數的好壞，但參數更新的方向是由梯度決定的，而不是直接由損失函數的值決定的。梯度指明了如何調整參數以最大程度地減少損失。"},{"question_text":"在梯度下降法中，學習率 (learning rate) 的選擇有何影響？","options":{"A":"學習率越大，收斂速度一定越快且結果越好","B":"學習率越小，收斂速度一定越慢但結果越好","C":"學習率過大可能導致震盪或無法收斂；學習率過小可能導致收斂速度過慢","D":"學習率對模型訓練沒有實質影響"},"correct_answer":"C","solution":"(C) 正確。學習率 (learning rate) 是梯度下降法中的一個關鍵超參數，它控制了每一步參數更新的幅度（即沿著梯度負方向移動的距離）。學習率的選擇對模型的訓練過程和最終性能有顯著影響：\\n-   **學習率過大**：如果學習率設置得太大，參數更新的步長可能過大，導致在損失函數的谷底附近來回震盪，甚至越過最小值點，使得損失函數不降反升，最終無法收斂到最優解。\\n-   **學習率過小**：如果學習率設置得太小，參數更新的步長會非常緩慢，導致模型收斂到最優解的速度非常慢，需要更多的迭代次數，增加了訓練時間。\\n因此，選擇一個合適的學習率至關重要，它需要在收斂速度和收斂穩定性之間取得平衡。\\n(A) 錯誤。學習率越大，收斂速度不一定越快，如果過大反而可能導致不收斂或震盪，結果也可能更差。\\n(B) 錯誤。學習率越小，收斂速度確實會變慢，但並不保證結果一定越好。過小的學習率可能導致模型陷入局部最小值，或者需要極長的訓練時間才能達到一個好的解。\\n(D) 錯誤。學習率對模型訓練有非常實質的影響，是梯度下降法能否成功找到最優解的關鍵因素之一。"},{"question_text":"隨機梯度下降法 (Stochastic Gradient Descent, SGD) 與批次梯度下降法 (Batch Gradient Descent) 的主要區別是什麼？","options":{"A":"SGD 使用整個訓練集的梯度來更新參數，BGD 使用單一樣本","B":"SGD 每次使用單一或小批量樣本的梯度來更新參數，BGD 使用整個訓練集","C":"SGD 的計算成本通常高於 BGD","D":"BGD 的收斂路徑通常比 SGD 更不穩定"},"correct_answer":"B","solution":"(B) 正確。梯度下降法有幾種變體，主要區別在於每次參數更新時使用的數據量：\\n-   **批次梯度下降法 (Batch Gradient Descent, BGD)**：在每次參數更新時，使用整個訓練集的數據來計算損失函數的梯度。這種方法計算的梯度更準確，收斂路徑更穩定，但當訓練集非常大時，每次迭代的計算成本很高，且可能難以處理無法一次性載入記憶體的數據集。\\n-   **隨機梯度下降法 (Stochastic Gradient Descent, SGD)**：在每次參數更新時，僅使用訓練集中的一個隨機選擇的樣本來計算梯度。這種方法每次迭代的計算成本非常低，更新速度快，並且其隨機性有助於跳出局部最小值。然而，由於每次只用一個樣本，梯度估計的變異較大，導致收斂路徑較為震盪。\\n-   **小批量梯度下降法 (Mini-batch Gradient Descent)**：這是介於BGD和SGD之間的一種折衷方法。它在每次參數更新時，使用訓練集中的一小部分隨機樣本（一個mini-batch）來計算梯度。這種方法結合了BGD的穩定性和SGD的效率，是目前深度學習中最常用的梯度下降變體。\\n題目中的SGD指的是使用單一或小批量樣本，與BGD使用整個訓練集形成對比。\\n(A) 錯誤。這描述反了。BGD使用整個訓練集，SGD使用單一（或小批量）樣本。\\n(C) 錯誤。SGD（尤其是單樣本SGD）每次迭代的計算成本遠低於BGD，因為它只需要處理一個樣本而不是整個訓練集。即使是Mini-batch SGD，其計算成本也通常低於BGD（除非mini-batch大小等於整個訓練集大小）。\\n(D) 錯誤。由於BGD使用整個訓練集的梯度，其收斂路徑通常比SGD更平滑、更穩定。SGD由於每次使用隨機樣本估計梯度，其收斂路徑會更加震盪和不穩定。"},{"question_text":"在機器學習中，損失函數 (Loss Function) 的主要作用是什麼？","options":{"A":"衡量模型預測的準確程度，數值越大代表模型越好","B":"衡量模型預測值與真實值之間的差異，優化的目標是最小化損失函數","C":"用於對輸入數據進行特徵提取","D":"決定模型架構的複雜度"},"correct_answer":"B","solution":"(B) 正確。損失函數（也稱為成本函數或目標函數）在機器學習中扮演著核心角色。它的主要作用是量化模型預測結果與實際真實值（標籤）之間的差異或「損失」。一個好的模型應該使其預測盡可能接近真實值，因此損失函數的值越小，通常表示模型的性能越好。在模型訓練過程中，優化的目標就是調整模型的參數（例如神經網路的權重），以最小化損失函數的值。\\n(A) 錯誤。損失函數衡量的是模型的「錯誤」或「損失」程度，因此其數值越小代表模型越好，而非越大越好。準確度 (Accuracy) 等指標才是數值越大代表模型越好。\\n(C) 錯誤。特徵提取 (Feature Extraction) 是數據預處理或模型架構的一部分（例如CNN中的卷積層），旨在從原始數據中抽取出更有代表性、更能區分不同類別的特徵。損失函數是用於評估和指導模型學習這些特徵（以及後續的分類/迴歸任務）的好壞，而不是直接進行特徵提取。\\n(D) 錯誤。決定模型架構的複雜度（例如神經網路的層數、神經元數量，或決策樹的深度等）是模型設計階段的任務，通常由開發者根據問題特性、數據量和計算資源等因素來決定。損失函數本身不決定模型架構的複雜度，但模型的複雜度會影響其最小化損失函數的能力以及是否容易過擬合。"}]}}},"L232":{"title":"機器學習與深度學習","sub_sections":{"L23201":{"title":"機器學習原理與技術","questions":[{"question_text":"下列何者是監督式學習 (Supervised Learning) 的主要特點？","options":{"A":"訓練數據沒有標籤，模型需要自行找出數據中的結構","B":"訓練數據包含輸入特徵以及對應的正確輸出標籤","C":"模型透過與環境互動，學習最大化獎勵的策略","D":"主要用於數據降維與視覺化"},"correct_answer":"B","solution":"(B) 正確。監督式學習 (Supervised Learning) 是機器學習的一大類別，其核心特點是使用帶有標籤 (labeled) 的訓練數據。這意味著提供給模型的每個輸入樣本（由一組特徵描述）都配有一個已知的、正確的輸出結果或目標值（即標籤）。模型的任務是學習從輸入特徵到輸出標籤之間的映射關係，以便能夠對新的、未見過的輸入數據進行準確的預測。常見的監督式學習任務包括分類 (Classification) 和迴歸 (Regression)。\\n(A) 錯誤。訓練數據沒有標籤，模型需要自行找出數據中的內在結構、模式或分組，這描述的是非監督式學習 (Unsupervised Learning) 的主要特點，例如分群 (Clustering) 或關聯規則學習 (Association Rule Learning)。\\n(C) 錯誤。模型透過與環境互動，並根據收到的獎勵或懲罰來學習最佳行動策略，以最大化長期累積獎勵，這描述的是強化學習 (Reinforcement Learning) 的主要特點。\\n(D) 錯誤。數據降維 (Dimensionality Reduction)，如主成分分析 (PCA)，以及數據視覺化，通常屬於非監督式學習的範疇，因為它們旨在探索數據的結構或以更簡潔的方式表示數據，而不一定需要預先定義的標籤。雖然監督式方法也可以用於特徵選擇（一種形式的降維），但「主要用於數據降維與視覺化」更符合非監督式學習的描述。"},{"question_text":"當一個機器學習模型在訓練數據上表現良好，但在未見過的測試數據上表現很差時，這種現象稱為什麼？","options":{"A":"欠擬合 (Underfitting)","B":"過擬合 (Overfitting)","C":"偏差 (Bias)","D":"變異 (Variance)"},"correct_answer":"B","solution":"(B) 正確。過擬合 (Overfitting) 是指機器學習模型在訓練數據上學到了過多的細節和噪聲，導致其對訓練數據的擬合非常好（例如，訓練誤差很低），但在新的、未見過的數據（如測試數據或實際應用中的數據）上表現不佳（例如，測試誤差很高）。模型失去了泛化能力，無法很好地適應新的數據。這通常發生在模型過於複雜（相對於數據量和數據的真實複雜度而言）或者訓練時間過長的情況下。\\n(A) 錯誤。欠擬合 (Underfitting) 是指模型過於簡單，無法捕捉到數據中的基本模式和規律，導致其在訓練數據上和測試數據上都表現不佳。模型沒有充分學習數據的特性。\\n(C) 錯誤。偏差 (Bias) 是指模型預測值的期望與真實值之間的差異，衡量的是模型的擬合能力。高偏差通常意味著模型欠擬合，無法很好地捕捉數據的真實關係。雖然過擬合與偏差和變異有關（通常是低偏差、高變異），但題目描述的現象直接指的是過擬合。\\n(D) 錯誤。變異 (Variance) 是指模型在不同訓練數據集上訓練時，其預測結果的變化程度，衡量的是模型對訓練數據變化的敏感性。高變異通常意味著模型過擬合，對訓練數據中的噪聲過於敏感。與偏差類似，雖然過擬合通常伴隨著高變異，但題目描述的現象本身被稱為過擬合。"},{"question_text":"交叉驗證 (Cross-Validation) 在機器學習中的主要目的是什麼？","options":{"A":"增加訓練數據的數量","B":"更可靠地評估模型的泛化能力，並輔助模型選擇與超參數調整","C":"加速模型的訓練過程","D":"降低模型的複雜度"},"correct_answer":"B","solution":"(B) 正確。交叉驗證 (Cross-Validation) 是一種評估機器學習模型泛化能力的統計方法。它將原始數據集劃分為多個子集（或稱為「摺」，folds），然後輪流使用其中一個子集作為驗證集（用於評估模型），其餘子集作為訓練集（用於訓練模型）。這個過程重複多次，每次使用不同的子集作為驗證集。最後，將多次評估的結果（例如準確率、誤差）平均起來，得到一個更穩定、更可靠的模型性能估計。交叉驗證的主要目的包括：\\n-   **更可靠地評估模型的泛化能力**：相比於單次劃分訓練集和測試集，交叉驗證可以減少因數據劃分的隨機性帶來的評估偏差，從而更準確地反映模型在未見數據上的表現。\\n-   **輔助模型選擇與超參數調整**：在比較不同模型或調整模型超參數時，可以使用交叉驗證來選擇在驗證集上平均表現最好的模型或超參數組合，以避免過擬合到特定的驗證集。\\n(A) 錯誤。交叉驗證本身並不增加訓練數據的總量，它只是更有效地利用現有的數據進行模型訓練和評估。數據增強 (Data Augmentation) 等技術才是用於增加訓練數據數量的方法。\\n(C) 錯誤。交叉驗證通常會增加總體的計算時間，因為模型需要被訓練和評估多次（例如，k-摺交叉驗證需要訓練k次模型）。它並不能加速單個模型的訓練過程。\\n(D) 錯誤。降低模型的複雜度通常是透過正規化 (Regularization)、剪枝 (Pruning，如決策樹) 或選擇更簡單的模型架構來實現的，目的是防止過擬合。交叉驗證本身是評估工具，雖然其結果可能引導我們選擇一個複雜度較低的模型（如果該模型泛化能力更好），但它不直接降低模型的複雜度。"},{"question_text":"偏差-變異權衡 (Bias-Variance Tradeoff) 描述了機器學習模型中的哪種關係？","options":{"A":"模型的偏差越高，變異通常也越高","B":"模型的偏差越低，變異通常也越低","C":"降低模型的偏差可能會導致變異增加，反之亦然，需要在兩者間取得平衡","D":"偏差與變異是完全獨立的，不存在權衡關係"},"correct_answer":"C","solution":"(C) 正確。偏差-變異權衡 (Bias-Variance Tradeoff) 是機器學習中一個核心概念，描述了模型預測誤差的兩個主要來源之間的關係：\\n-   **偏差 (Bias)**：指模型預測值的期望與真實值之間的差異。高偏差意味著模型對數據的假設過於簡單，未能捕捉到數據的真實規律，導致欠擬合 (Underfitting)。\\n-   **變異 (Variance)**：指模型在不同訓練數據集上訓練時，其預測結果的變化程度或不穩定性。高變異意味著模型對訓練數據中的噪聲或隨機波動過於敏感，導致過擬合 (Overfitting)。\\n偏差-變異權衡指出，通常情況下，當我們試圖降低模型的偏差時（例如，使用更複雜的模型），其變異可能會增加；反之，當我們試圖降低模型的變異時（例如，使用更簡單的模型或正規化），其偏差可能會增加。因此，在模型選擇和訓練過程中，需要在偏差和變異之間找到一個平衡點，以最小化總體的預期泛化誤差。\\n(A) 錯誤。高偏差（欠擬合）的模型通常對數據不敏感，因此其變異可能較低。而高變異（過擬合）的模型通常能夠很好地擬合訓練數據，偏差可能較低。\\n(B) 錯誤。理想情況下我們希望偏差和變異都低，但實際中兩者往往存在權衡關係，很難同時達到最低。\\n(D) 錯誤。偏差與變異並非完全獨立，它們之間存在著此消彼長的權衡關係，是影響模型泛化能力的兩個重要且相互關聯的因素。"},{"question_text":"集成學習 (Ensemble Learning) 方法，如隨機森林和梯度提升樹，其核心思想是什麼？","options":{"A":"只使用單一且最強大的模型進行預測","B":"將多個弱學習器 (weak learners) 組合起來，形成一個更強大、更穩健的學習器","C":"專注於簡化模型的結構以提高解釋性","D":"主要用於無監督學習任務"},"correct_answer":"B","solution":"(B) 正確。集成學習 (Ensemble Learning) 是一種機器學習範式，其核心思想是「三個臭皮匠，勝過一個諸葛亮」。它不依賴於單一的、可能存在缺陷的模型，而是將多個相對簡單或性能較弱的學習器（稱為基學習器或弱學習器，weak learners）的預測結果以某種方式組合起來，從而創建一個整體性能更好、更穩健、泛化能力更強的強學習器 (strong learner)。常見的集成學習方法包括Bagging（如隨機森林Random Forest）、Boosting（如梯度提升樹Gradient Boosting Trees, AdaBoost）和Stacking等。\\n(A) 錯誤。這與集成學習的思想相反。集成學習正是為了避免過度依賴單一模型，特別是當單一最強模型可能很難找到或容易過擬合時。\\n(C) 錯誤。雖然某些集成方法（如隨機森林中的特徵重要性）可以提供一定的可解釋性，但集成學習的主要目標通常是提升預測性能和模型的穩健性，而不是簡化模型結構以提高解釋性。事實上，集成模型通常比單個基學習器更複雜，解釋性也可能更差。\\n(D) 錯誤。集成學習方法主要應用於監督式學習任務（分類和迴歸），例如隨機森林和梯度提升樹都是監督式學習演算法。雖然集成思想也可以應用於非監督式學習（例如集成聚類），但其最典型和廣泛的應用是在監督式學習中。"}]},"L23202":{"title":"常見機器學習演算法","questions":[{"question_text":"下列哪種演算法常用於解決二元分類問題，並透過一個S型函數 (Sigmoid function) 將線性輸出轉換為機率值？","options":{"A":"線性迴歸 (Linear Regression)","B":"K-均值分群 (K-Means Clustering)","C":"羅吉斯迴歸 (Logistic Regression)","D":"主成分分析 (Principal Component Analysis)"},"correct_answer":"C","solution":"(C) 正確。羅吉斯迴歸 (Logistic Regression) 是一種廣泛應用於解決二元分類問題（即預測結果只有兩個類別，例如是/否、成功/失敗）的統計學習方法。儘管其名稱中帶有「迴歸」，但它本質上是一個分類演算法。羅吉斯迴歸首先計算輸入特徵的線性組合（類似於線性迴歸），然後將這個線性輸出透過一個S型函數（Sigmoid function，也稱為Logistic function）映射到0到1之間的值。這個值可以被解釋為樣本屬於某個正類別的機率。如果機率大於某個閾值（通常是0.5），則預測為正類別，否則預測為負類別。\\n(A) 錯誤。線性迴歸 (Linear Regression) 主要用於解決迴歸問題，即預測一個連續的數值輸出，而不是分類問題。它直接輸出特徵的線性組合，不使用S型函數將其轉換為機率。\\n(B) 錯誤。K-均值分群 (K-Means Clustering) 是一種非監督式學習演算法，用於將數據自動分組成K個不同的群體 (clusters)，它不需要標籤數據，也不是用於二元分類或輸出機率值。\\n(D) 錯誤。主成分分析 (Principal Component Analysis, PCA) 是一種非監督式學習的降維技術，用於找到數據中方差最大的方向（主成分），並將數據投影到這些方向上以減少特徵數量。它不直接用於分類或輸出機率。"},{"question_text":"決策樹 (Decision Tree) 演算法在進行節點分裂時，通常會選擇哪個特徵？","options":{"A":"隨機選擇一個特徵","B":"選擇能夠使得分裂後子節點的「純度」最高（例如，資訊增益最大或基尼不純度最小）的特徵","C":"選擇數值範圍最大的特徵","D":"選擇與目標變數相關性最小的特徵"},"correct_answer":"B","solution":"(B) 正確。決策樹 (Decision Tree) 是一種監督式學習演算法，它透過一系列的決策規則（以樹狀結構表示）來進行分類或迴歸。在構建決策樹的過程中，一個關鍵步驟是如何選擇最佳的特徵來分裂當前節點，以使得分裂後的子節點盡可能「純粹」（即子節點中的樣本盡可能屬於同一類別，或迴歸值盡可能相似）。常用的分裂標準包括：\\n-   **資訊增益 (Information Gain)**：基於熵 (Entropy) 的概念，選擇能夠最大程度減少分裂後子節點熵（不確定性）的特徵，即資訊增益最大的特徵。ID3演算法使用此標準。\\n-   **增益率 (Gain Ratio)**：對資訊增益進行校正，以避免偏向於選擇具有較多取值的特徵。C4.5演算法使用此標準。\\n-   **基尼不純度 (Gini Impurity)**：衡量從數據集中隨機選擇一個樣本，然後隨機分配一個標籤，該樣本被錯誤分類的機率。選擇能夠使得分裂後子節點基尼不純度最小（即純度最高）的特徵。CART (Classification and Regression Trees) 演算法使用此標準。\\n這些標準的核心思想都是選擇一個能夠最好地區分不同類別樣本的特徵進行分裂。\\n(A) 錯誤。隨機選擇特徵進行分裂是某些集成學習方法（如隨機森林中的部分隨機性）或極端隨機樹 (Extremely Randomized Trees) 的做法，但標準的決策樹演算法（如ID3, C4.5, CART）在選擇分裂特徵時是有明確的優化目標的，而不是完全隨機。\\n(C) 錯誤。特徵的數值範圍大小本身並不直接決定其對分類的貢獻。一個數值範圍小但區分能力強的特徵可能遠比一個數值範圍大但區分能力弱的特徵更適合用於分裂。\\n(D) 錯誤。決策樹的目標是找到與目標變數最相關、最能區分不同目標值的特徵來進行分裂，而不是選擇相關性最小的特徵。選擇相關性最小的特徵會導致分類效果很差。"},{"question_text":"支持向量機 (Support Vector Machine, SVM) 在進行分類時，其主要目標是找到什麼？","options":{"A":"一個能夠穿過最多數據點的超平面","B":"一個能夠將不同類別數據點分開，並且使得兩邊間隔 (margin) 最大的超平面","C":"一個能夠將所有數據點都包含在內的最小圓形","D":"數據點在低維空間中的最佳投影"},"correct_answer":"B","solution":"(B) 正確。支持向量機 (Support Vector Machine, SVM) 是一種強大的監督式學習演算法，常用於分類和迴歸任務。在分類任務中，SVM的核心思想是找到一個能夠將不同類別的數據點分隔開來的最佳決策邊界，這個決策邊界在二維空間中是一條直線，在更高維空間中則是一個超平面 (hyperplane)。SVM的「最佳」指的是這個超平面不僅能夠正確分開不同類別的數據，而且它到最近的來自兩個不同類別的數據點（這些點被稱為支持向量，support vectors）的距離（即間隔，margin）是最大的。最大化這個間隔有助於提高模型的泛化能力，使其對新的、未見過的數據有更好的分類效果。\\n(A) 錯誤。SVM的目標不是找到穿過最多數據點的超平面。事實上，決策超平面通常不會穿過任何數據點（除非是線性不可分的情況下使用軟間隔）。\\n(C) 錯誤。找到一個能夠將所有數據點都包含在內的最小圓形或球體，是與支持向量數據描述 (Support Vector Data Description, SVDD) 相關的概念，主要用於異常檢測或單類別分類，而不是標準SVM分類的主要目標。\\n(D) 錯誤。數據點在低維空間中的最佳投影通常與降維技術相關，例如主成分分析 (PCA)。雖然SVM可以與核技巧 (kernel trick) 結合，將數據映射到更高維的特徵空間以實現非線性分類，但其核心目標仍然是找到最大間隔的分類超平面，而不是尋找最佳投影。"},{"question_text":"K-近鄰演算法 (K-Nearest Neighbors, KNN) 如何對新的數據點進行分類或預測？","options":{"A":"建立一個複雜的數學模型來描述數據分佈","B":"找出訓練集中與新數據點最接近的K個鄰居，並根據這些鄰居的標籤進行投票或平均來決定新數據點的標籤","C":"透過梯度下降法優化一個損失函數","D":"將數據轉換到一個新的特徵空間"},"correct_answer":"B","solution":"(B) 正確。K-近鄰演算法 (K-Nearest Neighbors, KNN) 是一種簡單且直觀的非參數、懶惰學習 (lazy learning) 演算法，可用於分類和迴歸任務。其核心思想是「物以類聚」。當需要對一個新的、未標記的數據點進行預測時，KNN會執行以下步驟：\\n1.  計算新數據點與訓練集中所有已知數據點之間的距離（常用的距離度量包括歐幾里德距離、曼哈頓距離等）。\\n2.  選取距離新數據點最近的K個訓練數據點（即K個最近鄰居）。K是一個由使用者指定的超參數。\\n3.  對於分類問題，KNN會查看這K個鄰居的類別標籤，並採用「多數投票」的原則，將新數據點預測為K個鄰居中出現次數最多的那個類別。\\n4.  對於迴歸問題，KNN通常會計算這K個鄰居的目標值的平均數（或加權平均數），並將其作為新數據點的預測值。\\n(A) 錯誤。KNN是一種非參數方法，它不對數據分佈做任何假設，也不會建立一個明確的數學模型來描述數據分佈（如羅吉斯迴歸或SVM那樣）。它直接依賴於訓練樣本本身進行預測。\\n(C) 錯誤。KNN的訓練過程非常簡單，基本上只是儲存訓練數據。它不像許多其他機器學習演算法（如神經網路、羅吉斯迴歸）那樣需要透過梯度下降法等優化演算法來最小化一個損失函數以學習模型參數。\\n(D) 錯誤。KNN直接在原始特徵空間中計算距離並進行預測，它本身不涉及將數據轉換到一個新的特徵空間。某些演算法（如SVM中的核技巧或PCA）會進行特徵空間轉換，但這不是KNN的核心機制。"},{"question_text":"下列哪種演算法屬於非監督式學習，常用於將數據集自動分組成若干個相似的群體 (clusters)？","options":{"A":"隨機森林 (Random Forest)","B":"K-均值分群 (K-Means Clustering)","C":"梯度提升機 (Gradient Boosting Machine)","D":"樸素貝氏分類器 (Naive Bayes Classifier)"},"correct_answer":"B","solution":"(B) 正確。K-均值分群 (K-Means Clustering) 是一種經典且廣泛使用的非監督式學習演算法，其主要目的是將一個未標記的數據集劃分成K個互不相交的群體（或簇，clusters）。「非監督式」意味著算法在學習過程中不需要預先定義的類別標籤。K-Means透過迭代的方式，試圖最小化每個群體內數據點到該群體中心（質心，centroid）的平方距離之和，從而使得同一群體內的數據點盡可能相似，而不同群體之間的數據點盡可能不同。K是需要使用者預先指定的群體數量。\\n(A) 錯誤。隨機森林 (Random Forest) 是一種集成學習方法，屬於監督式學習演算法，常用於分類和迴歸問題。它透過構建多個決策樹並結合它們的預測結果來提高模型的性能和穩健性。\\n(C) 錯誤。梯度提升機 (Gradient Boosting Machine, GBM) 也是一種集成學習方法，屬於監督式學習演算法，常用於分類和迴歸問題。它透過迭代地訓練一系列弱學習器（通常是決策樹），每個新的學習器都試圖修正前面學習器的殘差，從而逐步提升整體模型的性能。\\n(D) 錯誤。樸素貝氏分類器 (Naive Bayes Classifier) 是一種基於貝氏定理的監督式學習演算法，常用於分類問題。它假設特徵之間在給定類別的條件下是相互獨立的（樸素假設）。"},{"solution":"(B) 正確。在機器學習中，「參數」與「超參數」是兩個截然不同的概念：\\n- **參數 (Parameters)**：是模型內部的變量，在訓練過程中從數據中學習並優化得到的。例如，線性迴歸中的係數、神經網絡中的權重和偏置等。這些參數直接影響模型對新數據的預測結果，是通過最小化損失函數（如梯度下降）來自動求解的。\\n- **超參數 (Hyperparameters)**：是模型外部的設置，需要在訓練前由人工設定，用於控制學習算法本身的行為。超參數不是從數據中學習得到的，而是需要通過經驗、嘗試或系統性的調參技術（如網格搜索、隨機搜索）來確定。常見的超參數包括：學習率、正則化系數、神經網絡的層數和每層神經元數量、決策樹的最大深度、集成學習中的基學習器數量等。\\n\\n(A) 錯誤。該選項將參數和超參數的定義顛倒了。超參數是需要人工設定的，而不是從數據中學習得到的；參數則是模型在訓練過程中學習得到的，而不是手動設定的。\\n(C) 錯誤。參數和超參數有本質的區別：一個是模型自動學習的，另一個是人工設定的；一個直接構成模型本身，另一個控制學習過程；它們絕不能互換使用。\\n(D) 錯誤。超參數不僅存在於深度學習模型中，幾乎所有機器學習算法都有超參數。例如，決策樹的最大深度、支持向量機的核參數、K-近鄰的K值等，都是這些傳統機器學習算法的超參數。"}]}}},"L233":{"title":"機器學習建模與參數調校","sub_sections":{"L23301":{"title":"數據預處理與特徵工程","questions":[{"question_text":"在機器學習中，特徵工程 (Feature Engineering) 的主要目的是什麼？","options":{"A":"減少訓練數據的數量以加快模型訓練速度","B":"收集和標記更多的訓練數據","C":"從原始數據中提取、轉換或創造更有用的特徵，以提高模型的性能","D":"隨機初始化模型的參數"},"correct_answer":"C","solution":"(C) 正確。特徵工程 (Feature Engineering) 是指從原始數據中提取、轉換或創造更有用、更能代表問題本質的特徵，以提高機器學習模型的性能的過程。特徵工程是機器學習流程中的一個關鍵步驟，因為模型的性能很大程度上取決於輸入特徵的品質。即使最先進的模型，如果餵以不當或不具代表性的特徵，也難以取得好的結果。良好的特徵工程能夠捕捉問題的本質、提高模型的預測能力，並有可能減少模型的複雜度或訓練時間。常見的特徵工程操作包括特徵提取（例如從文本或圖像中提取語義或視覺特徵）、特徵變換（例如標準化、對數變換）、特徵選擇（選取最相關或有用的特徵子集）和特徵創建（例如多特徵交互、多項式特徵）等。\\n(A) 錯誤。減少訓練數據的數量通常不是特徵工程的目的，反而可能導致模型性能下降。特徵工程是關於提高特徵的質量，而不是減少數據量。\\n(B) 錯誤。收集和標記更多的訓練數據通常屬於數據收集或數據增強的範疇，而不是特徵工程。雖然更多的高質量數據通常有助於提高模型性能，但特徵工程專注於從既有數據中提取更有用的特徵。\\n(D) 錯誤。隨機初始化模型的參數是模型訓練開始前的一個步驟，與特徵工程無關。特徵工程專注於數據層面的處理，而不是模型參數的設置。"},{"question_text":"當數據包含離群值 (outlier) 時，下列哪種特徵縮放方法更為穩健？","options":{"A":"Min-Max縮放 (Min-Max Scaling)","B":"標準化 (Standardization)","C":"量化 (Quantization)","D":"穩健縮放 (Robust Scaling)，如使用中位數和四分位距 (IQR)"},"correct_answer":"D","solution":"(D) 正確。當數據中存在離群值 (outliers) 時，基於中位數和四分位距 (Interquartile Range, IQR) 的縮放方法比基於均值和標準差或最大最小值的方法更為穩健。離群值會顯著影響均值、標準差、最大值和最小值，但對中位數和IQR的影響較小。在穩健縮放 (Robust Scaling) 中，每個特徵會先減去中位數（而不是均值），然後除以IQR（第75百分位點減去第25百分位點）。這種方法對離群值的敏感性較低，能夠保護其他數據點不受離群值的極端影響。\\n(A) 錯誤。Min-Max縮放將特徵的取值範圍縮放到指定區間（通常是[0, 1]）：$x_{\\\\text{scaled}} = \\\\frac{x - \\\\min(x)}{\\\\max(x) - \\\\min(x)}$。這種方法對離群值非常敏感，因為最大值和最小值直接參與計算，且極端值會壓縮其他正常值的分佈。\\n(B) 錯誤。標準化將特徵轉換為均值為0、標準差為1的分佈：$x_{\\\\text{standardized}} = \\\\frac{x - \\\\text{mean}(x)}{\\\\text{std}(x)}$。儘管標準化比Min-Max縮放對離群值的敏感性稍低（因為它使用了所有數據點來計算均值和標準差），但離群值仍然會影響均值和標準差的計算，從而影響整體的變換效果。\\n(C) 錯誤。量化是將連續特徵分割成有限數量的離散桶 (bins) 的過程。雖然這可以減少離群值的影響，但它也會丟失信息，且如何選擇桶的數量和界限也是一個需要考慮的問題。量化通常不是專門用來處理離群值的方法，而穩健縮放更適合處理有離群值的連續特徵。"},{"question_text":"處理類別型特徵 (categorical features) 的常用編碼方法不包括以下哪一種？","options":{"A":"獨熱編碼 (One-Hot Encoding)","B":"標籤編碼 (Label Encoding)","C":"標準化 (Standardization)","D":"目標編碼 (Target Encoding)"},"correct_answer":"C","solution":"(C) 正確。標準化 (Standardization) 是一種用於連續型特徵的縮放方法，它將特徵的分佈調整為均值為0、標準差為1的標準正態分佈。它不適用於類別型特徵，因為類別型特徵是離散的且沒有順序關係（名義型類別）或雖有順序但沒有定義明確的數值距離（順序型類別）。標準化針對的是連續型數值特徵。\\n(A) 錯誤。獨熱編碼 (One-Hot Encoding) 是一種常用的類別型特徵編碼方法，尤其適用於名義型類別（沒有內在順序的類別）。它為原始特徵中的每一個可能取值創建一個新的二進制特徵（0或1），用以表示原始特徵是否取該值。例如，顏色特徵[\\"紅\\", \\"綠\\", \\"藍\\"] 會被轉換為三個特徵 [紅: 0/1, 綠: 0/1, 藍: 0/1]。\\n(B) 錯誤。標籤編碼 (Label Encoding) 是一種簡單的類別型特徵編碼方法，它將每個類別映射為一個整數。例如，顏色特徵[\\"紅\\", \\"綠\\", \\"藍\\"] 可能被編碼為 [0, 1, 2]。這種方法適用於順序型類別，即類別之間存在明確的順序關係（如教育程度：小學、中學、大學）。對於名義型類別，標籤編碼可能引入不存在的順序關係，因此使用時需謹慎。\\n(D) 錯誤。目標編碼 (Target Encoding)，也稱為均值編碼 (Mean Encoding) 或似然編碼 (Likelihood Encoding)，是一種基於目標變數的類別型特徵編碼方法。對於分類問題，它會用每個類別中目標變數為正例的比例來替代該類別；對於迴歸問題，它會用每個類別中目標變數的平均值來替代該類別。這種方法能夠捕捉類別與目標之間的關係，適用於高基數類別（即取值種類很多的類別）。"},{"question_text":"以下哪種方法常用於選擇影響力較大的特徵，並減少特徵的數量？","options":{"A":"數據增強 (Data Augmentation)","B":"特徵選擇 (Feature Selection)","C":"批次正規化 (Batch Normalization)","D":"權重正則化 (Weight Regularization)"},"correct_answer":"B","solution":"(B) 正確。特徵選擇 (Feature Selection) 是從原始特徵集中選擇一個子集的過程，目的是減少特徵的數量、降低計算複雜度，同時保持或提高模型的性能。特徵選擇可以幫助減少過擬合、提高模型解釋性、減少訓練時間，以及降低「維度災難」的影響。常見的特徵選擇方法包括：\\n- **過濾法 (Filter Methods)**：基於統計指標評估每個特徵的重要性，與具體模型無關。例如根據相關性、卡方檢驗、互信息等。\\n- **包裝法 (Wrapper Methods)**：使用機器學習模型的性能作為選擇特徵的標準。例如遞歸特徵消除 (RFE)、前向選擇、後向消除等。\\n- **嵌入法 (Embedded Methods)**：在模型訓練過程中選擇特徵。例如使用L1正則化（Lasso）或樹模型（如隨機森林、XGBoost）中的特徵重要性評分來自動執行特徵選擇。\\n(A) 錯誤。數據增強 (Data Augmentation) 是一種通過對現有訓練數據進行變換來創建額外訓練樣本的技術，目的是增加訓練數據的多樣性和數量，提高模型的泛化能力。常見於圖像處理（如旋轉、裁剪、翻轉）、文本處理（如同義詞替換）等領域。數據增強與減少特徵數量的目標相反。\\n(C) 錯誤。批次正規化 (Batch Normalization) 是一種神經網路層，用於標準化每一層的輸入，使其均值接近0、方差接近1。其主要目的是加速神經網路的訓練、提高穩定性，並在某種程度上起到正則化的作用。它不用於選擇特徵或減少特徵數量。\\n(D) 錯誤。權重正則化 (Weight Regularization) 是一種用於防止模型過擬合的技術，它通過在損失函數中添加與模型參數（權重）大小相關的懲罰項來鼓勵模型學習較小的權重。常見的正則化方法包括L1正則化（Lasso）和L2正則化（Ridge）。雖然L1正則化可以導致某些權重變為零，從而實現特徵選擇的效果，但權重正則化的主要目的是控制模型複雜度，而不是直接選擇特徵。"}]},"L23302":{"title":"模型選擇與架構設計","questions":[{"question_text":"在選擇機器學習模型時，應主要考慮哪些因素？","options":{"A":"僅考慮模型的複雜度和新穎性","B":"問題的類型（分類、迴歸、分群等）、數據的特性（大小、維度、類型）、計算資源、模型的可解釋性需求等","C":"選擇訓練時間最短的模型","D":"選擇程式碼最少的模型"},"correct_answer":"B","solution":"(B) 正確。選擇合適的機器學習模型是一個綜合考量的過程，沒有一體適用的最佳模型（「沒有免費的午餐」定理 No Free Lunch Theorem）。主要應考慮的因素包括：\\n- **問題的類型**：是分類問題（預測離散類別）、迴歸問題（預測連續數值）、分群問題（無監督地將數據分組）、降維問題，還是其他類型的問題？不同類型的問題有其對應的適用演算法。\\n- **數據的特性**：\\n  - **數據大小（樣本量）**：樣本量的大小會影響模型的選擇。小數據集可能更適合簡單模型以避免過擬合，而大數據集則可以支持更複雜的模型。\\n  - **數據維度（特徵數量）**：高維數據可能需要降維處理或使用對高維數據不敏感的模型。\\n  - **數據類型**：數據是數值型、類別型、文本、圖像、時間序列等？不同類型的數據有其專門的處理方法和模型。\\n  - **數據質量**：數據中是否存在缺失值、異常值、噪聲等？這些都會影響模型的選擇和預處理策略。\\n  - **數據的線性可分性**：如果數據是線性可分的，簡單的線性模型可能就足夠了；如果數據具有複雜的非線性結構，則可能需要非線性模型（如核SVM、神經網路）。\\n- **計算資源**：可用的CPU、GPU、記憶體等計算資源會限制模型的複雜度和訓練時間。某些複雜模型（如大型深度學習模型）需要大量的計算資源。\\n- **模型的可解釋性需求**：在某些應用場景（如金融風控、醫療診斷），模型的可解釋性非常重要，需要能夠理解模型是如何做出決策的。在這種情況下，可能會選擇本身具有較好可解釋性的模型（如決策樹、線性迴歸），或者使用XAI技術來解釋複雜模型。\\n- **訓練時間與預測時間要求**：某些應用對模型的訓練速度或預測速度有嚴格要求。\\n- **模型的性能指標**：根據具體問題，選擇合適的評估指標（如準確率、精確率、召回率、F1分數、MSE等）來衡量和比較不同模型的性能。\\n\\n(A) 錯誤。僅僅追求模型的複雜度和新穎性是不可取的。複雜模型更容易過擬合，且訓練和維護成本更高。新穎的模型可能尚未經過充分驗證。應根據實際問題和數據選擇最合適的模型，而不是盲目追求複雜或新潮。\\n(C) 錯誤。雖然訓練時間是一個需要考慮的因素，但選擇訓練時間最短的模型並不一定能得到最佳的性能。有時，訓練時間較長但性能更好的模型可能是更優的選擇，需要在效率和效果之間進行權衡。\\n(D) 錯誤。程式碼的多少與模型的適用性和性能沒有直接關係。選擇模型應基於其解決問題的能力和對數據的擬合程度，而不是其實現的程式碼長短。"},{"question_text":"機器學習模型中的「超參數 (Hyperparameters)」與「參數 (Parameters)」有何不同？","options":{"A":"超參數是模型從數據中學習得到的，參數是在訓練前手動設定的","B":"參數是模型從數據中學習得到的，超參數是在訓練前手動設定的，用於控制學習過程","C":"兩者沒有本質區別，可以互換使用","D":"超參數僅存在於深度學習模型中"},"correct_answer":"B","solution":"(B) 正確。在機器學習中，「參數」與「超參數」是兩個截然不同的概念：\\n- **參數 (Parameters)**：是模型內部的變量，在訓練過程中從數據中學習並優化得到的。例如，線性迴歸中的係數、神經網絡中的權重和偏置等。這些參數直接影響模型對新數據的預測結果，是通過最小化損失函數（如梯度下降）來自動求解的。\\n- **超參數 (Hyperparameters)**：是模型外部的設置，需要在訓練前由人工設定，用於控制學習算法本身的行為。超參數不是從數據中學習得到的，而是需要通過經驗、嘗試或系統性的調參技術（如網格搜索、隨機搜索）來確定。常見的超參數包括：學習率、正則化系數、神經網絡的層數和每層神經元數量、決策樹的最大深度、集成學習中的基學習器數量等。\\n\\n(A) 錯誤。該選項將參數和超參數的定義顛倒了。超參數是需要人工設定的，而不是從數據中學習得到的；參數則是模型在訓練過程中學習得到的，而不是手動設定的。\\n(C) 錯誤。參數和超參數有本質的區別：一個是模型自動學習的，另一個是人工設定的；一個直接構成模型本身，另一個控制學習過程；它們絕不能互換使用。\\n(D) 錯誤。超參數不僅存在於深度學習模型中，幾乎所有機器學習算法都有超參數。例如，決策樹的最大深度、支持向量機的核參數、K-近鄰的K值等，都是這些傳統機器學習算法的超參數。"},{"question_text":"模型集成 (Model Ensemble) 的主要技術不包括下列哪一項？","options":{"A":"裝袋 (Bagging)","B":"提升 (Boosting)","C":"堆疊 (Stacking)","D":"降維 (Dimensionality Reduction)"},"correct_answer":"D","solution":"(D) 正確。降維 (Dimensionality Reduction) 是一種數據預處理技術，用於減少特徵空間的維度，它並不是模型集成的技術。降維的目的是將數據轉換到一個更低維度的空間，同時盡量保留原始數據的重要信息或結構。常見的降維方法包括主成分分析 (PCA)、t-SNE、UMAP等。雖然降維可以作為集成學習流程中的一部分（例如，在進行集成之前先對特徵進行降維），但它本身不是一種集成技術。\\n(A) 錯誤。裝袋 (Bagging, Bootstrap Aggregating) 是一種集成技術，它通過從原始數據集中有放回地抽樣創建多個數據子集，然後在每個子集上訓練同一類型的基學習器，最終通過平均預測結果（對於迴歸問題）或多數投票（對於分類問題）來得到最終預測。裝袋的目的是通過減少方差（即減少對特定訓練集的敏感性）來提高模型的穩健性。隨機森林是裝袋技術的一個著名實例，它不僅在每次迭代中使用不同的數據子集，還在每個節點分裂時隨機選擇特徵子集。\\n(B) 錯誤。提升 (Boosting) 是一種集成技術，它通過序列化地訓練一系列弱學習器（每一個都試圖修正前一個的誤差），然後將它們加權組合起來。與裝袋不同，提升中的每個新模型都會特別關注前一個模型表現不佳的樣本，從而逐步提高整體模型在困難樣本上的性能。常見的提升算法包括AdaBoost、梯度提升決策樹 (GBDT)、XGBoost、LightGBM等。\\n(C) 錯誤。堆疊 (Stacking) 是一種高級的集成技術，它結合了多個不同類型的基學習器（稱為第一層學習器或基學習器）的預測結果，然後將這些預測作為特徵來訓練一個元學習器（稱為第二層學習器或元學習器），用於生成最終預測。堆疊的目的是利用不同模型的互補性來提高整體性能。為了避免在訓練元學習器時過擬合，通常使用交叉驗證來生成基學習器的預測。"},{"question_text":"在建立機器學習模型時，模型評估的目的是什麼？","options":{"A":"最大化訓練數據上的性能","B":"估計模型在未見過的數據上的泛化性能，選擇最佳模型，調整超參數","C":"確保模型能夠完美擬合所有數據","D":"加速模型訓練過程"},"correct_answer":"B","solution":"(B) 正確。模型評估 (Model Evaluation) 是機器學習流程中的一個關鍵環節，其主要目的是估計模型在未見過的數據上的泛化性能。具體而言，模型評估有以下幾個關鍵目的：\\n- **估計泛化能力**：評估模型在實際應用中，面對新的、未見過的數據時的預測能力。這比模型在訓練數據上的表現更重要，因為最終目標是創建一個能夠在新數據上表現良好的模型。\\n- **模型選擇**：比較不同模型或同一模型的不同變體，選擇最佳的一個。例如，比較決策樹、隨機森林和梯度提升樹，或比較不同架構的神經網路。\\n- **超參數調整**：幫助確定模型的最佳超參數設置。例如，通過交叉驗證評估不同學習率、正則化係數或網路架構的性能。\\n- **避免過擬合**：透過比較模型在訓練集和驗證集/測試集上的性能，檢測和防止過擬合。如果模型在訓練集上表現很好但在驗證集上表現較差，可能表明過擬合。\\n- **了解模型缺陷**：識別模型的強項和弱項，例如哪些類型的樣本或哪些特征區域模型表現不佳，以便進一步改進。\\n為了進行有效的模型評估，通常需要使用適當的評估指標（如準確率、精確率、召回率、F1分數、ROC曲線下面積、均方誤差等）和評估方法（如訓練-測試分割、交叉驗證、留一法等）。\\n(A) 錯誤。最大化訓練數據上的性能不是模型評估的主要目的。事實上，一味追求訓練性能可能導致過擬合，使模型在新數據上表現不佳。模型評估應該關注的是模型在未見過的數據上的泛化性能。\\n(C) 錯誤。確保模型能夠完美擬合所有數據不僅不是模型評估的目的，而且在實際應用中通常是不可能也不需要的。數據中可能存在噪聲或異常值，且追求完美擬合很可能導致過擬合。模型評估的目標是找到一個能夠在訓練數據和未見數據之間取得平衡的模型。\\n(D) 錯誤。加速模型訓練過程是優化訓練流程或使用更高效演算法/硬件的目標，而不是模型評估的主要目的。模型評估關注的是模型的性能和泛化能力，而不是訓練速度。"}]},"L23303":{"title":"模型評估與超參數調校","questions":[{"question_text":"在機器學習模型評估中，交叉驗證 (Cross-Validation) 的主要優點是什麼？","options":{"A":"可以減少所需的訓練數據量","B":"能夠最大限度地加速模型訓練","C":"提供了對模型泛化能力的更穩健估計，減少了對特定驗證集分割的依賴","D":"確保模型永遠不會過擬合"},"correct_answer":"C","solution":"(C) 正確。交叉驗證 (Cross-Validation) 的主要優點是提供了對模型泛化能力的更穩健估計，減少了對特定驗證集分割的依賴。在傳統的「訓練-測試」分割方法中，模型的評估結果可能會因為數據剛好被分割成哪部分作為訓練集、哪部分作為測試集而有較大的波動。而交叉驗證通過多次不同的數據分割和評估，然後取平均結果，可以得到更可靠、更穩定的性能估計，減少了隨機性帶來的評估偏差。常見的交叉驗證方法包括k摺交叉驗證 (k-fold cross-validation)、留一法 (leave-one-out cross-validation, LOOCV) 等。此外，交叉驗證在數據量有限的情況下特別有用，因為它能夠最大限度地利用可用數據進行模型訓練和評估。\\n(A) 錯誤。交叉驗證並不減少所需的訓練數據量；相反，它是一種在有限數據量情況下最有效利用數據的方法。在k摺交叉驗證中，每次迭代都使用k-1份數據進行訓練，只有1份用於驗證。\\n(B) 錯誤。交叉驗證通常會增加，而不是減少計算時間，因為模型需要被訓練多次。例如，在k摺交叉驗證中，模型需要訓練k次。然而，交叉驗證的目的是提供更可靠的性能估計，而不是加速訓練。\\n(D) 錯誤。儘管交叉驗證有助於檢測和防止過擬合（通過比較多組不同數據上的性能），但它並不能確保模型永遠不會過擬合。過擬合的風險與模型的複雜度、正則化使用、數據量等多種因素有關，交叉驗證只是一種評估工具，幫助我們識別過擬合，但不能完全消除過擬合的可能性。"},{"question_text":"超參數調校 (Hyperparameter Tuning) 的目的是什麼？常見的方法有哪些？","options":{"A":"自動確定神經網路中的權重，常用方法有梯度下降","B":"找到使模型性能最佳的超參數組合，常用方法有網格搜索、隨機搜索、貝葉斯優化","C":"找到最快的模型訓練方法，常用方法有貪婪演算法","D":"減少訓練數據的數量，常用方法有主成分分析"},"correct_answer":"B","solution":"(B) 正確。超參數調校 (Hyperparameter Tuning) 的目的是找到能夠使模型性能最佳的超參數組合。超參數是控制模型學習過程的配置選項，它們不是從數據中學習得到的，而需要在訓練前手動設置或通過系統性的方法來調整。常見的超參數調校方法包括：\\n- **網格搜索 (Grid Search)**：在預定義的超參數空間中，對所有可能的超參數組合進行窮舉搜索，評估每種組合的性能，選擇性能最佳的組合。例如，對於學習率可能嘗試[0.01, 0.1, 1.0]，對於正則化系數嘗試[0.001, 0.01, 0.1]，最終評估3x3=9種不同的組合。\\n- **隨機搜索 (Random Search)**：從預定義的超參數分佈中隨機抽樣若干組超參數組合進行評估。相比網格搜索，隨機搜索在搜索空間的使用方面更有效率，特別是當只有少數幾個超參數對模型性能有影響時。\\n- **貝葉斯優化 (Bayesian Optimization)**：一種基於概率模型的序列超參數優化方法。它通過建立超參數與模型性能之間的概率模型（通常是高斯過程），根據已評估的點更新這個模型，然後選擇最有希望的新點進行下一次評估。貝葉斯優化比隨機或網格搜索更有效，因為它利用了先前評估的信息來指導搜索過程。\\n- **進化演算法 (Evolutionary Algorithms)**：使用受自然進化啟發的方法，如遺傳演算法，通過模擬自然選擇和生物進化的過程來優化超參數。\\n- **人工調節 (Manual Tuning)**：基於經驗和領域知識手動調節超參數，觀察性能變化，逐步改進。\\n超參數調校通常與交叉驗證結合使用，以提供更穩健的性能估計並減少過擬合的風險。\\n(A) 錯誤。自動確定神經網路中的權重是訓練過程的一部分，通常使用反向傳播和梯度下降等優化方法來完成。這些是模型參數，而不是超參數。超參數調校關注的是如學習率、層數、神經元數量、激活函數類型等在訓練前需要設定的配置。\\n(C) 錯誤。尋找最快的模型訓練方法可能涉及到演算法的選擇、計算資源的優化或實現的效率改進，但這不是超參數調校的主要目的。超參數調校專注於找到使模型性能（如準確率、F1分數等）最佳的配置，而不是最快的訓練方法。\\n(D) 錯誤。減少訓練數據的數量通常不是一個目標，因為更多的數據通常能提供更好的模型泛化能力。主成分分析 (PCA) 是一種降維技術，用於減少特徵的數量，而不是訓練數據的數量，且它不是超參數調校的方法。"}]}}},"L23304":{"title":"模型調整與優化","questions":[{"question_text":"超參數調整 (Hyperparameter Tuning) 的目的是什麼？","options":{"A":"調整模型從數據中學習到的內部參數","B":"找到一組能夠使模型在驗證集上性能最佳的超參數配置","C":"增加訓練數據的數量","D":"簡化模型的架構"},"correct_answer":"B","solution":"(B) 正確。超參數調整 (Hyperparameter Tuning) 是機器學習模型開發過程中的重要步驟，其主要目的是：\\n-   **尋找最佳配置**：通過系統性地搜索和評估不同的超參數組合，找到一組能夠使模型在驗證集上性能最佳的超參數配置。\\n-   **優化模型性能**：超參數控制著模型的複雜度、學習速率和正則化程度等方面，恰當的超參數設置可以顯著提升模型的性能和泛化能力。\\n-   **平衡欠擬合與過擬合**：超參數調整可以幫助找到一個平衡點，使模型既能充分學習訓練數據中的模式（避免欠擬合），又不會過度拘泥於訓練數據的細節和噪聲（避免過擬合）。\\n\\n超參數是在模型訓練開始前需要設置的參數，如學習率、正則化係數、神經網絡的層數和每層的神經元數量、決策樹的最大深度等，它們不是通過模型從數據中學習得到的，而是需要人工設定或通過特定的調參技術來確定。\\n\\n而參數是模型在訓練過程中從數據學習到的變量，如神經網絡的權重和偏置、線性模型的係數等。超參數調整的目的不是直接調整這些參數，而是通過設置適當的超參數，創造一個有利的學習環境，使模型能夠學習到更好的參數。"},{"question_text":"網格搜索 (Grid Search) 和隨機搜索 (Random Search) 是兩種常用的超參數調整方法，它們的主要區別是什麼？","options":{"A":"網格搜索比隨機搜索更快找到最優解","B":"網格搜索嘗試所有預先定義的超參數組合，而隨機搜索在給定範圍內隨機抽樣組合進行嘗試","C":"隨機搜索僅適用於特定類型的模型","D":"網格搜索不需要驗證集"},"correct_answer":"B","solution":"(B) 正確。網格搜索 (Grid Search) 和隨機搜索 (Random Search) 是兩種常用的超參數調整方法，它們的主要區別在於搜索策略：\\n-   **網格搜索 (Grid Search)**：\\n    -   在每個超參數的預定義取值集合上進行系統性的窮舉搜索。\\n    -   首先為每個超參數定義一個可能的值集合，然後嘗試這些集合的所有可能組合。\\n    -   例如，如果有兩個超參數，第一個有3個可能值，第二個有4個可能值，則網格搜索會嘗試所有3×4=12個組合。\\n    -   優點：徹底、系統性強，保證能夠檢查所有指定的超參數組合。\\n    -   缺點：計算成本高，「維度災難」問題嚴重（當超參數數量增加時，組合數呈指數增長）。\\n\\n-   **隨機搜索 (Random Search)**：\\n    -   在超參數的預定義範圍內隨機抽樣組合進行嘗試，而不是系統地嘗試所有組合。\\n    -   為每個超參數定義一個分佈（如均勻分佈、對數均勻分佈等），然後從這些分佈中隨機抽樣，組成超參數組合。\\n    -   通常指定一個總的嘗試次數，而不是嘗試所有可能的組合。\\n    -   優點：計算效率高，對「維度災難」問題較不敏感，且在實踐中往往能比網格搜索更快找到好的解。\\n    -   缺點：由於隨機性，可能會漏掉某些可能的最優組合。\\n\\n研究表明，當大多數超參數對模型性能的影響相對較小，只有少數超參數真正重要時，隨機搜索通常比網格搜索更有效率，因為它可以用相同數量的嘗試在重要的維度上進行更細致的探索。"},{"question_text":"L1 正規化 (L1 Regularization, Lasso) 和 L2 正規化 (L2 Regularization, Ridge) 都可以用來防止模型過擬合，L1 正規化相較於L2正規化，額外具有什麼特性？","options":{"A":"L1 正規化會使權重參數趨向於更大的值","B":"L1 正規化傾向於產生稀疏權重 (使部分權重變為零)，從而實現特徵選擇的效果","C":"L1 正規化對異常值更不敏感","D":"L1 正規化只能用於線性模型"},"correct_answer":"B","solution":"(B) 正確。L1 正規化 (L1 Regularization，也稱為 Lasso Regularization) 和 L2 正規化 (L2 Regularization，也稱為 Ridge Regularization) 都是常用的防止模型過擬合的技術，它們通過在損失函數中添加權重參數的懲罰項來實現。L1 正規化相較於 L2 正規化，最顯著的額外特性是：\\n\\n-   **產生稀疏權重 (Sparsity)**：L1 正規化的數學形式是將所有權重參數的絕對值之和作為懲罰項加入損失函數。這種懲罰方式會趨向於使一些參數變為精確的零，而保留其他參數的非零值，從而產生稀疏的權重向量。\\n\\n-   **內建特徵選擇 (Feature Selection)**：由於 L1 正規化能夠使不重要特徵的權重變為零，它實際上執行了一種內建的特徵選擇功能。只有那些對預測目標有顯著貢獻的特徵才會保留非零權重，這使得模型更加簡潔，也增強了可解釋性。\\n\\n相比之下，L2 正規化懲罰的是權重參數的平方和，它會使權重值變小（趨向於零）但通常不會變成精確的零。L2 正規化產生的是權重值均勻減小的效果，而不是稀疏化效果。\\n\\n在處理高維數據且特徵間可能存在冗餘的情況下，L1 正規化的稀疏性和特徵選擇能力特別有用，它可以自動識別並移除冗餘或不相關的特徵，從而簡化模型並可能提高泛化能力。"},{"question_text":"早停法 (Early Stopping) 是一種在模型訓練過程中防止過擬合的技術，其基本原理是什麼？","options":{"A":"在模型訓練達到預設的最大迭代次數時停止","B":"監控模型在驗證集上的性能，當驗證集性能不再提升或開始下降時，提前終止訓練","C":"僅訓練模型的一部分參數","D":"在訓練初期就停止訓練，以節省時間"},"correct_answer":"B","solution":"(B) 正確。早停法 (Early Stopping) 是一種簡單而有效的正則化技術，用於防止機器學習模型在訓練過程中過擬合。其基本原理是：\\n\\n-   **監控驗證集性能**：在訓練過程中，持續監控模型在獨立驗證集（不參與訓練的數據集）上的性能指標（如損失值、準確率等）。\\n\\n-   **識別最佳點**：隨著訓練的進行，模型在訓練集上的性能通常會持續改善，但在驗證集上的性能會先改善，然後在某一點達到最佳，之後可能開始惡化（這表明模型開始過擬合）。\\n\\n-   **提前終止訓練**：當發現驗證集上的性能指標停止改善或開始下降時（通常會設置一個「耐心」參數，即允許多少輪沒有改善），就提前終止訓練過程，避免模型進一步過擬合。\\n\\n-   **選用最佳模型**：通常會保存驗證集性能最佳時的模型參數，作為最終模型。\\n\\n早停法之所以有效，是因為它找到了模型泛化能力最佳的訓練階段，避免了模型過度擬合訓練數據的細節和噪聲。它是一種「隱式正則化」方法，不需要顯式地修改損失函數或模型架構，就能達到控制模型複雜度的效果。\\n\\n此外，早停法還能節省計算資源，因為不需要等待預設的全部訓練迭代完成，一旦發現模型不再改善，就可以停止訓練。"},{"question_text":"遷移學習 (Transfer Learning) 的核心思想是什麼？它在何種情況下特別有用？","options":{"A":"將一個任務上學到的知識完全拋棄，從零開始為新任務訓練模型","B":"將在一個大規模數據集上預訓練好的模型的部分知識（如特徵提取層）遷移到一個新的、數據量較小的相關任務上，以加速訓練並提升性能","C":"僅適用於不同領域之間完全不相關的任務","D":"遷移學習會顯著增加模型的訓練時間"},"correct_answer":"B","solution":"(B) 正確。遷移學習 (Transfer Learning) 是機器學習中的一種方法，其核心思想是：\\n\\n-   **知識遷移**：將從一個任務（源任務）中學到的知識應用到另一個相關但不同的任務（目標任務）上，而不是每次都從頭開始學習。這種「知識遷移」通常體現為重用在源任務上訓練的模型參數（例如神經網絡的權重）或特徵表示。\\n\\n遷移學習在以下情況下特別有用：\\n\\n-   **目標任務數據有限**：當目標任務的標記數據非常有限，難以從頭訓練出一個有效的模型時，使用在大規模數據集上預訓練好的模型可以大幅提高學習效率和性能。\\n\\n-   **源任務與目標任務相關**：當源任務和目標任務之間存在一定的相關性或相似性時，源任務學到的特徵或模式對於目標任務也可能有用。例如，在圖像分類中，低層次的特徵（如邊緣、紋理、形狀等）通常對各種視覺任務都有用。\\n\\n-   **計算資源有限**：使用遷移學習可以利用已有的預訓練模型，避免從頭開始訓練一個複雜模型所需的大量計算資源。\\n\\n-   **加速收斂**：即使有足夠的目標任務數據，使用遷移學習也可以加速模型的收斂，縮短訓練時間。\\n\\n遷移學習的常見實施方式包括：\\n-   **特徵提取**：將預訓練模型的前幾層（特徵提取部分）保持不變，只重新訓練最後的分類層或任務特定層。\\n-   **微調 (Fine-tuning)**：在源任務的預訓練模型基礎上，用目標任務的數據調整部分或全部參數，通常使用較小的學習率。\\n\\n在深度學習領域，遷移學習已成為標準做法，特別是在計算機視覺（使用ImageNet預訓練模型）和自然語言處理（使用BERT、GPT等預訓練模型）領域。"}]},"L234":{"title":"機器學習治理","sub_sections":{"L23401":{"title":"數據隱私、安全與合規","questions":[{"question_text":"歐盟的通用數據保護條例 (GDPR) 對個人數據的處理提出了嚴格要求，下列何者不是GDPR強調的核心原則？","options":{"A":"數據最小化 (Data Minimization)","B":"目的限制 (Purpose Limitation)","C":"企業可以無限制地收集和共享用戶數據以獲取最大利潤","D":"透明性 (Transparency) 與問責性 (Accountability)"},"correct_answer":"C","solution":"(C) 正確。「企業可以無限制地收集和共享用戶數據以獲取最大利潤」不是GDPR的核心原則，這與GDPR的基本精神完全相反。GDPR的核心是保護個人數據隱私並給予個人對其數據的控制權，限制組織在未經適當同意的情況下收集和處理個人數據。"},{"question_text":"數據匿名化 (Data Anonymization) 和假名化 (Pseudonymization) 都是保護數據隱私的方法，它們的主要區別是什麼？","options":{"A":"匿名化後的數據完全無法追溯到個人，假名化後的數據在特定條件下仍可能透過額外信息重新識別個人","B":"假名化比匿名化提供了更強的隱私保護","C":"匿名化僅移除直接識別符，假名化移除了所有信息","D":"兩者在隱私保護效果上完全相同"},"correct_answer":"A","solution":"(A) 正確。數據匿名化和假名化的主要區別在於匿名化後的數據理論上不能被還原或重新識別到特定個人，而假名化只是將識別數據（如姓名、ID）替換為假名或代碼，保留了可能的重新識別途徑。假名化數據仍然被視為個人數據，而完全匿名化的數據則不受數據保護法規的限制。"},{"question_text":"對抗性攻擊 (Adversarial Attacks) 是指對機器學習模型輸入進行微小但精心設計的擾動，導致模型做出錯誤預測。這主要威脅到模型的哪個方面？","options":{"A":"訓練效率","B":"模型的穩健性 (Robustness) 與安全性","C":"模型的可解釋性","D":"模型的部署成本"},"correct_answer":"B","solution":"(B) 正確。對抗性攻擊主要威脅模型的穩健性與安全性。這類攻擊證明了即使高性能的機器學習模型也可能對輸入的微小變化非常敏感，這在安全敏感的應用場景（如自動駕駛、醫療診斷）中可能產生嚴重後果。對抗性攻擊暴露了模型在面對惡意設計的輸入時的脆弱性，挑戰了其在不可控環境中的可靠性。"},{"question_text":"在機器學習專案中，確保數據在收集、儲存、處理和傳輸過程中的安全性，應採取哪些措施？","options":{"A":"僅依賴防火牆保護","B":"採用加密技術、存取控制、安全審計、以及遵守相關安全標準與法規","C":"將所有數據公開，以便進行透明化處理","D":"數據安全僅是IT部門的責任，與機器學習團隊無關"},"correct_answer":"B","solution":"(B) 正確。確保數據安全需要全面的安全措施，包括但不限於：加密技術保護靜態和動態數據；嚴格的訪問控制確保只有授權人員能訪問敏感數據；定期安全審計以發現漏洞；遵守相關安全標準與法規（如GDPR、HIPAA等）。此外，還應實施數據分類、員工安全培訓、事件響應計劃等。單一防火牆不足以提供全面保護，數據安全是整個組織的責任，而非僅IT部門。"},{"question_text":"模型反演攻擊 (Model Inversion Attack) 試圖從已訓練的機器學習模型中恢復部分或全部訓練數據，這對數據隱私構成了何種威脅？","options":{"A":"威脅模型的預測準確率","B":"可能洩露訓練數據中的敏感個人信息","C":"導致模型訓練時間過長","D":"僅影響模型的超參數設定"},"correct_answer":"B","solution":"(B) 正確。模型反演攻擊對數據隱私的主要威脅是可能洩露訓練數據中的敏感個人信息。攻擊者可以通過分析模型的輸出和參數，推斷或重建原始訓練數據的特徵，如從人臉識別模型中重建訓練集中的面部特徵。這可能導致個人身份、醫療記錄、財務數據等敏感信息被洩露，即使原始數據已被保護。這種威脅突顯了即使不直接共享原始數據，僅共享模型也可能帶來隱私風險。"}]},"L23402":{"title":"演算法偏見與公平性","questions":[{"question_text":"機器學習模型中出現演算法偏見 (Algorithmic Bias) 的主要原因不包含下列何者？","options":{"A":"訓練數據本身存在歷史偏見或代表性不足","B":"模型設計或特徵選擇過程中引入的偏見","C":"模型使用的硬體計算資源過於強大","D":"人類在數據標註或模型評估過程中的主觀偏見"},"correct_answer":"C","solution":"(C) 正確。模型使用的硬體計算資源過於強大不是導致演算法偏見的原因。演算法偏見主要來源於：訓練數據中的歷史偏見或某些人口群體的代表性不足；模型設計中對特定群體有利或不利的特徵選擇或權重分配；人類在標註數據或設定評估指標時的主觀偏見；以及模型優化目標與公平性目標間的潛在衝突等。硬體資源的強弱僅影響模型的訓練效率和複雜度，不直接導致模型產生偏見。"},{"question_text":"在評估機器學習模型的公平性時，「群體公平性 (Group Fairness)」通常指的是什麼？","options":{"A":"模型對所有個體的預測都完全準確","B":"模型對不同受保護群體（如基於性別、種族）的預測結果或影響應達到某種程度的平等或均衡","C":"模型應對所有特徵一視同仁，不考慮其重要性","D":"僅關注模型的整體準確率，不考慮不同群體間的差異"},"correct_answer":"B","solution":"(B) 正確。群體公平性關注模型對不同受保護群體（基於敏感屬性如性別、種族、年齡等定義的群體）的預測結果或影響是否達到某種程度的平等或均衡。常見的群體公平性度量包括統計等同（不同群體的預測準確率應相似）、機會平等（真陽性率在不同群體間應相等）、預測價值等同（陽性預測值在不同群體間應相等）等。群體公平性的核心是確保模型不會對特定群體產生系統性的歧視或不公平影響。"},{"question_text":"可解釋AI (Explainable AI, XAI) 技術為何對於解決演算法偏見與公平性問題至關重要？","options":{"A":"XAI 可以自動消除所有偏見","B":"透過理解模型的決策依據，XAI有助於識別和診斷模型中可能存在的偏見來源，並評估其公平性影響","C":"XAI 會使模型變得更加不透明","D":"XAI 僅用於提升模型的預測速度"},"correct_answer":"B","solution":"(B) 正確。可解釋AI技術之所以對解決演算法偏見與公平性問題至關重要，是因為它能幫助我們理解模型做決策的依據。通過解釋模型如何做出特定決策，XAI技術可以揭示模型在決策過程中可能過度依賴敏感特徵（如性別、種族）或與這些特徵高度相關的代理變量。這種透明度使研究人員和開發者能夠識別潛在的偏見來源，診斷不公平的模式，評估不同決策對各群體的影響，並採取針對性措施來減輕這些偏見。XAI不能自動消除偏見，但提供了必要的工具來識別和解決這些問題。"},{"question_text":"下列哪項措施有助於緩解機器學習模型中的演算法偏見？","options":{"A":"僅使用來自單一來源的數據進行訓練","B":"在數據收集階段確保數據的多樣性與代表性，並在模型開發與評估過程中引入公平性考量與度量","C":"刻意選擇會放大偏見的模型架構","D":"避免對模型進行任何形式的公平性審計"},"correct_answer":"B","solution":"(B) 正確。緩解演算法偏見的有效措施包括：在數據收集階段確保數據集具有足夠的多樣性和代表性，包括各人口群體的平衡表示；在特徵工程階段謹慎考慮可能導致偏見的特徵；在模型開發階段使用能夠減少偏見的算法或目標函數；在評估階段採用專門的公平性度量來評估模型對不同群體的影響；以及在部署後持續監控模型性能以防止偏見隨時間演變。單一來源數據會加劇偏見，刻意選擇放大偏見的架構與避免公平性審計都會使問題惡化。"},{"question_text":"當一個用於招聘篩選的AI模型，因為訓練數據中男性工程師比例遠高於女性，而傾向於給男性求職者更高的評分時，這體現了何種問題？","options":{"A":"模型的計算效率不足","B":"數據偏見導致的演算法不公平，可能構成性別歧視","C":"模型過度依賴單一特徵","D":"模型的泛化能力過強"},"correct_answer":"B","solution":"(B) 正確。這明顯體現了數據偏見導致的演算法不公平，可能構成性別歧視。當訓練數據中男性工程師的比例遠高於女性時，模型可能學習到將「男性」特徵與「優秀候選人」關聯起來，而不是基於真正的工作能力與技能做出評估。這種偏見會導致模型系統性地對女性求職者評分較低，無論其實際資格如何，從而強化和放大現有的性別不平等。這不是計算效率問題，也不僅是過度依賴單一特徵的問題，更不是泛化能力過強（實際上是不當泛化）。"}]}}}}}}')});var V={};V=F("bDyTI");var j={};!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),f=(j=F("4b4Zm")).createRoot,j.hydrateRoot;const z=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:(i<2048?t[n++]=i>>6|192:((64512&i)==55296&&r+1<e.length&&(64512&e.charCodeAt(r+1))==56320?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128):t[n++]=i>>12|224,t[n++]=i>>6&63|128),t[n++]=63&i|128)}return t},q=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){let s=e[n++],o=((7&i)<<18|(63&s)<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{let s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")},$={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){let i=e[t],s=t+1<e.length,o=s?e[t+1]:0,a=t+2<e.length,l=a?e[t+2]:0,u=i>>2,c=(3&i)<<4|o>>4,h=(15&o)<<2|l>>6,f=63&l;!a&&(f=64,s||(h=64)),r.push(n[u],n[c],n[h],n[f])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(z(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):q(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){let i=n[e.charAt(t++)],s=t<e.length?n[e.charAt(t)]:0,o=++t<e.length?n[e.charAt(t)]:64,a=++t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==s||null==o||null==a)throw new H;let l=i<<2|s>>4;if(r.push(l),64!==o){let e=s<<4&240|o>>2;if(r.push(e),64!==a){let e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class H extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const G=function(e){let t=z(e);return $.encodeByteArray(t,!0)},K=function(e){return G(e).replace(/\./g,"")},Q=function(e){try{return $.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},W=()=>(function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==P)return P;throw Error("Unable to locate global object.")})().__FIREBASE_DEFAULTS__,Y=()=>{},X=()=>{let e;if("undefined"==typeof document)return;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}let t=e&&Q(e[1]);return t&&JSON.parse(t)},J=()=>{try{return W()||Y()||X()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Z=e=>{var t,n;return null==(n=null==(t=J())?void 0:t.emulatorHosts)?void 0:n[e]},ee=e=>{let t=Z(e);if(!t)return;let n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw Error(`Invalid host ${t} with no separate hostname and port!`);let r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},et=()=>{var e;return null==(e=J())?void 0:e.config};class en{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}class er extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ei.prototype.create)}}class ei{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){var n,r;let i=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],a=o?(n=o,r=i,n.replace(es,(e,t)=>{let n=r[t];return null!=n?String(n):`<${t}?>`})):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new er(s,l,i)}}const es=/\{\$([^}]+)}/g;function eo(e,t){if(e===t)return!0;let n=Object.keys(e),r=Object.keys(t);for(let i of n){if(!r.includes(i))return!1;let n=e[i],s=t[i];if(ea(n)&&ea(s)){if(!eo(n,s))return!1}else if(n!==s)return!1}for(let e of r)if(!n.includes(e))return!1;return!0}function ea(e){return null!==e&&"object"==typeof e}function el(e){return e&&e._delegate?e._delegate:e}class eu{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ec="[DEFAULT]";class eh{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let e=new en;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{let n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!=(t=null==e?void 0:e.optional)&&t;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}if(r)return null;throw Error(`Service ${this.name} is not available`)}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:ec})}catch(e){}for(let[e,t]of this.instancesDeferred.entries()){let n=this.normalizeInstanceIdentifier(e);try{let e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e=ec){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=ec){return this.instances.has(e)}getOptions(e=ec){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(let[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){var n;let r=this.normalizeInstanceIdentifier(t),i=null!=(n=this.onInitCallbacks.get(r))?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);let s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){let n=this.onInitCallbacks.get(t);if(n)for(let r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){var n;let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e)===ec?void 0:n,options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(e){}return r||null}normalizeInstanceIdentifier(e=ec){return this.component?this.component.multipleInstances?e:ec:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ef{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new eh(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const ed=[];(i=d||(d={}))[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT";const ep={debug:d.DEBUG,verbose:d.VERBOSE,info:d.INFO,warn:d.WARN,error:d.ERROR,silent:d.SILENT},eg=d.INFO,em={[d.DEBUG]:"log",[d.VERBOSE]:"log",[d.INFO]:"info",[d.WARN]:"warn",[d.ERROR]:"error"},ey=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),i=em[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ev{constructor(e){this.name=e,this._logLevel=eg,this._logHandler=ey,this._userLogHandler=null,ed.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in d))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?ep[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,d.DEBUG,...e),this._logHandler(this,d.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,d.VERBOSE,...e),this._logHandler(this,d.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,d.INFO,...e),this._logHandler(this,d.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,d.WARN,...e),this._logHandler(this,d.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,d.ERROR,...e),this._logHandler(this,d.ERROR,...e)}}const eb=(e,t)=>t.some(t=>e instanceof t),ew=new WeakMap,e_=new WeakMap,eE=new WeakMap,eC=new WeakMap,eS=new WeakMap;let eA={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return e_.get(e);if("objectStoreNames"===t)return e.objectStoreNames||eE.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ex(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function ex(n){if(n instanceof IDBRequest){let e=new Promise((e,t)=>{let r=()=>{n.removeEventListener("success",i),n.removeEventListener("error",s)},i=()=>{e(ex(n.result)),r()},s=()=>{t(n.error),r()};n.addEventListener("success",i),n.addEventListener("error",s)});return e.then(e=>{e instanceof IDBCursor&&ew.set(e,n)}).catch(()=>{}),eS.set(e,n),e}if(eC.has(n))return eC.get(n);let r=function(n){if("function"==typeof n)return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(t||(t=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(n)?function(...e){return n.apply(eI(this),e),ex(ew.get(this))}:function(...e){return ex(n.apply(eI(this),e))}:function(e,...t){let r=n.call(eI(this),e,...t);return eE.set(r,e.sort?e.sort():[e]),ex(r)};return(n instanceof IDBTransaction&&function(e){if(e_.has(e))return;let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});e_.set(e,t)}(n),eb(n,e||(e=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])))?new Proxy(n,eA):n}(n);return r!==n&&(eC.set(n,r),eS.set(r,n)),r}const eI=e=>eS.get(e),ek=["get","getKey","getAll","getAllKeys","count"],eT=["put","add","delete","clear"],eD=new Map;function eN(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t))return;if(eD.get(t))return eD.get(t);let n=t.replace(/FromIndex$/,""),r=t!==n,i=eT.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ek.includes(n)))return;let s=async function(e,...t){let s=this.transaction(e,i?"readwrite":"readonly"),o=s.store;return r&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),i&&s.done]))[0]};return eD.set(t,s),s}eA={...n=eA,get:(e,t,r)=>eN(e,t)||n.get(e,t,r),has:(e,t)=>!!eN(e,t)||n.has(e,t)};class eL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(!function(e){let t=e.getComponent();return(null==t?void 0:t.type)==="VERSION"}(e))return null;{let t=e.getImmediate();return`${t.library}/${t.version}`}}).filter(e=>e).join(" ")}}const eR="@firebase/app",eB="0.10.13",eP=new ev("@firebase/app"),eO="[DEFAULT]",eM={[eR]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},eF=new Map,eU=new Map,eV=new Map;function ej(e,t){try{e.container.addComponent(t)}catch(n){eP.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ez(e){let t=e.name;if(eV.has(t))return eP.debug(`There were multiple attempts to register component ${t}.`),!1;for(let n of(eV.set(t,e),eF.values()))ej(n,e);for(let t of eU.values())ej(t,e);return!0}const eq=new ei("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class e${constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new eu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw eq.create("app-deleted",{appName:this._name})}}function eH(e,t={}){let n=e;"object"!=typeof t&&(t={name:t});let r=Object.assign({name:eO,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw eq.create("bad-app-name",{appName:String(i)});if(n||(n=et()),!n)throw eq.create("no-options");let s=eF.get(i);if(s)if(eo(n,s.options)&&eo(r,s.config))return s;else throw eq.create("duplicate-app",{appName:i});let o=new ef(i);for(let e of eV.values())o.addComponent(e);let a=new e$(n,r,o);return eF.set(i,a),a}function eG(e,t,n){var r;let i=null!=(r=eM[e])?r:e;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){let e=[`Unable to register library "${i}" with version "${t}":`];s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),eP.warn(e.join(" "));return}ez(new eu(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const eK="firebase-heartbeat-store";let eQ=null;function eW(){return eQ||(eQ=(function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(e,1),a=ex(o);return r&&o.addEventListener("upgradeneeded",e=>{r(ex(o.result),e.oldVersion,e.newVersion,ex(o.transaction),e)}),n&&o.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),a.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a})("firebase-heartbeat-database",0,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(eK)}catch(e){console.warn(e)}}}).catch(e=>{throw eq.create("idb-open",{originalErrorMessage:e.message})})),eQ}async function eY(e){try{let t=(await eW()).transaction(eK),n=await t.objectStore(eK).get(eJ(e));return await t.done,n}catch(e){if(e instanceof er)eP.warn(e.message);else{let t=eq.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});eP.warn(t.message)}}}async function eX(e,t){try{let n=(await eW()).transaction(eK,"readwrite"),r=n.objectStore(eK);await r.put(t,eJ(e)),await n.done}catch(e){if(e instanceof er)eP.warn(e.message);else{let t=eq.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});eP.warn(t.message)}}}function eJ(e){return`${e.name}!${e.options.appId}`}class eZ{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new e1(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{let n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=e0();if((null==(e=this._heartbeatsCache)?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,(null==(t=this._heartbeatsCache)?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{let t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}catch(e){eP.warn(e)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,(null==(e=this._heartbeatsCache)?void 0:e.heartbeats)==null||0===this._heartbeatsCache.heartbeats.length)return"";let t=e0(),{heartbeatsToSend:n,unsentEntries:r}=function(e,t=1024){let n=[],r=e.slice();for(let i of e){let e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),e2(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),e2(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=K(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return eP.warn(e),""}}}function e0(){return new Date().toISOString().substring(0,10)}class e1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"==typeof indexedDB}catch(e){return!1}}()&&new Promise((e,t)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null==(e=i.error)?void 0:e.message)||"")}}catch(e){t(e)}}).then(()=>!0).catch(()=>!1)}async read(){if(!await this._canUseIndexedDBPromise)return{heartbeats:[]};{let e=await eY(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){let n=await this.read();return eX(this.app,{lastSentHeartbeatDate:null!=(t=e.lastSentHeartbeatDate)?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){let n=await this.read();return eX(this.app,{lastSentHeartbeatDate:null!=(t=e.lastSentHeartbeatDate)?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function e2(e){return K(JSON.stringify({version:2,heartbeats:e})).length}ez(new eu("platform-logger",e=>new eL(e),"PRIVATE")),ez(new eu("heartbeat",e=>new eZ(e),"PRIVATE")),eG(eR,eB,""),eG(eR,eB,"esm2017"),eG("fire-js",""),eG("firebase","10.14.1","app");var e3="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==P?P:"undefined"!=typeof self?self:{},e4={};(function(){function e(){this.blockSize=-1,this.blockSize=64,this.g=[,,,,],this.B=Array(this.blockSize),this.o=this.h=0,this.s()}var t=function(){this.blockSize=-1};function n(){}function r(e,t,n){n||(n=0);var r=Array(16);if("string"==typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+0xd76aa478|0;o=s+(i^(t=n+(o<<7|o>>>25))&(n^i))+r[1]+0xe8c7b756|0,o=i+(n^(s=t+(o<<12|o>>>20))&(t^n))+r[2]+0x242070db|0,o=n+(t^(i=s+(o<<17|o>>>15))&(s^t))+r[3]+0xc1bdceee|0,o=t+(s^(n=i+(o<<22|o>>>10))&(i^s))+r[4]+0xf57c0faf|0,o=s+(i^(t=n+(o<<7|o>>>25))&(n^i))+r[5]+0x4787c62a|0,o=i+(n^(s=t+(o<<12|o>>>20))&(t^n))+r[6]+0xa8304613|0,o=n+(t^(i=s+(o<<17|o>>>15))&(s^t))+r[7]+0xfd469501|0,o=t+(s^(n=i+(o<<22|o>>>10))&(i^s))+r[8]+0x698098d8|0,o=s+(i^(t=n+(o<<7|o>>>25))&(n^i))+r[9]+0x8b44f7af|0,o=i+(n^(s=t+(o<<12|o>>>20))&(t^n))+r[10]+0xffff5bb1|0,o=n+(t^(i=s+(o<<17|o>>>15))&(s^t))+r[11]+0x895cd7be|0,o=t+(s^(n=i+(o<<22|o>>>10))&(i^s))+r[12]+0x6b901122|0,o=s+(i^(t=n+(o<<7|o>>>25))&(n^i))+r[13]+0xfd987193|0,o=i+(n^(s=t+(o<<12|o>>>20))&(t^n))+r[14]+0xa679438e|0,o=n+(t^(i=s+(o<<17|o>>>15))&(s^t))+r[15]+0x49b40821|0,n=i+(o<<22|o>>>10),o=t+(i^s&(n^i))+r[1]+0xf61e2562|0,t=n+(o<<5|o>>>27),o=s+(n^i&(t^n))+r[6]+0xc040b340|0,s=t+(o<<9|o>>>23),o=i+(t^n&(s^t))+r[11]+0x265e5a51|0,i=s+(o<<14|o>>>18),o=n+(s^t&(i^s))+r[0]+0xe9b6c7aa|0,n=i+(o<<20|o>>>12),o=t+(i^s&(n^i))+r[5]+0xd62f105d|0,t=n+(o<<5|o>>>27),o=s+(n^i&(t^n))+r[10]+0x2441453|0,s=t+(o<<9|o>>>23),o=i+(t^n&(s^t))+r[15]+0xd8a1e681|0,i=s+(o<<14|o>>>18),o=n+(s^t&(i^s))+r[4]+0xe7d3fbc8|0,n=i+(o<<20|o>>>12),o=t+(i^s&(n^i))+r[9]+0x21e1cde6|0,t=n+(o<<5|o>>>27),o=s+(n^i&(t^n))+r[14]+0xc33707d6|0,s=t+(o<<9|o>>>23),o=i+(t^n&(s^t))+r[3]+0xf4d50d87|0,i=s+(o<<14|o>>>18),o=n+(s^t&(i^s))+r[8]+0x455a14ed|0,n=i+(o<<20|o>>>12),o=t+(i^s&(n^i))+r[13]+0xa9e3e905|0,t=n+(o<<5|o>>>27),o=s+(n^i&(t^n))+r[2]+0xfcefa3f8|0,s=t+(o<<9|o>>>23),o=i+(t^n&(s^t))+r[7]+0x676f02d9|0,i=s+(o<<14|o>>>18),o=n+(s^t&(i^s))+r[12]+0x8d2a4c8a|0,o=t+((n=i+(o<<20|o>>>12))^i^s)+r[5]+0xfffa3942|0,o=s+((t=n+(o<<4|o>>>28))^n^i)+r[8]+0x8771f681|0,o=i+((s=t+(o<<11|o>>>21))^t^n)+r[11]+0x6d9d6122|0,o=n+((i=s+(o<<16|o>>>16))^s^t)+r[14]+0xfde5380c|0,o=t+((n=i+(o<<23|o>>>9))^i^s)+r[1]+0xa4beea44|0,o=s+((t=n+(o<<4|o>>>28))^n^i)+r[4]+0x4bdecfa9|0,o=i+((s=t+(o<<11|o>>>21))^t^n)+r[7]+0xf6bb4b60|0,o=n+((i=s+(o<<16|o>>>16))^s^t)+r[10]+0xbebfbc70|0,o=t+((n=i+(o<<23|o>>>9))^i^s)+r[13]+0x289b7ec6|0,o=s+((t=n+(o<<4|o>>>28))^n^i)+r[0]+0xeaa127fa|0,o=i+((s=t+(o<<11|o>>>21))^t^n)+r[3]+0xd4ef3085|0,o=n+((i=s+(o<<16|o>>>16))^s^t)+r[6]+0x4881d05|0,o=t+((n=i+(o<<23|o>>>9))^i^s)+r[9]+0xd9d4d039|0,o=s+((t=n+(o<<4|o>>>28))^n^i)+r[12]+0xe6db99e5|0,o=i+((s=t+(o<<11|o>>>21))^t^n)+r[15]+0x1fa27cf8|0,o=n+((i=s+(o<<16|o>>>16))^s^t)+r[2]+0xc4ac5665|0,n=i+(o<<23|o>>>9),o=t+(i^(n|~s))+r[0]+0xf4292244|0,t=n+(o<<6|o>>>26),o=s+(n^(t|~i))+r[7]+0x432aff97|0,s=t+(o<<10|o>>>22),o=i+(t^(s|~n))+r[14]+0xab9423a7|0,i=s+(o<<15|o>>>17),o=n+(s^(i|~t))+r[5]+0xfc93a039|0,n=i+(o<<21|o>>>11),o=t+(i^(n|~s))+r[12]+0x655b59c3|0,t=n+(o<<6|o>>>26),o=s+(n^(t|~i))+r[3]+0x8f0ccc92|0,s=t+(o<<10|o>>>22),o=i+(t^(s|~n))+r[10]+0xffeff47d|0,i=s+(o<<15|o>>>17),o=n+(s^(i|~t))+r[1]+0x85845dd1|0,n=i+(o<<21|o>>>11),o=t+(i^(n|~s))+r[8]+0x6fa87e4f|0,t=n+(o<<6|o>>>26),o=s+(n^(t|~i))+r[15]+0xfe2ce6e0|0,s=t+(o<<10|o>>>22),o=i+(t^(s|~n))+r[6]+0xa3014314|0,i=s+(o<<15|o>>>17),o=n+(s^(i|~t))+r[13]+0x4e0811a1|0,n=i+(o<<21|o>>>11),o=t+(i^(n|~s))+r[4]+0xf7537e82|0,t=n+(o<<6|o>>>26),o=s+(n^(t|~i))+r[11]+0xbd3af235|0,s=t+(o<<10|o>>>22),o=i+(t^(s|~n))+r[2]+0x2ad7d2bb|0,i=s+(o<<15|o>>>17),o=n+(s^(i|~t))+r[9]+0xeb86d391|0,e.g[0]=e.g[0]+t|0,e.g[1]=e.g[1]+(i+(o<<21|o>>>11))|0,e.g[2]=e.g[2]+i|0,e.g[3]=e.g[3]+s|0}function i(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)},e.prototype.s=function(){this.g[0]=0x67452301,this.g[1]=0xefcdab89,this.g[2]=0x98badcfe,this.g[3]=0x10325476,this.o=this.h=0},e.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,i=this.B,s=this.h,o=0;o<t;){if(0==s)for(;o<=n;)r(this,e,o),o+=this.blockSize;if("string"==typeof e){for(;o<t;)if(i[s++]=e.charCodeAt(o++),s==this.blockSize){r(this,i),s=0;break}}else for(;o<t;)if(i[s++]=e[o++],s==this.blockSize){r(this,i),s=0;break}}this.h=s,this.o+=t},e.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var s,o={};function a(e){var t;return -128<=e&&128>e?(t=function(e){return new i([0|e],0>e?-1:0)},Object.prototype.hasOwnProperty.call(o,e)?o[e]:o[e]=t(e)):new i([0|e],0>e?-1:0)}function l(e){if(isNaN(e)||!isFinite(e))return u;if(0>e)return m(l(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=0x100000000;return new i(t,0)}var u=a(0),c=a(1),h=a(0x1000000);function f(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return -1==e.h}function m(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new i(n,~e.h).add(c)}function y(e,t){return e.add(m(t))}function v(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function b(e,t){this.g=e,this.h=t}function w(e,t){if(f(t))throw Error("division by zero");if(f(e))return new b(u,u);if(d(e))return t=w(m(e),t),new b(m(t.g),m(t.h));if(d(t))return t=w(e,m(t)),new b(m(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=c,r=t;0>=r.l(e);)n=_(n),r=_(r);var i=E(n,1),s=E(r,1);for(r=E(r,2),n=E(n,2);!f(r);){var o=s.add(r);0>=o.l(e)&&(i=i.add(n),s=o),r=E(r,1),n=E(n,1)}return t=y(e,i.j(t)),new b(i,t)}for(i=u;0<=e.l(t);){for(r=48>=(r=Math.ceil(Math.log(n=Math.max(1,Math.floor(e.m()/t.m())))/Math.LN2))?1:Math.pow(2,r-48),o=(s=l(n)).j(t);d(o)||0<o.l(e);)n-=r,o=(s=l(n)).j(t);f(s)&&(s=c),i=i.add(s),e=y(e,o)}return new b(i,e)}function _(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new i(n,e.h)}function E(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,s=[],o=0;o<r;o++)s[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new i(s,e.h)}(s=i.prototype).m=function(){if(d(this))return-m(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:0x100000000+r)*t,t*=0x100000000}return e},s.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(f(this))return"0";if(d(this))return"-"+m(this).toString(e);for(var t=l(Math.pow(e,6)),n=this,r="";;){var i=w(n,t).g,s=((0<(n=y(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(f(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},s.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},s.l=function(e){return d(e=y(this,e))?-1:+!f(e)},s.abs=function(){return d(this)?m(this):this},s.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,s=0;s<=t;s++){var o=r+(65535&this.i(s))+(65535&e.i(s)),a=(o>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);r=a>>>16,o&=65535,a&=65535,n[s]=a<<16|o}return new i(n,-0x80000000&n[n.length-1]?-1:0)},s.j=function(e){if(f(this)||f(e))return u;if(d(this))return d(e)?m(this).j(m(e)):m(m(this).j(e));if(d(e))return m(this.j(m(e)));if(0>this.l(h)&&0>e.l(h))return l(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<e.g.length;s++){var o=this.i(r)>>>16,a=65535&this.i(r),c=e.i(s)>>>16,p=65535&e.i(s);n[2*r+2*s]+=a*p,v(n,2*r+2*s),n[2*r+2*s+1]+=o*p,v(n,2*r+2*s+1),n[2*r+2*s+1]+=a*c,v(n,2*r+2*s+1),n[2*r+2*s+2]+=o*c,v(n,2*r+2*s+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new i(n,0)},s.A=function(e){return w(this,e).h},s.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new i(n,this.h&e.h)},s.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new i(n,this.h|e.h)},s.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new i(n,this.h^e.h)},e.prototype.digest=e.prototype.v,e.prototype.reset=e.prototype.s,e.prototype.update=e.prototype.u,g=e4.Md5=e,i.prototype.add=i.prototype.add,i.prototype.multiply=i.prototype.j,i.prototype.modulo=i.prototype.A,i.prototype.compare=i.prototype.l,i.prototype.toNumber=i.prototype.m,i.prototype.toString=i.prototype.toString,i.prototype.getBits=i.prototype.i,i.fromNumber=l,i.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return m(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=l(Math.pow(n,8)),i=u,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),a=parseInt(t.substring(s,s+o),n);8>o?(o=l(Math.pow(n,o)),i=i.j(o).add(l(a))):i=(i=i.j(r)).add(l(a))}return i},p=e4.Integer=i}).apply(void 0!==e3?e3:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var e6="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==P?P:"undefined"!=typeof self?self:{},e5={};(function(){var e,t,n,r="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},i=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof e6&&e6];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,t){if(t)e:{var n=i;e=e.split(".");for(var s=0;s<e.length-1;s++){var o=e[s];if(!(o in n))break e;n=n[o]}(t=t(s=n[e=e[e.length-1]]))!=s&&null!=t&&r(n,e,{configurable:!0,writable:!0,value:t})}}("Array.prototype.values",function(e){return e||function(){var e,t,n,r,i;return e=this,t=function(e,t){return t},e instanceof String&&(e+=""),n=0,r=!1,(i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}})[Symbol.iterator]=function(){return i},i}});var s=s||{},o=this||self;function a(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function l(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function u(e,t,n){return e.call.apply(e.bind,arguments)}function c(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function h(e,t,n){return(h=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?u:c).apply(null,arguments)}function f(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function p(e){let t=e.length;if(0<t){let n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function g(e,t){for(let t=1;t<arguments.length;t++){let n=arguments[t];if(a(n)){let t=e.length||0,r=n.length||0;e.length=t+r;for(let i=0;i<r;i++)e[t+i]=n[i]}else e.push(n)}}function S(e){return/^[\s\xa0]*$/.test(e)}function A(){var e=o.navigator;return e&&(e=e.userAgent)?e:""}function x(e){return x[" "](e),e}x[" "]=function(){};var I=-1!=A().indexOf("Gecko")&&(-1==A().toLowerCase().indexOf("webkit")||-1!=A().indexOf("Edge"))&&-1==A().indexOf("Trident")&&-1==A().indexOf("MSIE")&&-1==A().indexOf("Edge");function k(e,t,n){for(let r in e)t.call(n,e[r],r,e)}function T(e){let t={};for(let n in e)t[n]=e[n];return t}let D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t])e[n]=r[n];for(let t=0;t<D.length;t++)n=D[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}var L=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new R,e=>e.reset());class R{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let B,P=!1,O=new class{constructor(){this.h=this.g=null}add(e,t){let n=L.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},M=()=>{let e=o.Promise.resolve(void 0);B=()=>{e.then(F)}};var F=()=>{let e;for(var t;e=null,O.g&&(e=O.g,O.g=O.g.next,O.g||(O.h=null),e.next=null),t=e;){try{t.h.call(t.g)}catch(e){!function(e){o.setTimeout(()=>{throw e},0)}(e)}L.j(t),100>L.h&&(L.h++,t.next=L.g,L.g=t)}P=!1};function U(){this.s=this.s,this.C=this.C}function V(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}U.prototype.s=!1,U.prototype.ma=function(){this.s||(this.s=!0,this.N())},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},V.prototype.h=function(){this.defaultPrevented=!0};var j=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{let e=()=>{};o.addEventListener("test",e,t),o.removeEventListener("test",e,t)}catch(e){}return e}();function z(e,t){if(V.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(I){e:{try{x(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:q[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&z.aa.h.call(this)}}d(z,V);var q={2:"touch",3:"pen",4:"mouse"};z.prototype.h=function(){z.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var $="closure_listenable_"+(1e6*Math.random()|0),H=0;function G(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++H,this.da=this.fa=!1}function K(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Q(e){this.src=e,this.g={},this.h=0}function W(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(K(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Y(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&!!n==s.capture&&s.ha==r)return i}return -1}Q.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=Y(e,t,r,i);return -1<o?(t=e[o],n||(t.fa=!1)):((t=new G(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var X="closure_lm_"+(1e6*Math.random()|0),J={};function Z(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=l(i)?!!i.capture:!!i,a=er(e);if(a||(e[X]=a=new Q(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function e(t){return en.call(e.src,e.listener,t)},n.proxy=r,r.src=e,r.listener=n,e.addEventListener)j||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(et(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function ee(e){if("number"!=typeof e&&e&&!e.da){var t=e.src;if(t&&t[$])W(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(et(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=er(t))?(W(n,e),0==n.h&&(n.src=null,t[X]=null)):K(e)}}}function et(e){return e in J?J[e]:J[e]="on"+e}function en(e,t){if(e.da)e=!0;else{t=new z(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&ee(e),e=n.call(r,t)}return e}function er(e){return(e=e[X])instanceof Q?e:null}var ei="__closure_events_fn_"+(1e9*Math.random()>>>0);function es(e){return"function"==typeof e?e:(e[ei]||(e[ei]=function(t){return e.handleEvent(t)}),e[ei])}function eo(){U.call(this),this.i=new Q(this),this.M=this,this.F=null}function ea(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"==typeof t)t=new V(t,e);else if(t instanceof V)t.target=t.target||e;else{var i=t;N(t=new V(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=el(o,r,!0,t)&&i}if(i=el(o=t.g=e,r,!0,t)&&i,i=el(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=el(o=t.g=n[s],r,!1,t)&&i}function el(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.da&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.fa&&W(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}function eu(e,t,n){if("function"==typeof e)n&&(e=h(e,n));else if(e&&"function"==typeof e.handleEvent)e=h(e.handleEvent,e);else throw Error("Invalid listener argument");return 0x7fffffff<Number(t)?-1:o.setTimeout(e,t||0)}d(eo,U),eo.prototype[$]=!0,eo.prototype.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,s){if(Array.isArray(n))for(var o=0;o<n.length;o++)e(t,n[o],r,i,s);else(i=l(i)?!!i.capture:!!i,r=es(r),t&&t[$])?(t=t.i,(n=String(n).toString())in t.g&&-1<(r=Y(o=t.g[n],r,i,s))&&(K(o[r]),Array.prototype.splice.call(o,r,1),0==o.length&&(delete t.g[n],t.h--))):t&&(t=er(t))&&(n=t.g[n.toString()],t=-1,n&&(t=Y(n,r,i,s)),(r=-1<t?n[t]:null)&&ee(r))}(this,e,t,n,r)},eo.prototype.N=function(){if(eo.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)K(n[r]);delete t.g[e],t.h--}}this.F=null},eo.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},eo.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ec extends U{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:function e(t){t.g=eu(()=>{t.g=null,t.i&&(t.i=!1,e(t))},t.l);let n=t.h;t.h=null,t.m.apply(null,n)}(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function eh(e){U.call(this),this.h=e,this.g={}}d(eh,U);var ef=[];function ed(e){k(e.g,function(e,t){this.g.hasOwnProperty(t)&&ee(e)},e),e.g={}}eh.prototype.N=function(){eh.aa.N.call(this),ed(this)},eh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ep=o.JSON.stringify,eg=o.JSON.parse,em=class{stringify(e){return o.JSON.stringify(e,void 0)}parse(e){return o.JSON.parse(e,void 0)}};function ey(){}function ev(e){return e.h||(e.h=e.i())}function eb(){}ey.prototype.h=null;var ew={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function e_(){V.call(this,"d")}function eE(){V.call(this,"c")}d(e_,V),d(eE,V);var eC={},eS=null;function eA(){return eS=eS||new eo}function ex(e){V.call(this,eC.La,e)}function eI(e){let t=eA();ea(t,new ex(t))}function ek(e,t){V.call(this,eC.STAT_EVENT,e),this.stat=t}function eT(e){let t=eA();ea(t,new ek(t,e))}function eD(e,t){V.call(this,eC.Ma,e),this.size=t}function eN(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){e()},t)}function eL(){this.g=!0}function eR(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}}return ep(n)}catch(e){return t}}(e,n)+(r?" "+r:"")})}eC.La="serverreachability",d(ex,V),eC.STAT_EVENT="statevent",d(ek,V),eC.Ma="timingevent",d(eD,V),eL.prototype.xa=function(){this.g=!1},eL.prototype.info=function(){};var eB={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},eP={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function eO(){}function eM(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new eh(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new eF}function eF(){this.i=null,this.g="",this.h=!1}d(eO,ey),eO.prototype.g=function(){return new XMLHttpRequest},eO.prototype.i=function(){return{}},t=new eO;var eU={},eV={};function ej(e,t,n){e.L=1,e.v=ti(e7(t)),e.m=n,e.P=!0,ez(e,null)}function ez(e,t){e.F=Date.now(),e$(e),e.A=e7(e.v);var n,r,i,s,o,a,u=e.A,c=e.R;Array.isArray(c)||(c=[String(c)]),ty(u.i,"t",c),e.C=0,u=e.j.J,e.h=new eF,e.g=t3(e.j,u?t:null,!e.m),0<e.O&&(e.M=new ec(h(e.Y,e,e.g),e.O)),t=e.U,u=e.g,c=e.ca;var f="readystatechange";Array.isArray(f)||(f&&(ef[0]=f.toString()),f=ef);for(var d=0;d<f.length;d++){var p=function e(t,n,r,i,s){if(i&&i.once)return function e(t,n,r,i,s){if(Array.isArray(n)){for(var o=0;o<n.length;o++)e(t,n[o],r,i,s);return null}return r=es(r),t&&t[$]?t.L(n,r,l(i)?!!i.capture:!!i,s):Z(t,n,r,!0,i,s)}(t,n,r,i,s);if(Array.isArray(n)){for(var o=0;o<n.length;o++)e(t,n[o],r,i,s);return null}return r=es(r),t&&t[$]?t.K(n,r,l(i)?!!i.capture:!!i,s):Z(t,n,r,!1,i,s)}(u,f[d],c||t.handleEvent,!1,t.h||t);if(!p)break;t.g[p.key]=p}t=e.H?T(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),eI(),n=e.i,r=e.u,i=e.A,s=e.l,o=e.R,a=e.m,n.info(function(){if(n.g)if(a)for(var e="",t=a.split("&"),l=0;l<t.length;l++){var u=t[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");e=2<=h.length&&"type"==h[1]?e+(c+"=")+u+"&":e+(c+"=redacted&")}}else e=null;else e=a;return"XMLHTTP REQ ("+s+") [attempt "+o+"]: "+r+"\n"+i+"\n"+e})}function eq(e){return!!e.g&&"GET"==e.u&&2!=e.L&&e.j.Ca}function e$(e){e.S=Date.now()+e.I,eH(e,e.I)}function eH(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=eN(h(e.ba,e),t)}function eG(e){e.B&&(o.clearTimeout(e.B),e.B=null)}function eK(e){0==e.j.G||e.J||tJ(e.j,e)}function eQ(e){eG(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ed(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function eW(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||e0(n.h,e))){if(!e.K&&e0(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)tX(n),tj(n);else break e;tQ(n),eT(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=eN(h(n.Za,n),6e3));if(1>=eZ(n.h)&&n.ca){try{n.ca()}catch(e){}n.ca=void 0}}else t0(n,11)}else if((e.K||n.g==e)&&tX(n),!S(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.K=a[1],n.ia=a[2];let t=a[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));let i=a[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));let l=a[5];null!=l&&"number"==typeof l&&0<l&&(n.L=r=1.5*l,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;let u=e.g;if(u){let e=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(e1(s,s.h),s.h=null))}if(r.D){let e=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,tr(r.I,r.D,e))}}if(n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms")),(r=n).qa=t2(r,r.J?r.ia:null,r.W),e.K){e2(r.h,e);var o=r.L;o&&(e.I=o),e.B&&(eG(e),e$(e)),r.g=e}else tK(r);0<n.i.length&&tq(n)}else"stop"!=a[0]&&"close"!=a[0]||t0(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?t0(n,7):tV(n):"noop"!=a[0]&&n.l&&n.l.ta(a),n.v=0)}}eI(4)}catch(e){}}eM.prototype.ca=function(e){e=e.target;let t=this.M;t&&3==tO(e)?t.j():this.Y(e)},eM.prototype.Y=function(e){try{if(e==this.g)e:{let v=tO(this.g);var t=this.g.Ba();let b=this.g.Z();if(!(3>v)&&(3!=v||this.g&&(this.h.h||this.g.oa()||tM(this.g)))){this.J||4!=v||7==t||(8==t||0>=b?eI(3):eI(2)),eG(this);var n=this.g.Z();this.X=n;t:if(eq(this)){var r=tM(this.g);e="";var i=r.length,s=4==tO(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){eQ(this),eK(this);var a="";break t}this.h.i=new o.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(s&&t==i-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,l=this.i,u=this.u,c=this.A,h=this.l,f=this.R,d=n,l.info(function(){return"XMLHTTP RESP ("+h+") [ attempt "+f+"]: "+u+"\n"+c+"\n"+v+" "+d}),this.o){if(this.T&&!this.K){t:{if(this.g){var l,u,c,h,f,d,p,g=this.g;if((p=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(p)){var m=p;break t}}m=null}if(n=m)eR(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,eW(this,n);else{this.o=!1,this.s=3,eT(12),eQ(this),eK(this);break e}}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;)if((e=function(e,t){var n=e.C,r=t.indexOf("\n",n);return -1==r?eV:isNaN(n=Number(t.substring(n,r)))?eU:(r+=1)+n>t.length?eV:(t=t.slice(r,r+n),e.C=r+n,t)}(this,a))==eV){4==v&&(this.s=4,eT(14),n=!1),eR(this.i,this.l,null,"[Incomplete Response]");break}else if(e==eU){this.s=4,eT(15),eR(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}else eR(this.i,this.l,e,null),eW(this,e);if(eq(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=v||0!=a.length||this.h.h||(this.s=1,eT(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var y=this.j;y.g==this&&y.ba&&!y.M&&(y.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),tW(y),y.M=!0,eT(11))}}else eR(this.i,this.l,a,"[Invalid Chunked Response]"),eQ(this),eK(this)}else eR(this.i,this.l,a,null),eW(this,a);4==v&&eQ(this),this.o&&!this.J&&(4==v?tJ(this.j,this):(this.o=!1,e$(this)))}else(function(e){let t={};e=(e.g&&2<=tO(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(S(e[r]))continue;var n=function(e){var t=1;e=e.split(":");let n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}(e[r]);let i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();let s=t[i]||[];t[i]=s,s.push(n)}var r=function(e){return e.join(", ")};for(let e in t)r.call(void 0,t[e],e,t)})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,eT(12)):(this.s=0,eT(13)),eQ(this),eK(this)}}}catch(e){}finally{}},eM.prototype.cancel=function(){this.J=!0,eQ(this)},eM.prototype.ba=function(){var e,t;this.B=null;let n=Date.now();0<=n-this.S?(e=this.i,t=this.A,e.info(function(){return"TIMEOUT: "+t}),2!=this.L&&(eI(),eT(17)),eQ(this),this.s=2,eK(this)):eH(this,this.S-n)};var eY=class{constructor(e,t){this.g=e,this.map=t}};function eX(e){this.l=e||10,e=o.PerformanceNavigationTiming?0<(e=o.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function eJ(e){return!!e.h||!!e.g&&e.g.size>=e.j}function eZ(e){return e.h?1:e.g?e.g.size:0}function e0(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function e1(e,t){e.g?e.g.add(t):e.h=t}function e2(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function e3(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(let n of e.g.values())t=t.concat(n.D);return t}return p(e.i)}function e4(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(a(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(a(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(let r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(a(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}eX.prototype.cancel=function(){if(this.i=e3(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(let e of this.g.values())e.cancel();this.g.clear()}};var e8=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function e9(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof e9){this.h=e.h,te(this,e.j),this.o=e.o,this.g=e.g,tt(this,e.s),this.l=e.l;var t=e.i,n=new td;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),tn(this,n),this.m=e.m}else e&&(t=String(e).match(e8))?(this.h=!1,te(this,t[1]||"",!0),this.o=ts(t[2]||""),this.g=ts(t[3]||"",!0),tt(this,t[4]),this.l=ts(t[5]||"",!0),tn(this,t[6]||"",!0),this.m=ts(t[7]||"")):(this.h=!1,this.i=new td(null,this.h))}function e7(e){return new e9(e)}function te(e,t,n){e.j=n?ts(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function tt(e,t){if(t){if(isNaN(t=Number(t))||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function tn(e,t,n){var r,i;t instanceof td?(e.i=t,r=e.i,(i=e.h)&&!r.j&&(tp(r),r.i=null,r.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(tg(this,t),ty(this,n,e))},r)),r.j=i):(n||(t=to(t,th)),e.i=new td(t,e.h))}function tr(e,t,n){e.i.set(t,n)}function ti(e){return tr(e,"zx",Math.floor(0x80000000*Math.random()).toString(36)+Math.abs(Math.floor(0x80000000*Math.random())^Date.now()).toString(36)),e}function ts(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function to(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,ta),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ta(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}e9.prototype.toString=function(){var e=[],t=this.j;t&&e.push(to(t,tl,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(to(t,tl,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(to(n,"/"==n.charAt(0)?tc:tu,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",to(n,tf)),e.join("")};var tl=/[#\/\?@]/g,tu=/[#\?:]/g,tc=/[#\?]/g,th=/[#\?@]/g,tf=/#/g;function td(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function tp(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function tg(e,t){tp(e),t=tv(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function tm(e,t){return tp(e),t=tv(e,t),e.g.has(t)}function ty(e,t,n){tg(e,t),0<n.length&&(e.i=null,e.g.set(tv(e,t),p(n)),e.h+=n.length)}function tv(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function tb(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(e){}}function tw(){this.g=new em}function t_(e){this.l=e.Ub||null,this.j=e.eb||!1}function tE(e,t){eo.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function tC(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function tS(e){e.readyState=4,e.l=null,e.j=null,e.v=null,tA(e)}function tA(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function tx(e){let t="";return k(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function tI(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=tx(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):tr(e,t,n))}function tk(e){eo.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(n=td.prototype).add=function(e,t){tp(this),this.i=null,e=tv(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},n.forEach=function(e,t){tp(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},n.na=function(){tp(this);let e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){let i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},n.V=function(e){tp(this);let t=[];if("string"==typeof e)tm(this,e)&&(t=t.concat(this.g.get(tv(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},n.set=function(e,t){return tp(this),this.i=null,tm(this,e=tv(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},n.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];let s=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")},d(t_,ey),t_.prototype.g=function(){return new tE(this.l,this.j)},t_.prototype.i=(e={},function(){return e}),d(tE,eo),(n=tE.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,tA(this)},n.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;let t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||o).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,tS(this)),this.readyState=0},n.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,tA(this)),this.g&&(this.readyState=3,tA(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(void 0!==o.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tC(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},n.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?tS(this):tA(this),3==this.readyState&&tC(this)}},n.Ra=function(e){this.g&&(this.response=this.responseText=e,tS(this))},n.Qa=function(e){this.g&&(this.response=e,tS(this))},n.ga=function(){this.g&&tS(this)},n.setRequestHeader=function(e,t){this.u.append(e,t)},n.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let e=[],t=this.h.entries();for(var n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(tE.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(tk,eo);var tT=/^https?$/i,tD=["POST","PUT"];function tN(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,tL(e),tB(e)}function tL(e){e.A||(e.A=!0,ea(e,"complete"),ea(e,"error"))}function tR(e){if(e.h&&void 0!==s&&(!e.v[1]||4!=tO(e)||2!=e.Z())){if(e.u&&4==tO(e))eu(e.Ea,0,e);else if(ea(e,"readystatechange"),4==tO(e)){e.h=!1;try{let s=e.Z();switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t,n,r=!0;break;default:r=!1}if(!(t=r)){if(n=0===s){var i=String(e.D).match(e8)[1]||null;!i&&o.self&&o.self.location&&(i=o.self.location.protocol.slice(0,-1)),n=!tT.test(i?i.toLowerCase():"")}t=n}if(t)ea(e,"complete"),ea(e,"success");else{e.m=6;try{var a=2<tO(e)?e.g.statusText:""}catch(e){a=""}e.l=a+" ["+e.Z()+"]",tL(e)}}finally{tB(e)}}}}function tB(e,t){if(e.g){tP(e);let n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||ea(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function tP(e){e.I&&(o.clearTimeout(e.I),e.I=null)}function tO(e){return e.g?e.g.readyState:0}function tM(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function tF(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function tU(e){this.Aa=0,this.i=[],this.j=new eL,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=tF("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=tF("baseRetryDelayMs",5e3,e),this.cb=tF("retryDelaySeedMs",1e4,e),this.Wa=tF("forwardChannelMaxRetries",2,e),this.wa=tF("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new eX(e&&e.concurrentRequestLimit),this.Da=new tw,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function tV(e){if(tz(e),3==e.G){var t=e.U++,n=e7(e.I);if(tr(n,"SID",e.K),tr(n,"RID",t),tr(n,"TYPE","terminate"),tH(e,n),(t=new eM(e,e.j,t)).L=2,t.v=ti(e7(n)),n=!1,o.navigator&&o.navigator.sendBeacon)try{n=o.navigator.sendBeacon(t.v.toString(),"")}catch(e){}!n&&o.Image&&((new Image).src=t.v,n=!0),n||(t.g=t3(t.j,null),t.g.ea(t.v)),t.F=Date.now(),e$(t)}t1(e)}function tj(e){e.g&&(tW(e),e.g.cancel(),e.g=null)}function tz(e){tj(e),e.u&&(o.clearTimeout(e.u),e.u=null),tX(e),e.h.cancel(),e.s&&("number"==typeof e.s&&o.clearTimeout(e.s),e.s=null)}function tq(e){if(!eJ(e.h)&&!e.s){e.s=!0;var t=e.Ga;B||M(),P||(B(),P=!0),O.add(t,e),e.B=0}}function t$(e,t){var n;n=t?t.l:e.U++;let r=e7(e.I);tr(r,"SID",e.K),tr(r,"RID",n),tr(r,"AID",e.T),tH(e,r),e.m&&e.o&&tI(r,e.m,e.o),n=new eM(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tG(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),e1(e.h,n),ej(n,r,t)}function tH(e,t){e.H&&k(e.H,function(e,n){tr(t,n,e)}),e.l&&e4({},function(e,n){tr(t,n,e)})}function tG(e,t,n){n=Math.min(e.i.length,n);var r=e.l?h(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){let e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].g,a=i[o].map;if(0>(n-=t))t=Math.max(0,i[o].g-100),s=!1;else try{!function(e,t,n){let r=n||"";try{e4(e,function(e,n){let i=e;l(e)&&(i=ep(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}(a,e,"req"+n+"_")}catch(e){r&&r(a)}}if(s){r=e.join("&");break e}}}return t.D=e=e.i.splice(0,n),r}function tK(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;B||M(),P||(B(),P=!0),O.add(t,e),e.v=0}}function tQ(e){return!e.g&&!e.u&&!(3<=e.v)&&(e.Y++,e.u=eN(h(e.Fa,e),tZ(e,e.v)),e.v++,!0)}function tW(e){null!=e.A&&(o.clearTimeout(e.A),e.A=null)}function tY(e){e.g=new eM(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=e7(e.qa);tr(t,"RID","rpc"),tr(t,"SID",e.K),tr(t,"AID",e.T),tr(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&tr(t,"TO",e.ja),tr(t,"TYPE","xmlhttp"),tH(e,t),e.m&&e.o&&tI(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ti(e7(t)),n.m=null,n.P=!0,ez(n,e)}function tX(e){null!=e.C&&(o.clearTimeout(e.C),e.C=null)}function tJ(e,t){var n,r=null;if(e.g==t){tX(e),tW(e),e.g=null;var i=2}else{if(!e0(e.h,t))return;r=t.D,e2(e.h,t),i=1}if(0!=e.G){if(t.o)if(1==i){r=t.m?t.m.length:0,t=Date.now()-t.F;var s=e.B;ea(i=eA(),new eD(i,r)),tq(e)}else tK(e);else if(3==(s=t.s)||0==s&&0<t.X||!(1==i&&(n=t,!(eZ(e.h)>=e.h.j-!!e.s)&&(e.s?(e.i=n.D.concat(e.i),!0):1!=e.G&&2!=e.G&&!(e.B>=(e.Va?0:e.Wa))&&(e.s=eN(h(e.Ga,e,n),tZ(e,e.B)),e.B++,!0)))||2==i&&tQ(e)))switch(r&&0<r.length&&((t=e.h).i=t.i.concat(r)),s){case 1:t0(e,5);break;case 4:t0(e,10);break;case 3:t0(e,6);break;default:t0(e,2)}}}function tZ(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function t0(e,t){if(e.j.info("Error code "+t),2==t){var n=h(e.fb,e),r=e.Xa;let t=!r;r=new e9(r||"//www.google.com/images/cleardot.gif"),o.location&&"http"==o.location.protocol||te(r,"https"),ti(r),t?function(e,t){let n=new eL;if(o.Image){let r=new Image;r.onload=f(tb,n,"TestLoadImage: loaded",!0,t,r),r.onerror=f(tb,n,"TestLoadImage: error",!1,t,r),r.onabort=f(tb,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=f(tb,n,"TestLoadImage: timeout",!1,t,r),o.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){let n=new eL,r=new AbortController,i=setTimeout(()=>{r.abort(),tb(n,"TestPingServer: timeout",!1,t)},1e4);fetch(e,{signal:r.signal}).then(e=>{clearTimeout(i),e.ok?tb(n,"TestPingServer: ok",!0,t):tb(n,"TestPingServer: server error",!1,t)}).catch(()=>{clearTimeout(i),tb(n,"TestPingServer: error",!1,t)})}(r.toString(),n)}else eT(2);e.G=0,e.l&&e.l.sa(t),t1(e),tz(e)}function t1(e){if(e.G=0,e.ka=[],e.l){let t=e3(e.h);(0!=t.length||0!=e.i.length)&&(g(e.ka,t),g(e.ka,e.i),e.h.i.length=0,p(e.i),e.i.length=0),e.l.ra()}}function t2(e,t,n){var r=n instanceof e9?e7(n):new e9(n);if(""!=r.g)t&&(r.g=t+"."+r.g),tt(r,r.s);else{var i=o.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new e9(null);r&&te(s,r),t&&(s.g=t),i&&tt(s,i),n&&(s.l=n),r=s}return n=e.D,t=e.ya,n&&t&&tr(r,n,t),tr(r,"VER",e.la),tH(e,r),r}function t3(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new tk(e.Ca&&!e.pa?new t_({eb:n}):e.pa)).Ha(e.J),t}function t4(){}function t6(){}function t5(e,t){eo.call(this),this.g=new tU(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!S(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!S(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new t7(this)}function t8(e){e_.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(let n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function t9(){eE.call(this),this.status=1}function t7(e){this.g=e}(n=tk.prototype).Ha=function(e){this.J=e},n.ea=function(e,n,r,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);n=n?n.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():t.g(),this.v=this.o?ev(this.o):ev(t),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(n,String(e),!0),this.B=!1}catch(e){tN(this,e);return}if(e=r||"",r=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var s in i)r.set(s,i[s]);else if("function"==typeof i.keys&&"function"==typeof i.get)for(let e of i.keys())r.set(e,i.get(e));else throw Error("Unknown input type for opt_headers: "+String(i));for(let[t,a]of(i=Array.from(r.keys()).find(e=>"content-type"==e.toLowerCase()),s=o.FormData&&e instanceof o.FormData,!(0<=Array.prototype.indexOf.call(tD,n,void 0))||i||s||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r))this.g.setRequestHeader(t,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{tP(this),this.u=!0,this.g.send(e),this.u=!1}catch(e){tN(this,e)}},n.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,ea(this,"complete"),ea(this,"abort"),tB(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tB(this,!0)),tk.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?tR(this):this.bb())},n.bb=function(){tR(this)},n.isActive=function(){return!!this.g},n.Z=function(){try{return 2<tO(this)?this.g.status:-1}catch(e){return -1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},n.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),eg(t)}},n.Ba=function(){return this.m},n.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(n=tU.prototype).la=8,n.G=1,n.connect=function(e,t,n,r){eT(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=t2(this,null,this.W),tq(this)},n.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;let i=new eM(this,this.j,e),s=this.o;if(this.S&&(s?N(s=T(s),this.S):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.map&&"string"==typeof(r=r.map.__data__)){r=r.length;break t}r=void 0}if(void 0===r)break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tG(this,i,t),tr(n=e7(this.I),"RID",e),tr(n,"CVER",22),this.D&&tr(n,"X-HTTP-Session-Id",this.D),tH(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(tx(s)))+"&"+t:this.m&&tI(n,this.m,s)),e1(this.h,i),this.Ua&&tr(n,"TYPE","init"),this.P?(tr(n,"$req",t),tr(n,"SID","null"),i.T=!0,ej(i,n,null)):ej(i,n,t),this.G=2}}else 3==this.G&&(e?t$(this,e):0==this.i.length||eJ(this.h)||t$(this))},n.Fa=function(){if(this.u=null,tY(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=eN(h(this.ab,this),e)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,eT(10),tj(this),tY(this))},n.Za=function(){null!=this.C&&(this.C=null,tj(this),tQ(this),eT(19))},n.fb=function(e){e?(this.j.info("Successfully pinged google.com"),eT(2)):(this.j.info("Failed to ping google.com"),eT(1))},n.isActive=function(){return!!this.l&&this.l.isActive(this)},(n=t4.prototype).ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){},t6.prototype.g=function(e,t){return new t5(e,t)},d(t5,eo),t5.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},t5.prototype.close=function(){tV(this.g)},t5.prototype.o=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=ep(e),e=n);t.i.push(new eY(t.Ya++,e)),3==t.G&&tq(t)},t5.prototype.N=function(){this.g.l=null,delete this.j,tV(this.g),delete this.g,t5.aa.N.call(this)},d(t8,e_),d(t9,eE),d(t7,t4),t7.prototype.ua=function(){ea(this.g,"a")},t7.prototype.ta=function(e){ea(this.g,new t8(e))},t7.prototype.sa=function(e){ea(this.g,new t9)},t7.prototype.ra=function(){ea(this.g,"b")},t6.prototype.createWebChannel=t6.prototype.g,t5.prototype.send=t5.prototype.o,t5.prototype.open=t5.prototype.m,t5.prototype.close=t5.prototype.close,C=e5.createWebChannelTransport=function(){return new t6},E=e5.getStatEventTarget=function(){return eA()},_=e5.Event=eC,w=e5.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},eB.NO_ERROR=0,eB.TIMEOUT=8,eB.HTTP_ERROR=6,b=e5.ErrorCode=eB,eP.COMPLETE="complete",v=e5.EventType=eP,eb.EventType=ew,ew.OPEN="a",ew.CLOSE="b",ew.ERROR="c",ew.MESSAGE="d",eo.prototype.listen=eo.prototype.K,y=e5.WebChannel=eb,e5.FetchXmlHttpFactory=t_,tk.prototype.listenOnce=tk.prototype.L,tk.prototype.getLastError=tk.prototype.Ka,tk.prototype.getLastErrorCode=tk.prototype.Ba,tk.prototype.getStatus=tk.prototype.Z,tk.prototype.getResponseJson=tk.prototype.Oa,tk.prototype.getResponseText=tk.prototype.oa,tk.prototype.send=tk.prototype.ea,tk.prototype.setWithCredentials=tk.prototype.Ha,m=e5.XhrIo=tk}).apply(void 0!==e6?e6:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}),S=function(e){for(var t,n=e.length,r=n%3,i=[],s=0,o=n-r;s<o;s+=16383)i.push(function(e,t,n){for(var r,i=[],s=t;s<n;s+=3)r=(e[s]<<16&0xff0000)+(e[s+1]<<8&65280)+(255&e[s+2]),i.push(e8[r>>18&63]+e8[r>>12&63]+e8[r>>6&63]+e8[63&r]);return i.join("")}(e,s,s+16383>o?o:s+16383));return 1===r?i.push(e8[(t=e[n-1])>>2]+e8[t<<4&63]+"=="):2===r&&i.push(e8[(t=(e[n-2]<<8)+e[n-1])>>10]+e8[t>>4&63]+e8[t<<2&63]+"="),i.join("")};for(var e8=[],e9=[],e7="undefined"!=typeof Uint8Array?Uint8Array:Array,te="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",tt=0,tn=te.length;tt<tn;++tt)e8[tt]=te[tt],e9[te.charCodeAt(tt)]=tt;e9[45]=62,e9[95]=63,A=function(e,t,n,r,i){var s,o,a=8*i-r-1,l=(1<<a)-1,u=l>>1,c=-7,h=n?i-1:0,f=n?-1:1,d=e[t+h];for(h+=f,s=d&(1<<-c)-1,d>>=-c,c+=a;c>0;s=256*s+e[t+h],h+=f,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=r;c>0;o=256*o+e[t+h],h+=f,c-=8);if(0===s)s=1-u;else{if(s===l)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,r),s-=u}return(d?-1:1)*o*Math.pow(2,s-r)},x=function(e,t,n,r,i,s){var o,a,l,u=8*s-i-1,c=(1<<u)-1,h=c>>1,f=5960464477539062e-23*(23===i),d=r?0:s-1,p=r?1:-1,g=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(a=+!!isNaN(t),o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+h>=1?t+=f/l:t+=f*Math.pow(2,1-h),t*l>=2&&(o++,l/=2),o+h>=c?(a=0,o=c):o+h>=1?(a=(t*l-1)*Math.pow(2,i),o+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;e[n+d]=255&a,d+=p,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;e[n+d]=255&o,d+=p,o/=256,u-=8);e[n+d-p]|=128*g};const tr="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function ti(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,ts.prototype),t}function ts(e,t,n){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return tl(e)}return to(e,t,n)}function to(e,t,n){if("string"==typeof e){var r=e,i=t;if(("string"!=typeof i||""===i)&&(i="utf8"),!ts.isEncoding(i))throw TypeError("Unknown encoding: "+i);let n=0|tf(r,i),s=ti(n),o=s.write(r,i);return o!==n&&(s=s.slice(0,o)),s}if(ArrayBuffer.isView(e)){var s=e;if(tP(s,Uint8Array)){let e=new Uint8Array(s);return tc(e.buffer,e.byteOffset,e.byteLength)}return tu(s)}if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(tP(e,ArrayBuffer)||e&&tP(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(tP(e,SharedArrayBuffer)||e&&tP(e.buffer,SharedArrayBuffer)))return tc(e,t,n);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let o=e.valueOf&&e.valueOf();if(null!=o&&o!==e)return ts.from(o,t,n);let a=function(e){if(ts.isBuffer(e)){let t=0|th(e.length),n=ti(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||function(e){return e!=e}(e.length)?ti(0):tu(e):"Buffer"===e.type&&Array.isArray(e.data)?tu(e.data):void 0}(e);if(a)return a;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return ts.from(e[Symbol.toPrimitive]("string"),t,n);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function ta(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function tl(e){return ta(e),ti(e<0?0:0|th(e))}function tu(e){let t=e.length<0?0:0|th(e.length),n=ti(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function tc(e,t,n){let r;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),ts.prototype),r}function th(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function tf(e,t){if(ts.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||tP(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return tL(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return tR(e).length;default:if(i)return r?-1:tL(e).length;t=(""+t).toLowerCase(),i=!0}}function td(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===n||n>this.length)&&(n=this.length),n<=0||(n>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,n){let r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let i="";for(let r=t;r<n;++r)i+=tO[e[r]];return i}(this,t,n);case"utf8":case"utf-8":return ty(this,t,n);case"ascii":return function(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}(this,t,n);case"latin1":case"binary":return function(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}(this,t,n);case"base64":var i,s,o;return i=this,s=t,o=n,0===s&&o===i.length?S(i):S(i.slice(s,o));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,n){let r=e.slice(t,n),i="";for(let e=0;e<r.length-1;e+=2)i+=String.fromCharCode(r[e]+256*r[e+1]);return i}(this,t,n);default:if(r)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function tp(e,t,n){let r=e[t];e[t]=e[n],e[n]=r}function tg(e,t,n,r,i){var s;if(0===e.length)return -1;if("string"==typeof n?(r=n,n=0):n>0x7fffffff?n=0x7fffffff:n<-0x80000000&&(n=-0x80000000),(s=n*=1)!=s&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length)if(i)return -1;else n=e.length-1;else if(n<0)if(!i)return -1;else n=0;if("string"==typeof t&&(t=ts.from(t,r)),ts.isBuffer(t))return 0===t.length?-1:tm(e,t,n,r,i);if("number"==typeof t){if(t&=255,"function"==typeof Uint8Array.prototype.indexOf)if(i)return Uint8Array.prototype.indexOf.call(e,t,n);else return Uint8Array.prototype.lastIndexOf.call(e,t,n);return tm(e,[t],n,r,i)}throw TypeError("val must be string, number or Buffer")}function tm(e,t,n,r,i){let s,o=1,a=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return -1;o=2,a/=2,l/=2,n/=2}function u(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){let r=-1;for(s=n;s<a;s++)if(u(e,s)===u(t,-1===r?0:s-r)){if(-1===r&&(r=s),s-r+1===l)return r*o}else -1!==r&&(s-=s-r),r=-1}else for(n+l>a&&(n=a-l),s=n;s>=0;s--){let n=!0;for(let r=0;r<l;r++)if(u(e,s+r)!==u(t,r)){n=!1;break}if(n)return s}return -1}function ty(e,t,n){n=Math.min(e.length,n);let r=[],i=t;for(;i<n;){let t=e[i],s=null,o=t>239?4:t>223?3:t>191?2:1;if(i+o<=n){let n,r,a,l;switch(o){case 1:t<128&&(s=t);break;case 2:(192&(n=e[i+1]))==128&&(l=(31&t)<<6|63&n)>127&&(s=l);break;case 3:n=e[i+1],r=e[i+2],(192&n)==128&&(192&r)==128&&(l=(15&t)<<12|(63&n)<<6|63&r)>2047&&(l<55296||l>57343)&&(s=l);break;case 4:n=e[i+1],r=e[i+2],a=e[i+3],(192&n)==128&&(192&r)==128&&(192&a)==128&&(l=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&a)>65535&&l<1114112&&(s=l)}}null===s?(s=65533,o=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|1023&s),r.push(s),i+=o}var s=r;let o=s.length;if(o<=4096)return String.fromCharCode.apply(String,s);let a="",l=0;for(;l<o;)a+=String.fromCharCode.apply(String,s.slice(l,l+=4096));return a}function tv(e,t,n){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>n)throw RangeError("Trying to access beyond buffer length")}function tb(e,t,n,r,i,s){if(!ts.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw RangeError('"value" argument is out of bounds');if(n+r>e.length)throw RangeError("Index out of range")}function tw(e,t,n,r,i){tk(t,r,i,e,n,7);let s=Number(t&BigInt(0xffffffff));e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s;let o=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,n}function t_(e,t,n,r,i){tk(t,r,i,e,n,7);let s=Number(t&BigInt(0xffffffff));e[n+7]=s,s>>=8,e[n+6]=s,s>>=8,e[n+5]=s,s>>=8,e[n+4]=s;let o=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[n+3]=o,o>>=8,e[n+2]=o,o>>=8,e[n+1]=o,o>>=8,e[n]=o,n+8}function tE(e,t,n,r,i,s){if(n+r>e.length||n<0)throw RangeError("Index out of range")}function tC(e,t,n,r,i){return t*=1,n>>>=0,i||tE(e,t,n,4,34028234663852886e22,-34028234663852886e22),x(e,t,n,r,23,4),n+4}function tS(e,t,n,r,i){return t*=1,n>>>=0,i||tE(e,t,n,8,17976931348623157e292,-17976931348623157e292),x(e,t,n,r,52,8),n+8}ts.TYPED_ARRAY_SUPPORT=function(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),ts.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(ts.prototype,"parent",{enumerable:!0,get:function(){if(ts.isBuffer(this))return this.buffer}}),Object.defineProperty(ts.prototype,"offset",{enumerable:!0,get:function(){if(ts.isBuffer(this))return this.byteOffset}}),ts.poolSize=8192,ts.from=function(e,t,n){return to(e,t,n)},Object.setPrototypeOf(ts.prototype,Uint8Array.prototype),Object.setPrototypeOf(ts,Uint8Array),ts.alloc=function(e,t,n){return(ta(e),e<=0)?ti(e):void 0!==t?"string"==typeof n?ti(e).fill(t,n):ti(e).fill(t):ti(e)},ts.allocUnsafe=function(e){return tl(e)},ts.allocUnsafeSlow=function(e){return tl(e)},ts.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==ts.prototype},ts.compare=function(e,t){if(tP(e,Uint8Array)&&(e=ts.from(e,e.offset,e.byteLength)),tP(t,Uint8Array)&&(t=ts.from(t,t.offset,t.byteLength)),!ts.isBuffer(e)||!ts.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let i=0,s=Math.min(n,r);i<s;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:+(r<n)},ts.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},ts.concat=function(e,t){let n;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return ts.alloc(0);if(void 0===t)for(n=0,t=0;n<e.length;++n)t+=e[n].length;let r=ts.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){let t=e[n];if(tP(t,Uint8Array))i+t.length>r.length?(ts.isBuffer(t)||(t=ts.from(t)),t.copy(r,i)):Uint8Array.prototype.set.call(r,t,i);else if(ts.isBuffer(t))t.copy(r,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=t.length}return r},ts.byteLength=tf,ts.prototype._isBuffer=!0,ts.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)tp(this,t,t+1);return this},ts.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)tp(this,t,t+3),tp(this,t+1,t+2);return this},ts.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)tp(this,t,t+7),tp(this,t+1,t+6),tp(this,t+2,t+5),tp(this,t+3,t+4);return this},ts.prototype.toString=function(){let e=this.length;return 0===e?"":0==arguments.length?ty(this,0,e):td.apply(this,arguments)},ts.prototype.toLocaleString=ts.prototype.toString,ts.prototype.equals=function(e){if(!ts.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===ts.compare(this,e)},ts.prototype.inspect=function(){let e="";return e=this.toString("hex",0,50).replace(/(.{2})/g,"$1 ").trim(),this.length>50&&(e+=" ... "),"<Buffer "+e+">"},tr&&(ts.prototype[tr]=ts.prototype.inspect),ts.prototype.compare=function(e,t,n,r,i){if(tP(e,Uint8Array)&&(e=ts.from(e,e.offset,e.byteLength)),!ts.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return -1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;let s=i-r,o=n-t,a=Math.min(s,o),l=this.slice(r,i),u=e.slice(t,n);for(let e=0;e<a;++e)if(l[e]!==u[e]){s=l[e],o=u[e];break}return s<o?-1:+(o<s)},ts.prototype.includes=function(e,t,n){return -1!==this.indexOf(e,t,n)},ts.prototype.indexOf=function(e,t,n){return tg(this,e,t,n,!0)},ts.prototype.lastIndexOf=function(e,t,n){return tg(this,e,t,n,!1)},ts.prototype.write=function(e,t,n,r){var i,s,o,a,l,u,c,h;if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let f=this.length-t;if((void 0===n||n>f)&&(n=f),e.length>0&&(n<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let d=!1;for(;;)switch(r){case"hex":return function(e,t,n,r){let i;n=Number(n)||0;let s=e.length-n;r?(r=Number(r))>s&&(r=s):r=s;let o=t.length;for(r>o/2&&(r=o/2),i=0;i<r;++i){var a;let r=parseInt(t.substr(2*i,2),16);if((a=r)!=a)break;e[n+i]=r}return i}(this,e,t,n);case"utf8":case"utf-8":return i=t,s=n,tB(tL(e,this.length-i),this,i,s);case"ascii":case"latin1":case"binary":return o=t,a=n,tB(function(e){let t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(e),this,o,a);case"base64":return l=t,u=n,tB(tR(e),this,l,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c=t,h=n,tB(function(e,t){let n,r,i=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)r=(n=e.charCodeAt(s))>>8,i.push(n%256),i.push(r);return i}(e,this.length-c),this,c,h);default:if(d)throw TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),d=!0}},ts.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},ts.prototype.slice=function(e,t){let n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);let r=this.subarray(e,t);return Object.setPrototypeOf(r,ts.prototype),r},ts.prototype.readUintLE=ts.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||tv(e,t,this.length);let r=this[e],i=1,s=0;for(;++s<t&&(i*=256);)r+=this[e+s]*i;return r},ts.prototype.readUintBE=ts.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||tv(e,t,this.length);let r=this[e+--t],i=1;for(;t>0&&(i*=256);)r+=this[e+--t]*i;return r},ts.prototype.readUint8=ts.prototype.readUInt8=function(e,t){return e>>>=0,t||tv(e,1,this.length),this[e]},ts.prototype.readUint16LE=ts.prototype.readUInt16LE=function(e,t){return e>>>=0,t||tv(e,2,this.length),this[e]|this[e+1]<<8},ts.prototype.readUint16BE=ts.prototype.readUInt16BE=function(e,t){return e>>>=0,t||tv(e,2,this.length),this[e]<<8|this[e+1]},ts.prototype.readUint32LE=ts.prototype.readUInt32LE=function(e,t){return e>>>=0,t||tv(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},ts.prototype.readUint32BE=ts.prototype.readUInt32BE=function(e,t){return e>>>=0,t||tv(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},ts.prototype.readBigUInt64LE=tM(function(e){tT(e>>>=0,"offset");let t=this[e],n=this[e+7];(void 0===t||void 0===n)&&tD(e,this.length-8);let r=t+256*this[++e]+65536*this[++e]+0x1000000*this[++e],i=this[++e]+256*this[++e]+65536*this[++e]+0x1000000*n;return BigInt(r)+(BigInt(i)<<BigInt(32))}),ts.prototype.readBigUInt64BE=tM(function(e){tT(e>>>=0,"offset");let t=this[e],n=this[e+7];(void 0===t||void 0===n)&&tD(e,this.length-8);let r=0x1000000*t+65536*this[++e]+256*this[++e]+this[++e],i=0x1000000*this[++e]+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)}),ts.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||tv(e,t,this.length);let r=this[e],i=1,s=0;for(;++s<t&&(i*=256);)r+=this[e+s]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},ts.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||tv(e,t,this.length);let r=t,i=1,s=this[e+--r];for(;r>0&&(i*=256);)s+=this[e+--r]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*t)),s},ts.prototype.readInt8=function(e,t){return(e>>>=0,t||tv(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},ts.prototype.readInt16LE=function(e,t){e>>>=0,t||tv(e,2,this.length);let n=this[e]|this[e+1]<<8;return 32768&n?0xffff0000|n:n},ts.prototype.readInt16BE=function(e,t){e>>>=0,t||tv(e,2,this.length);let n=this[e+1]|this[e]<<8;return 32768&n?0xffff0000|n:n},ts.prototype.readInt32LE=function(e,t){return e>>>=0,t||tv(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},ts.prototype.readInt32BE=function(e,t){return e>>>=0,t||tv(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},ts.prototype.readBigInt64LE=tM(function(e){tT(e>>>=0,"offset");let t=this[e],n=this[e+7];return(void 0===t||void 0===n)&&tD(e,this.length-8),(BigInt(this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24))<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+0x1000000*this[++e])}),ts.prototype.readBigInt64BE=tM(function(e){tT(e>>>=0,"offset");let t=this[e],n=this[e+7];return(void 0===t||void 0===n)&&tD(e,this.length-8),(BigInt((t<<24)+65536*this[++e]+256*this[++e]+this[++e])<<BigInt(32))+BigInt(0x1000000*this[++e]+65536*this[++e]+256*this[++e]+n)}),ts.prototype.readFloatLE=function(e,t){return e>>>=0,t||tv(e,4,this.length),A(this,e,!0,23,4)},ts.prototype.readFloatBE=function(e,t){return e>>>=0,t||tv(e,4,this.length),A(this,e,!1,23,4)},ts.prototype.readDoubleLE=function(e,t){return e>>>=0,t||tv(e,8,this.length),A(this,e,!0,52,8)},ts.prototype.readDoubleBE=function(e,t){return e>>>=0,t||tv(e,8,this.length),A(this,e,!1,52,8)},ts.prototype.writeUintLE=ts.prototype.writeUIntLE=function(e,t,n,r){if(e*=1,t>>>=0,n>>>=0,!r){let r=Math.pow(2,8*n)-1;tb(this,e,t,n,r,0)}let i=1,s=0;for(this[t]=255&e;++s<n&&(i*=256);)this[t+s]=e/i&255;return t+n},ts.prototype.writeUintBE=ts.prototype.writeUIntBE=function(e,t,n,r){if(e*=1,t>>>=0,n>>>=0,!r){let r=Math.pow(2,8*n)-1;tb(this,e,t,n,r,0)}let i=n-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+n},ts.prototype.writeUint8=ts.prototype.writeUInt8=function(e,t,n){return e*=1,t>>>=0,n||tb(this,e,t,1,255,0),this[t]=255&e,t+1},ts.prototype.writeUint16LE=ts.prototype.writeUInt16LE=function(e,t,n){return e*=1,t>>>=0,n||tb(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},ts.prototype.writeUint16BE=ts.prototype.writeUInt16BE=function(e,t,n){return e*=1,t>>>=0,n||tb(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},ts.prototype.writeUint32LE=ts.prototype.writeUInt32LE=function(e,t,n){return e*=1,t>>>=0,n||tb(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},ts.prototype.writeUint32BE=ts.prototype.writeUInt32BE=function(e,t,n){return e*=1,t>>>=0,n||tb(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},ts.prototype.writeBigUInt64LE=tM(function(e,t=0){return tw(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),ts.prototype.writeBigUInt64BE=tM(function(e,t=0){return t_(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),ts.prototype.writeIntLE=function(e,t,n,r){if(e*=1,t>>>=0,!r){let r=Math.pow(2,8*n-1);tb(this,e,t,n,r-1,-r)}let i=0,s=1,o=0;for(this[t]=255&e;++i<n&&(s*=256);)e<0&&0===o&&0!==this[t+i-1]&&(o=1),this[t+i]=(e/s|0)-o&255;return t+n},ts.prototype.writeIntBE=function(e,t,n,r){if(e*=1,t>>>=0,!r){let r=Math.pow(2,8*n-1);tb(this,e,t,n,r-1,-r)}let i=n-1,s=1,o=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===o&&0!==this[t+i+1]&&(o=1),this[t+i]=(e/s|0)-o&255;return t+n},ts.prototype.writeInt8=function(e,t,n){return e*=1,t>>>=0,n||tb(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},ts.prototype.writeInt16LE=function(e,t,n){return e*=1,t>>>=0,n||tb(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},ts.prototype.writeInt16BE=function(e,t,n){return e*=1,t>>>=0,n||tb(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},ts.prototype.writeInt32LE=function(e,t,n){return e*=1,t>>>=0,n||tb(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},ts.prototype.writeInt32BE=function(e,t,n){return e*=1,t>>>=0,n||tb(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},ts.prototype.writeBigInt64LE=tM(function(e,t=0){return tw(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),ts.prototype.writeBigInt64BE=tM(function(e,t=0){return t_(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),ts.prototype.writeFloatLE=function(e,t,n){return tC(this,e,t,!0,n)},ts.prototype.writeFloatBE=function(e,t,n){return tC(this,e,t,!1,n)},ts.prototype.writeDoubleLE=function(e,t,n){return tS(this,e,t,!0,n)},ts.prototype.writeDoubleBE=function(e,t,n){return tS(this,e,t,!1,n)},ts.prototype.copy=function(e,t,n,r){if(!ts.isBuffer(e))throw TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw RangeError("Index out of range");if(r<0)throw RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);let i=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},ts.prototype.fill=function(e,t,n,r){let i;if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw TypeError("encoding must be a string");if("string"==typeof r&&!ts.isEncoding(r))throw TypeError("Unknown encoding: "+r);if(1===e.length){let t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw RangeError("Out of range index");if(n<=t)return this;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{let s=ts.isBuffer(e)?e:ts.from(e,r),o=s.length;if(0===o)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=s[i%o]}return this};const tA={};function tx(e,t,n){tA[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function tI(e){let t="",n=e.length,r=+("-"===e[0]);for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function tk(e,t,n,r,i,s){if(e>n||e<t){let r,i="bigint"==typeof t?"n":"";throw r=s>3?0===t||t===BigInt(0)?`>= 0${i} and < 2${i} ** ${(s+1)*8}${i}`:`>= -(2${i} ** ${(s+1)*8-1}${i}) and < 2 ** ${(s+1)*8-1}${i}`:`>= ${t}${i} and <= ${n}${i}`,new tA.ERR_OUT_OF_RANGE("value",r,e)}tT(i,"offset"),(void 0===r[i]||void 0===r[i+s])&&tD(i,r.length-(s+1))}function tT(e,t){if("number"!=typeof e)throw new tA.ERR_INVALID_ARG_TYPE(t,"number",e)}function tD(e,t,n){if(Math.floor(e)!==e)throw tT(e,n),new tA.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new tA.ERR_BUFFER_OUT_OF_BOUNDS;throw new tA.ERR_OUT_OF_RANGE(n||"offset",`>= ${+!!n} and <= ${t}`,e)}tx("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),tx("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),tx("ERR_OUT_OF_RANGE",function(e,t,n){let r=`The value of "${e}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>0x100000000?i=tI(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=tI(i)),i+="n"),r+=` It must be ${t}. Received ${i}`},RangeError);const tN=/[^+/0-9A-Za-z-_]/g;function tL(e,t){let n;t=t||1/0;let r=e.length,i=null,s=[];for(let o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319||o+1===r){(t-=3)>-1&&s.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&s.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;s.push(n)}else if(n<2048){if((t-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else if(n<1114112){if((t-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}else throw Error("Invalid code point")}return s}function tR(e){return function(e){var t,n,r=function(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");-1===n&&(n=t);var r=n===t?0:4-n%4;return[n,r]}(e),i=r[0],s=r[1],o=new e7((i+s)*3/4-s),a=0,l=s>0?i-4:i;for(n=0;n<l;n+=4)t=e9[e.charCodeAt(n)]<<18|e9[e.charCodeAt(n+1)]<<12|e9[e.charCodeAt(n+2)]<<6|e9[e.charCodeAt(n+3)],o[a++]=t>>16&255,o[a++]=t>>8&255,o[a++]=255&t;return 2===s&&(t=e9[e.charCodeAt(n)]<<2|e9[e.charCodeAt(n+1)]>>4,o[a++]=255&t),1===s&&(t=e9[e.charCodeAt(n)]<<10|e9[e.charCodeAt(n+1)]<<4|e9[e.charCodeAt(n+2)]>>2,o[a++]=t>>8&255,o[a++]=255&t),o}(function(e){if((e=(e=e.split("=")[0]).trim().replace(tN,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function tB(e,t,n,r){let i;for(i=0;i<r&&!(i+n>=t.length)&&!(i>=e.length);++i)t[i+n]=e[i];return i}function tP(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}const tO=function(){let e="0123456789abcdef",t=Array(256);for(let n=0;n<16;++n){let r=16*n;for(let i=0;i<16;++i)t[r+i]=e[n]+e[i]}return t}();function tM(e){return"undefined"==typeof BigInt?tF:e}function tF(){throw Error("BigInt not supported")}const tU="@firebase/firestore";class tV{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tV.UNAUTHENTICATED=new tV(null),tV.GOOGLE_CREDENTIALS=new tV("google-credentials-uid"),tV.FIRST_PARTY=new tV("first-party-uid"),tV.MOCK_USER=new tV("mock-user");let tj="10.14.0";const tz=new ev("@firebase/firestore");function tq(){return tz.logLevel}function t$(e,...t){if(tz.logLevel<=d.DEBUG){let n=t.map(tK);tz.debug(`Firestore (${tj}): ${e}`,...n)}}function tH(e,...t){if(tz.logLevel<=d.ERROR){let n=t.map(tK);tz.error(`Firestore (${tj}): ${e}`,...n)}}function tG(e,...t){if(tz.logLevel<=d.WARN){let n=t.map(tK);tz.warn(`Firestore (${tj}): ${e}`,...n)}}function tK(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}function tQ(e="Unexpected state"){let t=`FIRESTORE (${tj}) INTERNAL ASSERTION FAILED: `+e;throw tH(t),Error(t)}const tW={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class tY extends er{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class tX{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class tJ{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tZ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(tV.UNAUTHENTICATED))}shutdown(){}}class t0{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class t1{constructor(e){this.t=e,this.currentUser=tV.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){void 0===this.o||tQ();let n=this.i,r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve(),i=new tX;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new tX,e.enqueueRetryable(()=>r(this.currentUser))};let s=()=>{let t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},o=e=>{t$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(e=>o(e)),setTimeout(()=>{if(!this.auth){let e=this.t.getImmediate({optional:!0});e?o(e):(t$("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new tX)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(t$("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?("string"==typeof t.accessToken||tQ(),new tJ(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return null===e||"string"==typeof e||tQ(),new tV(e)}}class t2{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=tV.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class t3{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new t2(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(tV.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class t4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class t6{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){void 0===this.o||tQ();let n=e=>{null!=e.error&&t$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);let n=e.token!==this.R;return this.R=e.token,t$("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};let r=e=>{t$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){let e=this.A.getImmediate({optional:!0});e?r(e):t$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?("string"==typeof e.token||tQ(),this.R=e.token,new t4(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}class t5{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";for(;n.length<20;){let r=function(e){let t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(40);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let e=0;e<40;e++)n[e]=Math.floor(256*Math.random());return n}(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function t8(e,t){return e<t?-1:+(e>t)}function t9(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}class t7{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0||t>=1e9)throw new tY(tW.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-0xe7791f700||e>=0x3afff44180)throw new tY(tW.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t7.fromMillis(Date.now())}static fromDate(e){return t7.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new t7(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?t8(this.nanoseconds,e.nanoseconds):t8(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -0xe7791f700).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ne{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ne(e)}static min(){return new ne(new t7(0,0))}static max(){return new ne(new t7(0x3afff4417f,0x3b9ac9ff))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class nt{constructor(e,t,n){void 0===t?t=0:t>e.length&&tQ(),void 0===n?n=e.length-t:n>e.length-t&&tQ(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===nt.comparator(this,e)}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof nt?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let n=Math.min(e.length,t.length);for(let r=0;r<n;r++){let n=e.get(r),i=t.get(r);if(n<i)return -1;if(n>i)return 1}return e.length<t.length?-1:+(e.length>t.length)}}class nn extends nt{construct(e,t,n){return new nn(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let n of e){if(n.indexOf("//")>=0)throw new tY(tW.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new nn(t)}static emptyPath(){return new nn([])}}const nr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ni extends nt{construct(e,t,n){return new ni(e,t,n)}static isValidIdentifier(e){return nr.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ni.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ni(["__name__"])}static fromServerFormat(e){let t=[],n="",r=0,i=()=>{if(0===n.length)throw new tY(tW.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""},s=!1;for(;r<e.length;){let t=e[r];if("\\"===t){if(r+1===e.length)throw new tY(tW.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new tY(tW.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?s=!s:"."!==t||s?n+=t:i(),r++}if(i(),s)throw new tY(tW.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ni(t)}static emptyPath(){return new ni([])}}class ns{constructor(e){this.path=e}static fromPath(e){return new ns(nn.fromString(e))}static fromName(e){return new ns(nn.fromString(e).popFirst(5))}static empty(){return new ns(nn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===nn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return nn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ns(new nn(e.slice()))}}class no{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new no(ne.min(),ns.empty(),-1)}static max(){return new no(ne.max(),ns.empty(),-1)}}class na{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function nl(e){if(e.code!==tW.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==e.message)throw e;t$("LocalStore","Unexpectedly lost primary lease")}class nu{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&tQ(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new nu((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof nu?t:nu.resolve(t)}catch(e){return nu.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):nu.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):nu.reject(t)}static resolve(e){return new nu((t,n)=>{t(e)})}static reject(e){return new nu((t,n)=>{n(e)})}static waitFor(e){return new nu((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=nu.resolve(!1);for(let n of e)t=t.next(e=>e?nu.resolve(e):n());return t}static forEach(e,t){let n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new nu((n,r)=>{let i=e.length,s=Array(i),o=0;for(let a=0;a<i;a++){let l=a;t(e[l]).next(e=>{s[l]=e,++o===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new nu((n,r)=>{let i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function nc(e){return"IndexedDbTransactionError"===e.name}class nh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){let e=++this.previousValue;return this.se&&this.se(e),e}}function nf(e){return 0===e&&1/e==-1/0}function nd(e){let t=0;for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function np(e,t){for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ng(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}nh.oe=-1;class nm{constructor(e,t){this.comparator=e,this.root=t||nv.EMPTY}insert(e,t){return new nm(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,nv.BLACK,null,null))}remove(e){return new nm(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nv.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return -1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){let e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ny(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ny(this.root,e,this.comparator,!1)}getReverseIterator(){return new ny(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ny(this.root,e,this.comparator,!0)}}class ny{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nv{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:nv.RED,this.left=null!=r?r:nv.EMPTY,this.right=null!=i?i:nv.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new nv(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}removeMin(){if(this.left.isEmpty())return nv.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()}remove(e,t){let n,r=this;if(0>t(e,r.key))r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return nv.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}rotateLeft(){let e=this.copy(null,null,nv.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,nv.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){return Math.pow(2,this.check())<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw tQ();let e=this.left.check();if(e!==this.right.check())throw tQ();return e+ +!this.isRed()}}nv.EMPTY=null,nv.RED=!0,nv.BLACK=!1,nv.EMPTY=new class{constructor(){this.size=0}get key(){throw tQ()}get value(){throw tQ()}get color(){throw tQ()}get left(){throw tQ()}get right(){throw tQ()}copy(e,t,n,r,i){return this}insert(e,t,n){return new nv(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class nb{constructor(e){this.comparator=e,this.data=new nm(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){let n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){let r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new nw(this.data.getIterator())}getIteratorFrom(e){return new nw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof nb)||this.size!==e.size)return!1;let t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){let e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new nb(this.comparator);return t.data=e,t}}class nw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class n_{constructor(e){this.fields=e,e.sort(ni.comparator)}static empty(){return new n_([])}unionWith(e){let t=new nb(ni.comparator);for(let e of this.fields)t=t.add(e);for(let n of e)t=t.add(n);return new n_(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return t9(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class nE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nC{constructor(e){this.binaryString=e}static fromBase64String(e){return new nC(function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new nE("Invalid base64 string: "+e):e}}(e))}static fromUint8Array(e){return new nC(function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e))}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){var e=this.binaryString;let t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return t8(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nC.EMPTY_BYTE_STRING=new nC("");const nS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nA(e){if(e||tQ(),"string"==typeof e){let t=0,n=nS.exec(e);if(n||tQ(),n[1]){let e=n[1];t=Number(e=(e+"000000000").substr(0,9))}return{seconds:Math.floor(new Date(e).getTime()/1e3),nanos:t}}return{seconds:nx(e.seconds),nanos:nx(e.nanos)}}function nx(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function nI(e){return"string"==typeof e?nC.fromBase64String(e):nC.fromUint8Array(e)}function nk(e){var t,n;return"server_timestamp"===(null==(n=((null==(t=null==e?void 0:e.mapValue)?void 0:t.fields)||{}).__type__)?void 0:n.stringValue)}function nT(e){let t=e.mapValue.fields.__previous_value__;return nk(t)?nT(t):t}function nD(e){let t=nA(e.mapValue.fields.__local_write_time__.timestampValue);return new t7(t.seconds,t.nanos)}class nN{constructor(e,t,n,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class nL{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new nL("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof nL&&e.projectId===this.projectId&&e.database===this.database}}const nR={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function nB(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?nk(e)?4:nQ(e)?0x1fffffffffffff:nG(e)?10:11:tQ()}function nP(e,t){if(e===t)return!0;let n=nB(e);if(n!==nB(t))return!1;switch(n){case 0:case 0x1fffffffffffff:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return nD(e).isEqual(nD(t));case 3:if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;let r=nA(e.timestampValue),i=nA(t.timestampValue);return r.seconds===i.seconds&&r.nanos===i.nanos;case 5:return e.stringValue===t.stringValue;case 6:return nI(e.bytesValue).isEqual(nI(t.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return nx(e.geoPointValue.latitude)===nx(t.geoPointValue.latitude)&&nx(e.geoPointValue.longitude)===nx(t.geoPointValue.longitude);case 2:if("integerValue"in e&&"integerValue"in t)return nx(e.integerValue)===nx(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){let n=nx(e.doubleValue),r=nx(t.doubleValue);return n===r?nf(n)===nf(r):isNaN(n)&&isNaN(r)}return!1;case 9:return t9(e.arrayValue.values||[],t.arrayValue.values||[],nP);case 10:case 11:let s=e.mapValue.fields||{},o=t.mapValue.fields||{};if(nd(s)!==nd(o))return!1;for(let e in s)if(s.hasOwnProperty(e)&&(void 0===o[e]||!nP(s[e],o[e])))return!1;return!0;default:return tQ()}}function nO(e,t){return void 0!==(e.values||[]).find(e=>nP(e,t))}function nM(e,t){if(e===t)return 0;let n=nB(e),r=nB(t);if(n!==r)return t8(n,r);switch(n){case 0:case 0x1fffffffffffff:return 0;case 1:return t8(e.booleanValue,t.booleanValue);case 2:let i=nx(e.integerValue||e.doubleValue),s=nx(t.integerValue||t.doubleValue);return i<s?-1:i>s?1:i===s?0:isNaN(i)?isNaN(s)?0:-1:1;case 3:return nF(e.timestampValue,t.timestampValue);case 4:return nF(nD(e),nD(t));case 5:return t8(e.stringValue,t.stringValue);case 6:return function(e,t){let n=nI(e),r=nI(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){let n=e.split("/"),r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){let t=t8(n[e],r[e]);if(0!==t)return t}return t8(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){let n=t8(nx(e.latitude),nx(t.latitude));return 0!==n?n:t8(nx(e.longitude),nx(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return nU(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;let o=e.fields||{},a=t.fields||{},l=null==(n=o.value)?void 0:n.arrayValue,u=null==(r=a.value)?void 0:r.arrayValue,c=t8((null==(i=null==l?void 0:l.values)?void 0:i.length)||0,(null==(s=null==u?void 0:u.values)?void 0:s.length)||0);return 0!==c?c:nU(l,u)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===nR.mapValue&&t===nR.mapValue)return 0;if(e===nR.mapValue)return 1;if(t===nR.mapValue)return -1;let n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let e=0;e<r.length&&e<s.length;++e){let t=t8(r[e],s[e]);if(0!==t)return t;let o=nM(n[r[e]],i[s[e]]);if(0!==o)return o}return t8(r.length,s.length)}(e.mapValue,t.mapValue);default:throw tQ()}}function nF(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return t8(e,t);let n=nA(e),r=nA(t),i=t8(n.seconds,r.seconds);return 0!==i?i:t8(n.nanos,r.nanos)}function nU(e,t){let n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){let t=nM(n[e],r[e]);if(t)return t}return t8(n.length,r.length)}function nV(e){var t,n;return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){let t=nA(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?nI(e.bytesValue).toBase64():"referenceValue"in e?(t=e.referenceValue,ns.fromName(t).toString()):"geoPointValue"in e?(n=e.geoPointValue,`geo(${n.latitude},${n.longitude})`):"arrayValue"in e?function(e){let t="[",n=!0;for(let r of e.values||[])n?n=!1:t+=",",t+=nV(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){let t=Object.keys(e.fields||{}).sort(),n="{",r=!0;for(let i of t)r?r=!1:n+=",",n+=`${i}:${nV(e.fields[i])}`;return n+"}"}(e.mapValue):tQ()}function nj(e){return!!e&&"integerValue"in e}function nz(e){return!!e&&"arrayValue"in e}function nq(e){return!!e&&"nullValue"in e}function n$(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function nH(e){return!!e&&"mapValue"in e}function nG(e){var t,n;return"__vector__"===(null==(n=((null==(t=null==e?void 0:e.mapValue)?void 0:t.fields)||{}).__type__)?void 0:n.stringValue)}function nK(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){let t={mapValue:{fields:{}}};return np(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=nK(n)),t}if(e.arrayValue){let t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=nK(e.arrayValue.values[n]);return t}return Object.assign({},e)}function nQ(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class nW{constructor(e){this.value=e}static empty(){return new nW({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(!nH(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=nK(t)}setAll(e){let t=ni.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){let e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=nK(e):r.push(i.lastSegment())});let i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){let t=this.field(e.popLast());nH(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return nP(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];nH(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){for(let r of(np(t,(t,n)=>e[t]=n),n))delete e[r]}clone(){return new nW(nK(this.value))}}class nY{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new nY(e,0,ne.min(),ne.min(),ne.min(),nW.empty(),0)}static newFoundDocument(e,t,n,r){return new nY(e,1,t,ne.min(),n,r,0)}static newNoDocument(e,t){return new nY(e,2,t,ne.min(),ne.min(),nW.empty(),0)}static newUnknownDocument(e,t){return new nY(e,3,t,ne.min(),ne.min(),nW.empty(),2)}convertToFoundDocument(e,t){return this.createTime.isEqual(ne.min())&&(2===this.documentType||0===this.documentType)&&(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nW.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nW.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof nY&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nY(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class nX{constructor(e,t){this.position=e,this.inclusive=t}}function nJ(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){let s=t[i],o=e.position[i];if(r=s.field.isKeyField()?ns.comparator(ns.fromName(o.referenceValue),n.key):nM(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function nZ(e,t){if(null===e)return null===t;if(null===t||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!nP(e.position[n],t.position[n]))return!1;return!0}class n0{constructor(e,t="asc"){this.field=e,this.dir=t}}class n1{}class n2 extends n1{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new n5(e,t,n):"array-contains"===t?new re(e,n):"in"===t?new rt(e,n):"not-in"===t?new rn(e,n):"array-contains-any"===t?new rr(e,n):new n2(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new n8(e,n):new n9(e,n)}matches(e){let t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(nM(t,this.value)):null!==t&&nB(this.value)===nB(t)&&this.matchesComparison(nM(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return tQ()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class n3 extends n1{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n3(e,t)}matches(e){return n4(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function n4(e){return"and"===e.op}function n6(e){for(let t of e.filters)if(t instanceof n3)return!1;return!0}class n5 extends n2{constructor(e,t,n){super(e,t,n),this.key=ns.fromName(n.referenceValue)}matches(e){let t=ns.comparator(e.key,this.key);return this.matchesComparison(t)}}class n8 extends n2{constructor(e,t){super(e,"in",t),this.keys=n7("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class n9 extends n2{constructor(e,t){super(e,"not-in",t),this.keys=n7("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function n7(e,t){var n;return((null==(n=t.arrayValue)?void 0:n.values)||[]).map(e=>ns.fromName(e.referenceValue))}class re extends n2{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return nz(t)&&nO(t.arrayValue,this.value)}}class rt extends n2{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return null!==t&&nO(this.value.arrayValue,t)}}class rn extends n2{constructor(e,t){super(e,"not-in",t)}matches(e){if(nO(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return null!==t&&!nO(this.value.arrayValue,t)}}class rr extends n2{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!nz(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>nO(this.value.arrayValue,e))}}class ri{constructor(e,t=null,n=[],r=[],i=null,s=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ue=null}}function rs(e,t=null,n=[],r=[],i=null,s=null,o=null){return new ri(e,t,n,r,i,s,o)}function ro(e){if(null===e.ue){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(e=>(function e(t){if(t instanceof n2)return t.field.canonicalString()+t.op.toString()+nV(t.value);if(n6(t)&&n4(t))return t.filters.map(t=>e(t)).join(",");{let n=t.filters.map(t=>e(t)).join(",");return`${t.op}(${n})`}})(e)).join(","),t+="|ob:",t+=e.orderBy.map(e=>e.field.canonicalString()+e.dir).join(","),null==e.limit||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>nV(e)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>nV(e)).join(",")),e.ue=t}return e.ue}function ra(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++){var n,r;if(n=e.orderBy[i],r=t.orderBy[i],!(n.dir===r.dir&&n.field.isEqual(r.field)))return!1}if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!function e(t,n){return t instanceof n2?n instanceof n2&&t.op===n.op&&t.field.isEqual(n.field)&&nP(t.value,n.value):t instanceof n3?n instanceof n3&&t.op===n.op&&t.filters.length===n.filters.length&&t.filters.reduce((t,r,i)=>t&&e(r,n.filters[i]),!0):void tQ()}(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!nZ(e.startAt,t.startAt)&&nZ(e.endAt,t.endAt)}function rl(e){return ns.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class ru{constructor(e,t=null,n=[],r=[],i=null,s="F",o=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function rc(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function rh(e){if(null===e.ce){let t;e.ce=[];let n=new Set;for(let t of e.explicitOrderBy)e.ce.push(t),n.add(t.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(t=new nb(ni.comparator),e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t).forEach(t=>{n.has(t.canonicalString())||t.isKeyField()||e.ce.push(new n0(t,r))}),n.has(ni.keyField().canonicalString())||e.ce.push(new n0(ni.keyField(),r))}return e.ce}function rf(e){return e.le||(e.le=function(e,t){if("F"===e.limitType)return rs(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{let t="desc"===e.dir?"asc":"desc";return new n0(e.field,t)});let n=e.endAt?new nX(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new nX(e.startAt.position,e.startAt.inclusive):null;return rs(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}(e,rh(e))),e.le}function rd(e,t,n){return new ru(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function rp(e,t){return ra(rf(e),rf(t))&&e.limitType===t.limitType}function rg(e){return`${ro(rf(e))}|lt:${e.limitType}`}function rm(e){var t;let n;return`Query(target=${n=(t=rf(e)).path.canonicalString(),null!==t.collectionGroup&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(e=>(function e(t){return t instanceof n2?`${t.field.canonicalString()} ${t.op} ${nV(t.value)}`:t instanceof n3?t.op.toString()+" {"+t.getFilters().map(e).join(" ,")+"}":"Filter"})(e)).join(", ")}]`),null==t.limit||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(e=>`${e.field.canonicalString()} (${e.dir})`).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(e=>nV(e)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(e=>nV(e)).join(",")),`Target(${n})`}; limitType=${e.limitType})`}function ry(e,t){return t.isFoundDocument()&&function(e,t){let n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ns.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(let n of rh(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(let n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&(!e.startAt||!!function(e,t,n){let r=nJ(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,rh(e),t))&&(!e.endAt||!!function(e,t,n){let r=nJ(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,rh(e),t))}function rv(e){return(t,n)=>{let r=!1;for(let i of rh(e)){let e=function(e,t,n){let r=e.field.isKeyField()?ns.comparator(t.key,n.key):function(e,t,n){let r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?nM(r,i):tQ()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return -1*r;default:return tQ()}}(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}class rb{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){for(let[t,r]of n)if(this.equalsFn(t,e))return r}}has(e){return void 0!==this.get(e)}set(e,t){let n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){np(this.inner,(t,n)=>{for(let[t,r]of n)e(t,r)})}isEmpty(){return ng(this.inner)}size(){return this.innerSize}}const rw=new nm(ns.comparator),r_=new nm(ns.comparator);function rE(...e){let t=r_;for(let n of e)t=t.insert(n.key,n);return t}function rC(e){let t=r_;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function rS(){return new rb(e=>e.toString(),(e,t)=>e.isEqual(t))}const rA=new nm(ns.comparator),rx=new nb(ns.comparator);function rI(...e){let t=rx;for(let n of e)t=t.add(n);return t}const rk=new nb(t8);function rT(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nf(t)?"-0":t}}function rD(e){return{integerValue:""+e}}class rN{constructor(){this._=void 0}}function rL(e,t){return e instanceof rF?nj(t)||t&&"doubleValue"in t?t:{integerValue:0}:null}class rR extends rN{}class rB extends rN{constructor(e){super(),this.elements=e}}function rP(e,t){let n=rV(t);for(let t of e.elements)n.some(e=>nP(e,t))||n.push(t);return{arrayValue:{values:n}}}class rO extends rN{constructor(e){super(),this.elements=e}}function rM(e,t){let n=rV(t);for(let t of e.elements)n=n.filter(e=>!nP(e,t));return{arrayValue:{values:n}}}class rF extends rN{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function rU(e){return nx(e.integerValue||e.doubleValue)}function rV(e){return nz(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class rj{constructor(e,t){this.version=e,this.transformResults=t}}class rz{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new rz}static exists(e){return new rz(void 0,e)}static updateTime(e){return new rz(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rq(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class r${}function rH(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new rZ(e.key,rz.none()):new rQ(e.key,e.data,rz.none());{let n=e.data,r=nW.empty(),i=new nb(ni.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new rW(e.key,r,new n_(i.toArray()),rz.none())}}function rG(e,t,n,r){return e instanceof rQ?function(e,t,n,r){if(!rq(e.precondition,t))return n;let i=e.value.clone(),s=rJ(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof rW?function(e,t,n,r){if(!rq(e.precondition,t))return n;let i=rJ(e.fieldTransforms,r,t),s=t.data;return(s.setAll(rY(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n)?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):rq(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}function rK(e,t){var n,r;return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(n=e.fieldTransforms,r=t.fieldTransforms,!!(void 0===n&&void 0===r||!(!n||!r)&&t9(n,r,(e,t)=>{var n,r;return e.field.isEqual(t.field)&&(n=e.transform,r=t.transform,n instanceof rB&&r instanceof rB||n instanceof rO&&r instanceof rO?t9(n.elements,r.elements,nP):n instanceof rF&&r instanceof rF?nP(n.Pe,r.Pe):n instanceof rR&&r instanceof rR)})))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class rQ extends r${constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class rW extends r${constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function rY(e){let t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=e.data.field(n);t.set(n,r)}}),t}function rX(e,t,n){var r;let i=new Map;e.length===n.length||tQ();for(let s=0;s<n.length;s++){let o=e[s],a=o.transform,l=t.data.field(o.field);i.set(o.field,(r=n[s],a instanceof rB?rP(a,l):a instanceof rO?rM(a,l):r))}return i}function rJ(e,t,n){let r=new Map;for(let i of e){let e=i.transform,s=n.data.field(i.field);r.set(i.field,e instanceof rR?function(e,t){let n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&nk(t)&&(t=nT(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(t,s):e instanceof rB?rP(e,s):e instanceof rO?rM(e,s):function(e,t){let n=rL(e,t),r=rU(n)+rU(e.Pe);return nj(n)&&nj(e.Pe)?rD(r):rT(e.serializer,r)}(e,s))}return r}class rZ extends r${constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class r0 extends r${constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class r1{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){let n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){let r=this.mutations[t];r.key.isEqual(e.key)&&function(e,t,n){e instanceof rQ?function(e,t,n){let r=e.value.clone(),i=rX(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof rW?function(e,t,n){if(!rq(e.precondition,t))return t.convertToUnknownDocument(n.version);let r=rX(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(rY(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):t.convertToNoDocument(n.version).setHasCommittedMutations()}(r,e,n[t])}}applyToLocalView(e,t){for(let n of this.baseMutations)n.key.isEqual(e.key)&&(t=rG(n,e,t,this.localWriteTime));for(let n of this.mutations)n.key.isEqual(e.key)&&(t=rG(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let n=rS();return this.mutations.forEach(r=>{let i=e.get(r.key),s=i.overlayedDocument,o=this.applyToLocalView(s,i.mutatedFields),a=rH(s,o=t.has(r.key)?null:o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(ne.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),rI())}isEqual(e){return this.batchId===e.batchId&&t9(this.mutations,e.mutations,(e,t)=>rK(e,t))&&t9(this.baseMutations,e.baseMutations,(e,t)=>rK(e,t))}}class r2{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){e.mutations.length===n.length||tQ();let r=rA,i=e.mutations;for(let e=0;e<i.length;e++)r=r.insert(i[e].key,n[e].version);return new r2(e,t,n,r)}}class r3{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class r4{constructor(e,t){this.count=e,this.unchangedNames=t}}function r6(e){if(void 0===e)return tH("GRPC error has no .code"),tW.UNKNOWN;switch(e){case I.OK:return tW.OK;case I.CANCELLED:return tW.CANCELLED;case I.UNKNOWN:return tW.UNKNOWN;case I.DEADLINE_EXCEEDED:return tW.DEADLINE_EXCEEDED;case I.RESOURCE_EXHAUSTED:return tW.RESOURCE_EXHAUSTED;case I.INTERNAL:return tW.INTERNAL;case I.UNAVAILABLE:return tW.UNAVAILABLE;case I.UNAUTHENTICATED:return tW.UNAUTHENTICATED;case I.INVALID_ARGUMENT:return tW.INVALID_ARGUMENT;case I.NOT_FOUND:return tW.NOT_FOUND;case I.ALREADY_EXISTS:return tW.ALREADY_EXISTS;case I.PERMISSION_DENIED:return tW.PERMISSION_DENIED;case I.FAILED_PRECONDITION:return tW.FAILED_PRECONDITION;case I.ABORTED:return tW.ABORTED;case I.OUT_OF_RANGE:return tW.OUT_OF_RANGE;case I.UNIMPLEMENTED:return tW.UNIMPLEMENTED;case I.DATA_LOSS:return tW.DATA_LOSS;default:return tQ()}}(k=I||(I={}))[k.OK=0]="OK",k[k.CANCELLED=1]="CANCELLED",k[k.UNKNOWN=2]="UNKNOWN",k[k.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",k[k.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",k[k.NOT_FOUND=5]="NOT_FOUND",k[k.ALREADY_EXISTS=6]="ALREADY_EXISTS",k[k.PERMISSION_DENIED=7]="PERMISSION_DENIED",k[k.UNAUTHENTICATED=16]="UNAUTHENTICATED",k[k.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",k[k.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",k[k.ABORTED=10]="ABORTED",k[k.OUT_OF_RANGE=11]="OUT_OF_RANGE",k[k.UNIMPLEMENTED=12]="UNIMPLEMENTED",k[k.INTERNAL=13]="INTERNAL",k[k.UNAVAILABLE=14]="UNAVAILABLE",k[k.DATA_LOSS=15]="DATA_LOSS";const r5=new p([0xffffffff,0xffffffff],0);function r8(e){let t=(new TextEncoder).encode(e),n=new g;return n.update(t),new Uint8Array(n.digest())}function r9(e){let t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new p([n,r],0),new p([i,s],0)]}class r7{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new ie(`Invalid padding: ${t}`);if(n<0||e.length>0&&0===this.hashCount)throw new ie(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new ie(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=p.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(p.fromNumber(n)));return 1===r.compare(r5)&&(r=new p([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;let[t,n]=r9(r8(e));for(let e=0;e<this.hashCount;e++){let r=this.Ee(t,n,e);if(!this.de(r))return!1}return!0}static create(e,t,n){let r=new r7(new Uint8Array(Math.ceil(e/8)),e%8==0?0:8-e%8,t);return n.forEach(e=>r.insert(e)),r}insert(e){if(0===this.Ie)return;let[t,n]=r9(r8(e));for(let e=0;e<this.hashCount;e++){let r=this.Ee(t,n,e);this.Ae(r)}}Ae(e){let t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class ie extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class it{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){let r=new Map;return r.set(e,ir.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new it(ne.min(),r,new nm(t8),rw,rI())}}class ir{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new ir(n,t,rI(),rI(),rI())}}class ii{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class is{constructor(e,t){this.targetId=e,this.me=t}}class io{constructor(e,t,n=nC.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class ia{constructor(){this.fe=0,this.ge=ic(),this.pe=nC.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=rI(),t=rI(),n=rI();return this.ge.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:tQ()}}),new ir(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=ic()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,this.fe>=0||tQ()}Ne(){this.we=!0,this.ye=!0}}class il{constructor(e){this.Le=e,this.Be=new Map,this.ke=rw,this.qe=iu(),this.Qe=new nm(t8)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:tQ()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((e,n)=>{this.ze(n)&&t(n)})}He(e){let t=e.targetId,n=e.me.count,r=this.Je(t);if(r){let i=r.target;if(rl(i))if(0===n){let e=new ns(i.path);this.Ue(t,e,nY.newNoDocument(e,ne.min()))}else 1===n||tQ();else{let r=this.Ye(t);if(r!==n){let n=this.Ze(e),i=n?this.Xe(n,e,r):1;0!==i&&(this.je(t),this.Qe=this.Qe.insert(t,2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){let t,n,r=e.me.unchangedNames;if(!r||!r.bits)return null;let{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=r;try{t=nI(i).toUint8Array()}catch(e){if(e instanceof nE)return tG("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{n=new r7(t,s,o)}catch(e){return tG(e instanceof ie?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===n.Ie?null:n}Xe(e,t,n){return 2*(t.me.count!==n-this.nt(e,t.targetId))}nt(e,t){let n=this.Le.getRemoteKeysForTarget(t),r=0;return n.forEach(n=>{let i=this.Le.tt(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(s)||(this.Ue(t,n,null),r++)}),r}rt(e){let t=new Map;this.Be.forEach((n,r)=>{let i=this.Je(r);if(i){if(n.current&&rl(i.target)){let t=new ns(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,nY.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}});let n=rI();this.qe.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{let t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.ke.forEach((t,n)=>n.setReadTime(e));let r=new it(e,t,this.Qe,this.ke,n);return this.ke=rw,this.qe=iu(),this.Qe=new nm(t8),r}$e(e,t){if(!this.ze(e))return;let n=2*!!this.it(e,t.key);this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;let r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new ia,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new nb(t8),this.qe=this.qe.insert(e,t)),t}ze(e){let t=null!==this.Je(e);return t||t$("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new ia),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function iu(){return new nm(ns.comparator)}function ic(){return new nm(ns.comparator)}const ih={asc:"ASCENDING",desc:"DESCENDING"},id={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ip={and:"AND",or:"OR"};class ig{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function im(e,t){return e.useProto3Json||null==t?t:{value:t}}function iy(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function iv(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function ib(e){return e||tQ(),ne.fromTimestamp(function(e){let t=nA(e);return new t7(t.seconds,t.nanos)}(e))}function iw(e,t){return i_(e,t).canonicalString()}function i_(e,t){let n=new nn(["projects",e.projectId,"databases",e.database]).child("documents");return void 0===t?n:n.child(t)}function iE(e){let t=nn.fromString(e);return iN(t)||tQ(),t}function iC(e,t){return iw(e.databaseId,t.path)}function iS(e,t){let n=iE(t);if(n.get(1)!==e.databaseId.projectId)throw new tY(tW.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new tY(tW.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ns(iI(n))}function iA(e,t){return iw(e.databaseId,t)}function ix(e){return new nn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function iI(e){return e.length>4&&"documents"===e.get(4)||tQ(),e.popFirst(5)}function ik(e,t,n){return{name:iC(e,t),fields:n.value.mapValue.fields}}function iT(e){return{fieldPath:e.canonicalString()}}function iD(e){return ni.fromServerFormat(e.fieldPath)}function iN(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class iL{constructor(e,t,n,r,i=ne.min(),s=ne.min(),o=nC.EMPTY_BYTE_STRING,a=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new iL(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new iL(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new iL(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new iL(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class iR{constructor(e){this.ct=e}}class iB{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(+!!e.booleanValue);else if("integerValue"in e)this.dt(t,15),t.At(nx(e.integerValue));else if("doubleValue"in e){let n=nx(e.doubleValue);isNaN(n)?this.dt(t,13):(this.dt(t,15),nf(n)?t.At(0):t.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(t,20),"string"==typeof n&&(n=nA(n)),t.Rt(`${n.seconds||""}`),t.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(nI(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let n=e.geoPointValue;this.dt(t,45),t.At(n.latitude||0),t.At(n.longitude||0)}else"mapValue"in e?nQ(e)?this.dt(t,Number.MAX_SAFE_INTEGER):nG(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):tQ()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let n=e.fields||{};for(let e of(this.dt(t,55),Object.keys(n)))this.Vt(e,t),this.Tt(n[e],t)}wt(e,t){var n,r;let i=e.fields||{};this.dt(t,53);let s="value",o=(null==(r=null==(n=i[s].arrayValue)?void 0:n.values)?void 0:r.length)||0;this.dt(t,15),t.At(nx(o)),this.Vt(s,t),this.Tt(i[s],t)}bt(e,t){let n=e.values||[];for(let e of(this.dt(t,50),n))this.Tt(e,t)}yt(e,t){this.dt(t,37),ns.fromName(e).path.forEach(e=>{this.dt(t,60),this.Dt(e,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}}iB.vt=new iB;class iP{constructor(){this.un=new iO}addToCollectionParentIndex(e,t){return this.un.add(t),nu.resolve()}getCollectionParents(e,t){return nu.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return nu.resolve()}deleteFieldIndex(e,t){return nu.resolve()}deleteAllFieldIndexes(e){return nu.resolve()}createTargetIndexes(e,t){return nu.resolve()}getDocumentsMatchingTarget(e,t){return nu.resolve(null)}getIndexType(e,t){return nu.resolve(0)}getFieldIndexes(e,t){return nu.resolve([])}getNextCollectionGroupToUpdate(e){return nu.resolve(null)}getMinOffset(e,t){return nu.resolve(no.min())}getMinOffsetFromCollectionGroup(e,t){return nu.resolve(no.min())}updateCollectionGroup(e,t,n){return nu.resolve()}updateIndexEntries(e,t){return nu.resolve()}}class iO{constructor(){this.index={}}add(e){let t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new nb(nn.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){let t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new nb(nn.comparator)).toArray()}}new Uint8Array(0);class iM{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new iM(e,iM.DEFAULT_COLLECTION_PERCENTILE,iM.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}iM.DEFAULT_COLLECTION_PERCENTILE=10,iM.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,iM.DEFAULT=new iM(0x2800000,iM.DEFAULT_COLLECTION_PERCENTILE,iM.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),iM.DISABLED=new iM(-1,0,0);class iF{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new iF(0)}static kn(){return new iF(-1)}}class iU{constructor(){this.changes=new rb(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,nY.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let n=this.changes.get(t);return void 0!==n?nu.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class iV{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class ij{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&rG(n.mutation,e,n_.empty(),t7.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,rI()).next(()=>t))}getLocalViewOfDocuments(e,t,n=rI()){let r=rS();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=rE();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){let n=rS();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,rI()))}populateOverlays(e,t,n){let r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=rw,s=rS(),o=rS();return t.forEach((e,t)=>{let o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof rW)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),rG(o.mutation,t,o.mutation.getFieldMask(),t7.now())):s.set(t.key,n_.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return o.set(e,new iV(t,null!=(n=s.get(e))?n:null))}),o))}recalculateAndSaveOverlays(e,t){let n=rS(),r=new nm((e,t)=>e-t),i=rI();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(let i of e)i.keys().forEach(e=>{let s=t.get(e);if(null===s)return;let o=n.get(e)||n_.empty();o=i.applyToLocalView(s,o),n.set(e,o);let a=(r.get(i.batchId)||rI()).add(e);r=r.insert(i.batchId,a)})}).next(()=>{let s=[],o=r.getReverseIterator();for(;o.hasNext();){let r=o.getNext(),a=r.key,l=r.value,u=rS();l.forEach(e=>{if(!i.has(e)){let r=rH(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,a,u))}return nu.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return ns.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):null!==t.collectionGroup?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{let s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):nu.resolve(rS()),o=-1,a=i;return s.next(t=>nu.forEach(t,(t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?nu.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{a=a.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,a,t,rI())).next(e=>({batchId:o,changes:rC(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ns(t)).next(e=>{let t=rE();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){let i=t.collectionGroup,s=rE();return this.indexManager.getCollectionParents(e,i).next(o=>nu.forEach(o,o=>{let a=new ru(o.child(i),null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt);return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{let r=n.getKey();null===e.get(r)&&(e=e.insert(r,nY.newInvalidDocument(r)))});let n=rE();return e.forEach((e,r)=>{let s=i.get(e);void 0!==s&&rG(s.mutation,r,n_.empty(),t7.now()),ry(t,r)&&(n=n.insert(e,r))}),n})}}class iz{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return nu.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,{id:t.id,version:t.version,createTime:ib(t.createTime)}),nu.resolve()}getNamedQuery(e,t){return nu.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,{name:t.name,query:function(e){let t=function(e){var t;let n,r=function(e){let t=iE(e);return 4===t.length?nn.emptyPath():iI(t)}(e.parent),i=e.structuredQuery,s=i.from?i.from.length:0,o=null;if(s>0){1===s||tQ();let e=i.from[0];e.allDescendants?o=e.collectionId:r=r.child(e.collectionId)}let a=[];i.where&&(a=function(e){var t;let n=function e(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":let t=iD(e.unaryFilter.field);return n2.create(t,"==",{doubleValue:NaN});case"IS_NULL":let n=iD(e.unaryFilter.field);return n2.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let r=iD(e.unaryFilter.field);return n2.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let i=iD(e.unaryFilter.field);return n2.create(i,"!=",{nullValue:"NULL_VALUE"});default:return tQ()}}(t):void 0!==t.fieldFilter?n2.create(iD(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return tQ()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==t.compositeFilter?n3.create(t.compositeFilter.filters.map(t=>e(t)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return tQ()}}(t.compositeFilter.op)):tQ()}(e);return n instanceof n3&&n6(t=n)&&n4(t)?n.getFilters():[n]}(i.where));let l=[];i.orderBy&&(l=i.orderBy.map(e=>new n0(iD(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))));let u=null;i.limit&&(u=null==(n="object"==typeof(t=i.limit)?t.value:t)?null:n);let c=null;i.startAt&&(c=function(e){let t=!!e.before;return new nX(e.values||[],t)}(i.startAt));let h=null;return i.endAt&&(h=function(e){let t=!e.before;return new nX(e.values||[],t)}(i.endAt)),new ru(r,o,l,a,u,"F",c,h)}({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?rd(t,t.limit,"L"):t}(t.bundledQuery),readTime:ib(t.readTime)}),nu.resolve()}}class iq{constructor(){this.overlays=new nm(ns.comparator),this.Ir=new Map}getOverlay(e,t){return nu.resolve(this.overlays.get(t))}getOverlays(e,t){let n=rS();return nu.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.ht(e,t,r)}),nu.resolve()}removeOverlaysForBatchId(e,t,n){let r=this.Ir.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.Ir.delete(n)),nu.resolve()}getOverlaysForCollection(e,t,n){let r=rS(),i=t.length+1,s=new ns(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){let e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return nu.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new nm((e,t)=>e-t),s=this.overlays.getIterator();for(;s.hasNext();){let e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=rS(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}let o=rS(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((e,t)=>o.set(e,t)),!(o.size()>=r)););return nu.resolve(o)}ht(e,t,n){let r=this.overlays.get(n.key);if(null!==r){let e=this.Ir.get(r.largestBatchId).delete(n.key);this.Ir.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new r3(t,n));let i=this.Ir.get(t);void 0===i&&(i=rI(),this.Ir.set(t,i)),this.Ir.set(t,i.add(n.key))}}class i${constructor(){this.sessionToken=nC.EMPTY_BYTE_STRING}getSessionToken(e){return nu.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,nu.resolve()}}class iH{constructor(){this.Tr=new nb(iG.Er),this.dr=new nb(iG.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let n=new iG(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Vr(new iG(e,t))}mr(e,t){e.forEach(e=>this.removeReference(e,t))}gr(e){let t=new ns(new nn([])),n=new iG(t,e),r=new iG(t,e+1),i=[];return this.dr.forEachInRange([n,r],e=>{this.Vr(e),i.push(e.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new ns(new nn([])),n=new iG(t,e),r=new iG(t,e+1),i=rI();return this.dr.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){let t=new iG(e,0),n=this.Tr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class iG{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return ns.comparator(e.key,t.key)||t8(e.wr,t.wr)}static Ar(e,t){return t8(e.wr,t.wr)||ns.comparator(e.key,t.key)}}class iK{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new nb(iG.Er)}checkEmpty(e){return nu.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){let i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new r1(i,t,n,r);for(let t of(this.mutationQueue.push(s),r))this.br=this.br.add(new iG(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return nu.resolve(s)}lookupMutationBatch(e,t){return nu.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let n=this.vr(t+1),r=n<0?0:n;return nu.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return nu.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return nu.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let n=new iG(t,0),r=new iG(t,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,r],e=>{let t=this.Dr(e.wr);i.push(t)}),nu.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new nb(t8);return t.forEach(e=>{let t=new iG(e,0),r=new iG(e,Number.POSITIVE_INFINITY);this.br.forEachInRange([t,r],e=>{n=n.add(e.wr)})}),nu.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){let n=t.path,r=n.length+1,i=n;ns.isDocumentKey(i)||(i=i.child(""));let s=new iG(new ns(i),0),o=new nb(t8);return this.br.forEachWhile(e=>{let t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.wr)),!0)},s),nu.resolve(this.Cr(o))}Cr(e){let t=[];return e.forEach(e=>{let n=this.Dr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){0===this.Fr(t.batchId,"removed")||tQ(),this.mutationQueue.shift();let n=this.br;return nu.forEach(t.mutations,r=>{let i=new iG(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,t){let n=new iG(t,0),r=this.br.firstAfterOrEqual(n);return nu.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,nu.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class iQ{constructor(e){this.Mr=e,this.docs=new nm(ns.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let n=this.docs.get(t);return nu.resolve(n?n.document.mutableCopy():nY.newInvalidDocument(t))}getEntries(e,t){let n=rw;return t.forEach(e=>{let t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():nY.newInvalidDocument(e))}),nu.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=rw,s=t.path,o=new ns(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){let{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||0>=function(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n||0!==(n=ns.comparator(e.documentKey,t.documentKey))?n:t8(e.largestBatchId,t.largestBatchId)}(new no(o.readTime,o.key,-1),n)||(r.has(o.key)||ry(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return nu.resolve(i)}getAllFromCollectionGroup(e,t,n,r){tQ()}Or(e,t){return nu.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new iW(this)}getSize(e){return nu.resolve(this.size)}}class iW extends iU{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(n)}),nu.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class iY{constructor(e){this.persistence=e,this.Nr=new rb(e=>ro(e),ra),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.Lr=0,this.Br=new iH,this.targetCount=0,this.kr=iF.Bn()}forEachTarget(e,t){return this.Nr.forEach((e,n)=>t(n)),nu.resolve()}getLastRemoteSnapshotVersion(e){return nu.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return nu.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),nu.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),nu.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new iF(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,nu.resolve()}updateTargetData(e,t){return this.Kn(t),nu.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,nu.resolve()}removeTargets(e,t,n){let r=0,i=[];return this.Nr.forEach((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Nr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),nu.waitFor(i).next(()=>r)}getTargetCount(e){return nu.resolve(this.targetCount)}getTargetData(e,t){let n=this.Nr.get(t)||null;return nu.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),nu.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);let r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),nu.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),nu.resolve()}getMatchingKeysForTargetId(e,t){let n=this.Br.yr(t);return nu.resolve(n)}containsKey(e,t){return nu.resolve(this.Br.containsKey(t))}}class iX{constructor(e,t){this.qr={},this.overlays={},this.Qr=new nh(0),this.Kr=!1,this.Kr=!0,this.$r=new i$,this.referenceDelegate=e(this),this.Ur=new iY(this),this.indexManager=new iP,this.remoteDocumentCache=new iQ(e=>this.referenceDelegate.Wr(e)),this.serializer=new iR(t),this.Gr=new iz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new iq,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new iK(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){t$("MemoryPersistence","Starting transaction:",e);let r=new iJ(this.Qr.next());return this.referenceDelegate.zr(),n(r).next(e=>this.referenceDelegate.jr(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Hr(e,t){return nu.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,t)))}}class iJ extends na{constructor(e){super(),this.currentSequenceNumber=e}}class iZ{constructor(e){this.persistence=e,this.Jr=new iH,this.Yr=null}static Zr(e){return new iZ(e)}get Xr(){if(this.Yr)return this.Yr;throw tQ()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),nu.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),nu.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),nu.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(e=>this.Xr.add(e.toString()));let n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Xr.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nu.forEach(this.Xr,n=>{let r=ns.fromPath(n);return this.ei(e,r).next(e=>{e||t.removeEntry(r,ne.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(e=>{e?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return nu.or([()=>nu.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class i0{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=r}static Wi(e,t){let n=rI(),r=rI();for(let e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key)}return new i0(e,t.fromCache,n,r)}}class i1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class i2{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=!function(){var e;let t=null==(e=J())?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(P.process)}catch(e){return!1}}()&&navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")?8:function(e){let t=e.match(/Android ([\d.]+)/i);return Number(t?t[1].split(".").slice(0,2).join("."):"-1")}("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:"")>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,r){let i={result:null};return this.Yi(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.Zi(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;let n=new i1;return this.Xi(e,t,n).next(r=>{if(i.result=r,this.zi)return this.es(e,t,n,r.size)})}).next(()=>i.result)}es(e,t,n,r){return n.documentReadCount<this.ji?(tq()<=d.DEBUG&&t$("QueryEngine","SDK will not create cache indexes for query:",rm(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),nu.resolve()):(tq()<=d.DEBUG&&t$("QueryEngine","Query:",rm(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Hi*r?(tq()<=d.DEBUG&&t$("QueryEngine","The SDK decides to create cache indexes for query:",rm(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,rf(t))):nu.resolve())}Yi(e,t){if(rc(t))return nu.resolve(null);let n=rf(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(n=rf(t=rd(t,null,"F"))),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{let i=rI(...r);return this.Ji.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{let s=this.ts(t,r);return this.ns(t,s,i,n.readTime)?this.Yi(e,rd(t,null,"F")):this.rs(e,s,t,n)}))})))}Zi(e,t,n,r){return rc(t)||r.isEqual(ne.min())?nu.resolve(null):this.Ji.getDocuments(e,n).next(i=>{let s=this.ts(t,i);return this.ns(t,s,n,r)?nu.resolve(null):(tq()<=d.DEBUG&&t$("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),rm(t)),this.rs(e,s,t,function(e,t){let n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1;return new no(ne.fromTimestamp(1e9===r?new t7(n+1,0):new t7(n,r)),ns.empty(),-1)}(r,0)).next(e=>e))})}ts(e,t){let n=new nb(rv(e));return t.forEach((t,r)=>{ry(e,r)&&(n=n.add(r))}),n}ns(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;let i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Xi(e,t,n){return tq()<=d.DEBUG&&t$("QueryEngine","Using full collection scan to execute query:",rm(t)),this.Ji.getDocumentsMatchingQuery(e,t,no.min(),n)}rs(e,t,n,r){return this.Ji.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}class i3{constructor(e,t,n,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new nm(t8),this._s=new rb(e=>ro(e),ra),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ij(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}async function i4(e,t){return await e.persistence.runTransaction("Handle user change","readonly",n=>{let r;return e.mutationQueue.getAllMutationBatches(n).next(i=>(r=i,e.ls(t),e.mutationQueue.getAllMutationBatches(n))).next(t=>{let i=[],s=[],o=rI();for(let e of r)for(let t of(i.push(e.batchId),e.mutations))o=o.add(t.key);for(let e of t)for(let t of(s.push(e.batchId),e.mutations))o=o.add(t.key);return e.localDocuments.getDocuments(n,o).next(e=>({hs:e,removedBatchIds:i,addedBatchIds:s}))})})}function i6(e){return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}async function i5(e,t,n){let r=e.os.get(t);try{n||await e.persistence.runTransaction("Release target",n?"readwrite":"readwrite-primary",t=>e.persistence.referenceDelegate.removeTarget(t,r))}catch(e){if(!nc(e))throw e;t$("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}e.os=e.os.remove(t),e._s.delete(r.target)}function i8(e,t,n){let r=ne.min(),i=rI();return e.persistence.runTransaction("Execute query","readwrite",s=>(function(e,t,n){let r=e._s.get(n);return void 0!==r?nu.resolve(e.os.get(r)):e.Ur.getTargetData(t,n)})(e,s,rf(t)).next(t=>{if(t)return r=t.lastLimboFreeSnapshotVersion,e.Ur.getMatchingKeysForTargetId(s,t.targetId).next(e=>{i=e})}).next(()=>e.ss.getDocumentsMatchingQuery(s,t,n?r:ne.min(),n?i:rI())).next(n=>{var r,s,o;let a;return r=e,s=t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2)),o=n,a=r.us.get(s)||ne.min(),o.forEach((e,t)=>{t.readTime.compareTo(a)>0&&(a=t.readTime)}),r.us.set(s,a),{documents:n,Ts:i}}))}class i9{constructor(){this.activeTargetIds=rk}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){return JSON.stringify({activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()})}}class i7{constructor(){this.so=new i9,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new i9,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class se{_o(e){}shutdown(){}}class st{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){for(let e of(t$("ConnectivityMonitor","Network connectivity changed: AVAILABLE"),this.ho))e(0)}lo(){for(let e of(t$("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE"),this.ho))e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let sn=null;function sr(){return null===sn?sn=0x10000000+Math.round(0x80000000*Math.random()):sn++,"0x"+sn.toString(16)}const si={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ss{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const so="WebChannelConnection";class sa extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=t+"://"+e.host,this.vo=`projects/${n}/databases/${r}`,this.Co="(default)"===this.databaseId.database?`project_id=${n}`:`project_id=${n}&database_id=${r}`}get Fo(){return!1}Mo(e,t,n,r,i){let s=sr(),o=this.xo(e,t.toUriEncodedString());t$("RestConnection",`Sending RPC '${e}' ${s}:`,o,n);let a={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(a,r,i),this.No(e,o,a,n).then(t=>(t$("RestConnection",`Received RPC '${e}' ${s}: `,t),t),t=>{throw tG("RestConnection",`RPC '${e}' ${s} failed with error: `,t,"url: ",o,"request:",n),t})}Lo(e,t,n,r,i,s){return this.Mo(e,t,n,r,i)}Oo(e,t,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+tj}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}xo(e,t){let n=si[e];return`${this.Do}/v1/${t}:${n}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,r){let i=sr();return new Promise((s,o)=>{let a=new m;a.setWithCredentials(!0),a.listenOnce(v.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case b.NO_ERROR:let t=a.getResponseJson();t$(so,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),s(t);break;case b.TIMEOUT:t$(so,`RPC '${e}' ${i} timed out`),o(new tY(tW.DEADLINE_EXCEEDED,"Request time out"));break;case b.HTTP_ERROR:let n=a.getStatus();if(t$(so,`RPC '${e}' ${i} failed with status:`,n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);let t=null==e?void 0:e.error;if(t&&t.status&&t.message){let e=function(e){let t=e.toLowerCase().replace(/_/g,"-");return Object.values(tW).indexOf(t)>=0?t:tW.UNKNOWN}(t.status);o(new tY(e,t.message))}else o(new tY(tW.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new tY(tW.UNAVAILABLE,"Connection failed."));break;default:tQ()}}finally{t$(so,`RPC '${e}' ${i} completed.`)}});let l=JSON.stringify(r);t$(so,`RPC '${e}' ${i} sending request:`,r),a.send(t,"POST",l,n,15)})}Bo(e,t,n){let r=sr(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=C(),o=E(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Oo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;let u=i.join("");t$(so,`Creating RPC '${e}' stream ${r}: ${u}`,a);let c=s.createWebChannel(u,a),h=!1,f=!1,d=new ss({Io:t=>{f?t$(so,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(h||(t$(so,`Opening RPC '${e}' stream ${r} transport.`),c.open(),h=!0),t$(so,`RPC '${e}' stream ${r} sending:`,t),c.send(t))},To:()=>c.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(c,y.EventType.OPEN,()=>{f||(t$(so,`RPC '${e}' stream ${r} transport opened.`),d.yo())}),p(c,y.EventType.CLOSE,()=>{f||(f=!0,t$(so,`RPC '${e}' stream ${r} transport closed`),d.So())}),p(c,y.EventType.ERROR,t=>{f||(f=!0,tG(so,`RPC '${e}' stream ${r} transport errored:`,t),d.So(new tY(tW.UNAVAILABLE,"The operation could not be completed")))}),p(c,y.EventType.MESSAGE,t=>{var n;if(!f){let i=t.data[0];i||tQ();let s=i.error||(null==(n=i[0])?void 0:n.error);if(s){t$(so,`RPC '${e}' stream ${r} received error:`,s);let t=s.status,n=function(e){let t=I[e];if(void 0!==t)return r6(t)}(t),i=s.message;void 0===n&&(n=tW.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),f=!0,d.So(new tY(n,i)),c.close()}else t$(so,`RPC '${e}' stream ${r} received:`,i),d.bo(i)}}),p(o,_.STAT_EVENT,t=>{t.stat===w.PROXY?t$(so,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===w.NOPROXY&&t$(so,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{d.wo()},0),d}}function sl(){return"undefined"!=typeof document?document:null}function su(e){return new ig(e,!0)}class sc{constructor(e,t,n=1e3,r=1.5,i=6e4){this.ui=e,this.timerId=t,this.ko=n,this.qo=r,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-n);r>0&&t$("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class sh{constructor(e,t,n,r,i,s,o,a){this.ui=e,this.Ho=n,this.Jo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new sc(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,4!==e?this.t_.reset():t&&t.code===tW.RESOURCE_EXHAUSTED?(tH(t.toString()),tH("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===tW.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,n])=>{this.Yo===t&&this.P_(e,n)},t=>{e(()=>{let e=new tY(tW.UNKNOWN,"Fetching auth token failed: "+t.message);return this.I_(e)})})}P_(e,t){let n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(e=>{n(()=>this.I_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.e_?this.E_(e):this.onNext(e))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return t$("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(t$("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sf extends sh{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=function(e,t){let n;if("targetChange"in t){var r,i;t.targetChange;let s="NO_CHANGE"===(r=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:tQ(),o=t.targetChange.targetIds||[],a=(i=t.targetChange.resumeToken,e.useProto3Json?(void 0===i||"string"==typeof i||tQ(),nC.fromBase64String(i||"")):(void 0===i||i instanceof ts||i instanceof Uint8Array||tQ(),nC.fromUint8Array(i||new Uint8Array))),l=t.targetChange.cause;n=new io(s,o,a,l&&new tY(void 0===l.code?tW.UNKNOWN:r6(l.code),l.message||"")||null)}else if("documentChange"in t){t.documentChange;let r=t.documentChange;r.document,r.document.name,r.document.updateTime;let i=iS(e,r.document.name),s=ib(r.document.updateTime),o=r.document.createTime?ib(r.document.createTime):ne.min(),a=new nW({mapValue:{fields:r.document.fields}}),l=nY.newFoundDocument(i,s,o,a);n=new ii(r.targetIds||[],r.removedTargetIds||[],l.key,l)}else if("documentDelete"in t){t.documentDelete;let r=t.documentDelete;r.document;let i=iS(e,r.document),s=r.readTime?ib(r.readTime):ne.min(),o=nY.newNoDocument(i,s);n=new ii([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in t){t.documentRemove;let r=t.documentRemove;r.document;let i=iS(e,r.document);n=new ii([],r.removedTargetIds||[],i,null)}else{if(!("filter"in t))return tQ();{t.filter;let e=t.filter;e.targetId;let{count:r=0,unchangedNames:i}=e,s=new r4(r,i);n=new is(e.targetId,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return ne.min();let t=e.targetChange;return t.targetIds&&t.targetIds.length?ne.min():t.readTime?ib(t.readTime):ne.min()}(e);return this.listener.d_(t,n)}A_(e){let t={};t.database=ix(this.serializer),t.addTarget=function(e,t){let n,r=t.target;if((n=rl(r)?{documents:{documents:[iA(e,r.path)]}}:{query:function(e,t){var n,r;let i,s={structuredQuery:{}},o=t.path;null!==t.collectionGroup?(i=o,s.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=o.popLast(),s.structuredQuery.from=[{collectionId:o.lastSegment()}]),s.parent=iA(e,i);let a=function(e){if(0!==e.length)return function e(t){return t instanceof n2?function(e){if("=="===e.op){if(n$(e.value))return{unaryFilter:{field:iT(e.field),op:"IS_NAN"}};if(nq(e.value))return{unaryFilter:{field:iT(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(n$(e.value))return{unaryFilter:{field:iT(e.field),op:"IS_NOT_NAN"}};if(nq(e.value))return{unaryFilter:{field:iT(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:iT(e.field),op:id[e.op],value:e.value}}}(t):t instanceof n3?function(t){let n=t.getFilters().map(t=>e(t));return 1===n.length?n[0]:{compositeFilter:{op:ip[t.op],filters:n}}}(t):tQ()}(n3.create(e,"and"))}(t.filters);a&&(s.structuredQuery.where=a);let l=function(e){if(0!==e.length)return e.map(e=>({field:iT(e.field),direction:ih[e.dir]}))}(t.orderBy);l&&(s.structuredQuery.orderBy=l);let u=im(e,t.limit);return null!==u&&(s.structuredQuery.limit=u),t.startAt&&(s.structuredQuery.startAt={before:(n=t.startAt).inclusive,values:n.position}),t.endAt&&(s.structuredQuery.endAt={before:!(r=t.endAt).inclusive,values:r.position}),{_t:s,parent:i}}(e,r)._t}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=iv(e,t.resumeToken);let r=im(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(ne.min())>0){n.readTime=iy(e,t.snapshotVersion.toTimestamp());let r=im(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);let n=function(e,t){let n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return tQ()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){let t={};t.database=ix(this.serializer),t.removeTarget=e,this.a_(t)}}class sd extends sh{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return e.streamToken||tQ(),this.lastStreamToken=e.streamToken,e.writeResults&&0!==e.writeResults.length&&tQ(),this.listener.f_()}onNext(e){var t,n;e.streamToken||tQ(),this.lastStreamToken=e.streamToken,this.t_.reset();let r=(t=e.writeResults,n=e.commitTime,t&&t.length>0?(void 0!==n||tQ(),t.map(e=>{let t;return(t=e.updateTime?ib(e.updateTime):ib(n)).isEqual(ne.min())&&(t=ib(n)),new rj(t,e.transformResults||[])})):[]),i=ib(e.commitTime);return this.listener.g_(i,r)}p_(){let e={};e.database=ix(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(e=>(function(e,t){var n;let r;if(t instanceof rQ)r={update:ik(e,t.key,t.value)};else if(t instanceof rZ)r={delete:iC(e,t.key)};else if(t instanceof rW)r={update:ik(e,t.key,t.data),updateMask:function(e){let t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}(t.fieldMask)};else{if(!(t instanceof r0))return tQ();r={verify:iC(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(e=>(function(e,t){let n=t.transform;if(n instanceof rR)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof rB)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof rO)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof rF)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw tQ()})(0,e))),t.precondition.isNone||(r.currentDocument=void 0!==(n=t.precondition).updateTime?{updateTime:iy(e,n.updateTime.toTimestamp())}:void 0!==n.exists?{exists:n.exists}:tQ()),r})(this.serializer,e))};this.a_(t)}}class sp extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new tY(tW.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Mo(e,i_(t,n),r,i,s)).catch(e=>{throw"FirebaseError"===e.name?(e.code===tW.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new tY(tW.UNKNOWN,e.toString())})}Lo(e,t,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Lo(e,i_(t,n),r,s,o,i)).catch(e=>{throw"FirebaseError"===e.name?(e.code===tW.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new tY(tW.UNKNOWN,e.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class sg{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(tH(t),this.D_=!1):t$("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class sm{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(e=>{n.enqueueAndForget(async()=>{sA(this)&&(t$("RemoteStore","Restarting streams for network reachability change."),await async function(e){e.L_.add(4),await sv(e),e.q_.set("Unknown"),e.L_.delete(4),await sy(e)}(this))})}),this.q_=new sg(n,r)}}async function sy(e){if(sA(e))for(let t of e.B_)await t(!0)}async function sv(e){for(let t of e.B_)await t(!1)}function sb(e,t){e.N_.has(t.targetId)||(e.N_.set(t.targetId,t),sS(e)?sC(e):sj(e).r_()&&s_(e,t))}function sw(e,t){let n=sj(e);e.N_.delete(t),n.r_()&&sE(e,t),0===e.N_.size&&(n.r_()?n.o_():sA(e)&&e.q_.set("Unknown"))}function s_(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ne.min())>0){let n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}sj(e).A_(t)}function sE(e,t){e.Q_.xe(t),sj(e).R_(t)}function sC(e){e.Q_=new il({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),sj(e).start(),e.q_.v_()}function sS(e){return sA(e)&&!sj(e).n_()&&e.N_.size>0}function sA(e){return 0===e.L_.size}async function sx(e){e.q_.set("Online")}async function sI(e){e.N_.forEach((t,n)=>{s_(e,t)})}async function sk(e,t){e.Q_=void 0,sS(e)?(e.q_.M_(t),sC(e)):e.q_.set("Unknown")}async function sT(e,t,n){if(e.q_.set("Online"),t instanceof io&&2===t.state&&t.cause)try{await async function(e,t){let n=t.cause;for(let r of t.targetIds)e.N_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.N_.delete(r),e.Q_.removeTarget(r))}(e,t)}catch(n){t$("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await sD(e,n)}else if(t instanceof ii?e.Q_.Ke(t):t instanceof is?e.Q_.He(t):e.Q_.We(t),!n.isEqual(ne.min()))try{let t=await i6(e.localStore);n.compareTo(t)>=0&&await function(e,t){let n=e.Q_.rt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){let i=e.N_.get(r);i&&e.N_.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{let r=e.N_.get(t);if(!r)return;e.N_.set(t,r.withResumeToken(nC.EMPTY_BYTE_STRING,r.snapshotVersion)),sE(e,t);let i=new iL(r.target,t,n,r.sequenceNumber);s_(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){t$("RemoteStore","Failed to raise snapshot:",t),await sD(e,t)}}async function sD(e,t,n){if(!nc(t))throw t;e.L_.add(1),await sv(e),e.q_.set("Offline"),n||(n=()=>i6(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{t$("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await sy(e)})}function sN(e,t){return t().catch(n=>sD(e,n,t))}async function sL(e){var t;let n=sz(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;sA(t=e)&&t.O_.length<10;)try{let t=await function(e,t){return e.persistence.runTransaction("Get next mutation batch","readonly",n=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}(e.localStore,r);if(null===t){0===e.O_.length&&n.o_();break}r=t.batchId,function(e,t){e.O_.push(t);let n=sz(e);n.r_()&&n.V_&&n.m_(t.mutations)}(e,t)}catch(t){await sD(e,t)}sR(e)&&sB(e)}function sR(e){return sA(e)&&!sz(e).n_()&&e.O_.length>0}function sB(e){sz(e).start()}async function sP(e){sz(e).p_()}async function sO(e){let t=sz(e);for(let n of e.O_)t.m_(n.mutations)}async function sM(e,t,n){let r=e.O_.shift(),i=r2.from(r,t,n);await sN(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await sL(e)}async function sF(e,t){t&&sz(e).V_&&await async function(e,t){var n;if(function(e){switch(e){default:return tQ();case tW.CANCELLED:case tW.UNKNOWN:case tW.DEADLINE_EXCEEDED:case tW.RESOURCE_EXHAUSTED:case tW.INTERNAL:case tW.UNAVAILABLE:case tW.UNAUTHENTICATED:return!1;case tW.INVALID_ARGUMENT:case tW.NOT_FOUND:case tW.ALREADY_EXISTS:case tW.PERMISSION_DENIED:case tW.FAILED_PRECONDITION:case tW.ABORTED:case tW.OUT_OF_RANGE:case tW.UNIMPLEMENTED:case tW.DATA_LOSS:return!0}}(n=t.code)&&n!==tW.ABORTED){let n=e.O_.shift();sz(e).s_(),await sN(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await sL(e)}}(e,t),sR(e)&&sB(e)}async function sU(e,t){e.asyncQueue.verifyOperationInProgress(),t$("RemoteStore","RemoteStore received new credentials");let n=sA(e);e.L_.add(3),await sv(e),n&&e.q_.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.L_.delete(3),await sy(e)}async function sV(e,t){t?(e.L_.delete(2),await sy(e)):t||(e.L_.add(2),await sv(e),e.q_.set("Unknown"))}function sj(e){var t,n,r;return e.K_||(t=e.datastore,n=e.asyncQueue,r={Eo:sx.bind(null,e),Ro:sI.bind(null,e),mo:sk.bind(null,e),d_:sT.bind(null,e)},t.w_(),e.K_=new sf(n,t.connection,t.authCredentials,t.appCheckCredentials,t.serializer,r),e.B_.push(async t=>{t?(e.K_.s_(),sS(e)?sC(e):e.q_.set("Unknown")):(await e.K_.stop(),e.Q_=void 0)})),e.K_}function sz(e){var t,n,r;return e.U_||(t=e.datastore,n=e.asyncQueue,r={Eo:()=>Promise.resolve(),Ro:sP.bind(null,e),mo:sF.bind(null,e),f_:sO.bind(null,e),g_:sM.bind(null,e)},t.w_(),e.U_=new sd(n,t.connection,t.authCredentials,t.appCheckCredentials,t.serializer,r),e.B_.push(async t=>{t?(e.U_.s_(),await sL(e)):(await e.U_.stop(),e.O_.length>0&&(t$("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))})),e.U_}class sq{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new tX,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){let s=new sq(e,t,Date.now()+n,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new tY(tW.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function s$(e,t){if(tH("AsyncQueue",`${t}: ${e}`),nc(e))return new tY(tW.UNAVAILABLE,`${t}: ${e}`);throw e}class sH{constructor(e){this.comparator=e?(t,n)=>e(t,n)||ns.comparator(t.key,n.key):(e,t)=>ns.comparator(e.key,t.key),this.keyedMap=rE(),this.sortedSet=new nm(this.comparator)}static emptySet(e){return new sH(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof sH)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){let e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){let n=new sH;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class sG{constructor(){this.W_=new nm(ns.comparator)}track(e){let t=e.doc.key,n=this.W_.get(t);n?0!==e.type&&3===n.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==n.type?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.W_=this.W_.remove(t):1===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):tQ():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,n)=>{e.push(n)}),e}}class sK{constructor(e,t,n,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){let s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new sK(e,t,sH.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}class sQ{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class sW{constructor(){this.queries=sY(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,t){let n=e.queries;e.queries=sY(),n.forEach((e,n)=>{for(let e of n.j_)e.onError(t)})}(this,new tY(tW.ABORTED,"Firestore shutting down"))}}function sY(){return new rb(e=>rg(e),rp)}async function sX(e,t){let n=3,r=t.query,i=e.queries.get(r);i?!i.H_()&&t.J_()&&(n=2):(i=new sQ,n=+!t.J_());try{switch(n){case 0:i.z_=await e.onListen(r,!0);break;case 1:i.z_=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(n){let e=s$(n,`Initialization of query '${rm(t.query)}' failed`);return void t.onError(e)}e.queries.set(r,i),i.j_.push(t),t.Z_(e.onlineState),i.z_&&t.X_(i.z_)&&s1(e)}async function sJ(e,t){let n=t.query,r=3,i=e.queries.get(n);if(i){let e=i.j_.indexOf(t);e>=0&&(i.j_.splice(e,1),0===i.j_.length?r=+!t.J_():!i.H_()&&t.J_()&&(r=2))}switch(r){case 0:return e.queries.delete(n),e.onUnlisten(n,!0);case 1:return e.queries.delete(n),e.onUnlisten(n,!1);case 2:return e.onLastRemoteStoreUnlisten(n);default:return}}function sZ(e,t){let n=!1;for(let r of t){let t=r.query,i=e.queries.get(t);if(i){for(let e of i.j_)e.X_(r)&&(n=!0);i.z_=r}}n&&s1(e)}function s0(e,t,n){let r=e.queries.get(t);if(r)for(let e of r.j_)e.onError(n);e.queries.delete(t)}function s1(e){e.Y_.forEach(e=>{e.next()})}(D=T||(T={})).ea="default",D.Cache="cache";class s2{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){let t=[];for(let n of e.docChanges)3!==n.type&&t.push(n);e=new sK(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){return!(e.fromCache&&this.J_())||(!this.options._a||"Offline"===t)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}oa(e){e=sK.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==T.Cache}}class s3{constructor(e){this.key=e}}class s4{constructor(e){this.key=e}}class s6{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=rI(),this.mutatedKeys=rI(),this.Aa=rv(e),this.Ra=new sH(this.Aa)}get Va(){return this.Ta}ma(e,t){let n=t?t.fa:new sG,r=t?t.Ra:this.Ra,i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1,a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{let u=r.get(e),c=ry(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),f=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations),d=!1;u&&c?u.data.isEqual(c.data)?h!==f&&(n.track({type:3,doc:c}),d=!0):this.ga(u,c)||(n.track({type:2,doc:c}),d=!0,(a&&this.Aa(c,a)>0||l&&0>this.Aa(c,l))&&(o=!0)):!u&&c?(n.track({type:0,doc:c}),d=!0):u&&!c&&(n.track({type:1,doc:u}),d=!0,(a||l)&&(o=!0)),d&&(c?(s=s.add(c),i=f?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){let e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ra:s,fa:n,ns:o,mutatedKeys:i}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){let i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((e,t)=>(function(e,t){let n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tQ()}};return n(e)-n(t)})(e.type,t.type)||this.Aa(e.doc,t.doc)),this.pa(n),r=null!=r&&r;let o=t&&!r?this.ya():[],a=0===this.da.size&&this.current&&!r?1:0,l=a!==this.Ea;return(this.Ea=a,0!==s.length||l)?{snapshot:new sK(this.query,e.Ra,i,s,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new sG,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(e=>this.Ta=this.Ta.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ta=this.Ta.delete(e)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=rI(),this.Ra.forEach(e=>{this.Sa(e.key)&&(this.da=this.da.add(e.key))});let t=[];return e.forEach(e=>{this.da.has(e)||t.push(new s4(e))}),this.da.forEach(n=>{e.has(n)||t.push(new s3(n))}),t}ba(e){this.Ta=e.Ts,this.da=rI();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return sK.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class s5{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class s8{constructor(e){this.key=e,this.va=!1}}class s9{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new rb(e=>rg(e),rp),this.Ma=new Map,this.xa=new Set,this.Oa=new nm(ns.comparator),this.Na=new Map,this.La=new iH,this.Ba={},this.ka=new Map,this.qa=iF.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}async function s7(e,t,n=!0){let r,i=ow(e),s=i.Fa.get(t);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.Da()):r=await ot(i,t,n,!0),r}async function oe(e,t){let n=ow(e);await ot(n,t,!0,!1)}async function ot(e,t,n,r){var i,s;let o,a=await (i=e.localStore,s=rf(t),i.persistence.runTransaction("Allocate target","readwrite",e=>{let t;return i.Ur.getTargetData(e,s).next(n=>n?(t=n,nu.resolve(t)):i.Ur.allocateTargetId(e).next(n=>(t=new iL(s,n,"TargetPurposeListen",e.currentSequenceNumber),i.Ur.addTargetData(e,t).next(()=>t))))}).then(e=>{let t=i.os.get(e.targetId);return(null===t||e.snapshotVersion.compareTo(t.snapshotVersion)>0)&&(i.os=i.os.insert(e.targetId,e),i._s.set(s,e.targetId)),e})),l=a.targetId,u=e.sharedClientState.addLocalQueryTarget(l,n);return r&&(o=await on(e,t,l,"current"===u,a.resumeToken)),e.isPrimaryClient&&n&&sb(e.remoteStore,a),o}async function on(e,t,n,r,i){e.Ka=(t,n,r)=>(async function(e,t,n,r){let i=t.view.ma(n);i.ns&&(i=await i8(e.localStore,t.query,!1).then(({documents:e})=>t.view.ma(e,i)));let s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s,o);return og(e,t.targetId,a.wa),a.snapshot})(e,t,n,r);let s=await i8(e.localStore,t,!0),o=new s6(t,s.Ts),a=o.ma(s.documents),l=ir.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=o.applyChanges(a,e.isPrimaryClient,l);og(e,n,u.wa);let c=new s5(t,n,o);return e.Fa.set(t,c),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),u.snapshot}async function or(e,t,n){let r=e.Fa.get(t),i=e.Ma.get(r.targetId);if(i.length>1)return e.Ma.set(r.targetId,i.filter(e=>!rp(e,t))),void e.Fa.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(r.targetId),e.sharedClientState.isActiveQueryTarget(r.targetId)||await i5(e.localStore,r.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(r.targetId),n&&sw(e.remoteStore,r.targetId),od(e,r.targetId)}).catch(nl)):(od(e,r.targetId),await i5(e.localStore,r.targetId,!0))}async function oi(e,t){let n=e.Fa.get(t),r=e.Ma.get(n.targetId);e.isPrimaryClient&&1===r.length&&(e.sharedClientState.removeLocalQueryTarget(n.targetId),sw(e.remoteStore,n.targetId))}async function os(e,t,n){var r,i;let s=((r=e).remoteStore.remoteSyncer.applySuccessfulWrite=ou.bind(null,r),r.remoteStore.remoteSyncer.rejectFailedWrite=oc.bind(null,r),r);try{let e,r=await function(e,t){let n,r,i=t7.now(),s=t.reduce((e,t)=>e.add(t.key),rI());return e.persistence.runTransaction("Locally write mutations","readwrite",o=>{let a=rw,l=rI();return e.cs.getEntries(o,s).next(e=>{(a=e).forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>e.localDocuments.getOverlayedDocuments(o,a)).next(r=>{n=r;let s=[];for(let e of t){let t=function(e,t){let n=null;for(let r of e.fieldTransforms){let e=t.data.field(r.field),i=rL(r.transform,e||null);null!=i&&(null===n&&(n=nW.empty()),n.set(r.field,i))}return n||null}(e,n.get(e.key).overlayedDocument);null!=t&&s.push(new rW(e.key,t,function e(t){let n=[];return np(t.fields,(t,r)=>{let i=new ni([t]);if(nH(r)){let t=e(r.mapValue).fields;if(0===t.length)n.push(i);else for(let e of t)n.push(i.child(e))}else n.push(i)}),new n_(n)}(t.value.mapValue),rz.exists(!0)))}return e.mutationQueue.addMutationBatch(o,i,s,t)}).next(t=>{r=t;let i=t.applyToLocalDocumentSet(n,l);return e.documentOverlayCache.saveOverlays(o,t.batchId,i)})}).then(()=>({batchId:r.batchId,changes:rC(n)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(r.batchId),i=r.batchId,(e=s.Ba[s.currentUser.toKey()])||(e=new nm(t8)),e=e.insert(i,n),s.Ba[s.currentUser.toKey()]=e,await oy(s,r.changes),await sL(s.remoteStore)}catch(t){let e=s$(t,"Failed to persist write");n.reject(e)}}async function oo(e,t){try{let n=await function(e,t){let n=t.snapshotVersion,r=e.os;return e.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{var s,o,a;let l,u,c=e.cs.newChangeBuffer({trackRemovals:!0});r=e.os;let h=[];t.targetChanges.forEach((s,o)=>{var a;let l=r.get(o);if(!l)return;h.push(e.Ur.removeMatchingKeys(i,s.removedDocuments,o).next(()=>e.Ur.addMatchingKeys(i,s.addedDocuments,o)));let u=l.withSequenceNumber(i.currentSequenceNumber);null!==t.targetMismatches.get(o)?u=u.withResumeToken(nC.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):s.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(s.resumeToken,n)),r=r.insert(o,u),a=u,(0===l.resumeToken.approximateByteSize()||a.snapshotVersion.toMicroseconds()-l.snapshotVersion.toMicroseconds()>=3e8||s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size>0)&&h.push(e.Ur.updateTargetData(i,u))});let f=rw,d=rI();if(t.documentUpdates.forEach(n=>{t.resolvedLimboDocuments.has(n)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(i,n))}),h.push((s=i,o=c,a=t.documentUpdates,l=rI(),u=rI(),a.forEach(e=>l=l.add(e)),o.getEntries(s,l).next(e=>{let t=rw;return a.forEach((n,r)=>{let i=e.get(n);r.isFoundDocument()!==i.isFoundDocument()&&(u=u.add(n)),r.isNoDocument()&&r.version.isEqual(ne.min())?(o.removeEntry(n,r.readTime),t=t.insert(n,r)):!i.isValidDocument()||r.version.compareTo(i.version)>0||0===r.version.compareTo(i.version)&&i.hasPendingWrites?(o.addEntry(r),t=t.insert(n,r)):t$("LocalStore","Ignoring outdated watch update for ",n,". Current version:",i.version," Watch version:",r.version)}),{Ps:t,Is:u}})).next(e=>{f=e.Ps,d=e.Is})),!n.isEqual(ne.min())){let t=e.Ur.getLastRemoteSnapshotVersion(i).next(t=>e.Ur.setTargetsMetadata(i,i.currentSequenceNumber,n));h.push(t)}return nu.waitFor(h).next(()=>c.apply(i)).next(()=>e.localDocuments.getLocalViewOfDocuments(i,f,d)).next(()=>f)}).then(t=>(e.os=r,t))}(e.localStore,t);t.targetChanges.forEach((t,n)=>{let r=e.Na.get(n);r&&(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1||tQ(),t.addedDocuments.size>0?r.va=!0:t.modifiedDocuments.size>0?r.va||tQ():t.removedDocuments.size>0&&(r.va||tQ(),r.va=!1))}),await oy(e,n,t)}catch(e){await nl(e)}}function oa(e,t,n){var r;if(e.isPrimaryClient&&0===n||!e.isPrimaryClient&&1===n){let n,i=[];e.Fa.forEach((e,n)=>{let r=n.view.Z_(t);r.snapshot&&i.push(r.snapshot)}),(r=e.eventManager).onlineState=t,n=!1,r.queries.forEach((e,r)=>{for(let e of r.j_)e.Z_(t)&&(n=!0)}),n&&s1(r),i.length&&e.Ca.d_(i),e.onlineState=t,e.isPrimaryClient&&e.sharedClientState.setOnlineState(t)}}async function ol(e,t,n){e.sharedClientState.updateQueryState(t,"rejected",n);let r=e.Na.get(t),i=r&&r.key;if(i){let n=new nm(ns.comparator);n=n.insert(i,nY.newNoDocument(i,ne.min()));let r=rI().add(i),s=new it(ne.min(),new Map,new nm(t8),n,r);await oo(e,s),e.Oa=e.Oa.remove(i),e.Na.delete(t),om(e)}else await i5(e.localStore,t,!1).then(()=>od(e,t,n)).catch(nl)}async function ou(e,t){var n;let r=t.batch.batchId;try{let i=await (n=e.localStore,n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{let r=t.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return(function(e,t,n,r){let i=n.batch,s=i.keys(),o=nu.resolve();return s.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{let s=n.docVersions.get(e);null!==s||tQ(),0>t.version.compareTo(s)&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),o.next(()=>e.mutationQueue.removeMutationBatch(t,i))})(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=rI();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))}));of(e,r,null),oh(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await oy(e,i)}catch(e){await nl(e)}}async function oc(e,t,n){var r;try{let i=await (r=e.localStore,r.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let n;return r.mutationQueue.lookupMutationBatch(e,t).next(t=>(null!==t||tQ(),n=t.keys(),r.mutationQueue.removeMutationBatch(e,t))).next(()=>r.mutationQueue.performConsistencyCheck(e)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(e,n,t)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,n)).next(()=>r.localDocuments.getDocuments(e,n))}));of(e,t,n),oh(e,t),e.sharedClientState.updateMutationState(t,"rejected",n),await oy(e,i)}catch(e){await nl(e)}}function oh(e,t){(e.ka.get(t)||[]).forEach(e=>{e.resolve()}),e.ka.delete(t)}function of(e,t,n){let r=e.Ba[e.currentUser.toKey()];if(r){let i=r.get(t);i&&(n?i.reject(n):i.resolve(),r=r.remove(t)),e.Ba[e.currentUser.toKey()]=r}}function od(e,t,n=null){for(let r of(e.sharedClientState.removeLocalQueryTarget(t),e.Ma.get(t)))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(t=>{e.La.containsKey(t)||op(e,t)})}function op(e,t){e.xa.delete(t.path.canonicalString());let n=e.Oa.get(t);null!==n&&(sw(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),om(e))}function og(e,t,n){for(let r of n)r instanceof s3?(e.La.addReference(r.key,t),function(e,t){let n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(t$("SyncEngine","New document in limbo: "+n),e.xa.add(r),om(e))}(e,r)):r instanceof s4?(t$("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||op(e,r.key)):tQ()}function om(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){let t=e.xa.values().next().value;e.xa.delete(t);let n=new ns(nn.fromString(t)),r=e.qa.next();e.Na.set(r,new s8(n)),e.Oa=e.Oa.insert(n,r),sb(e.remoteStore,new iL(rf(new ru(n.path)),r,"TargetPurposeLimboResolution",nh.oe))}}async function oy(e,t,n){let r=[],i=[],s=[];e.Fa.isEmpty()||(e.Fa.forEach((o,a)=>{s.push(e.Ka(a,t,n).then(t=>{var s;if((t||n)&&e.isPrimaryClient){let r=t?!t.fromCache:null==(s=null==n?void 0:n.targetChanges.get(a.targetId))?void 0:s.current;e.sharedClientState.updateQueryState(a.targetId,r?"current":"not-current")}if(t){r.push(t);let e=i0.Wi(a.targetId,t);i.push(e)}}))}),await Promise.all(s),e.Ca.d_(r),await async function(e,t){try{await e.persistence.runTransaction("notifyLocalViewChanges","readwrite",n=>nu.forEach(t,t=>nu.forEach(t.$i,r=>e.persistence.referenceDelegate.addReference(n,t.targetId,r)).next(()=>nu.forEach(t.Ui,r=>e.persistence.referenceDelegate.removeReference(n,t.targetId,r)))))}catch(e){if(!nc(e))throw e;t$("LocalStore","Failed to update sequence numbers: "+e)}for(let n of t){let t=n.targetId;if(!n.fromCache){let n=e.os.get(t),r=n.snapshotVersion,i=n.withLastLimboFreeSnapshotVersion(r);e.os=e.os.insert(t,i)}}}(e.localStore,i))}async function ov(e,t){if(!e.currentUser.isEqual(t)){t$("SyncEngine","User change. New user:",t.toKey());let n=await i4(e.localStore,t);e.currentUser=t,e.ka.forEach(e=>{e.forEach(e=>{e.reject(new tY(tW.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.ka.clear(),e.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await oy(e,n.hs)}}function ob(e,t){let n=e.Na.get(t);if(n&&n.va)return rI().add(n.key);{let n=rI(),r=e.Ma.get(t);if(!r)return n;for(let t of r){let r=e.Fa.get(t);n=n.unionWith(r.view.Va)}return n}}function ow(e){return e.remoteStore.remoteSyncer.applyRemoteEvent=oo.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ob.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ol.bind(null,e),e.Ca.d_=sZ.bind(null,e.eventManager),e.Ca.$a=s0.bind(null,e.eventManager),e}class o_{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=su(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){var t,n;return t=this.persistence,n=new i2,new i3(t,n,e.initialUser,this.serializer)}Ga(e){return new iX(iZ.Zr,this.serializer)}Wa(e){return new i7}async terminate(){var e,t;null==(e=this.gcScheduler)||e.stop(),null==(t=this.indexBackfillerScheduler)||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}o_.provider={build:()=>new o_};class oE{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>oa(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=ov.bind(null,this.syncEngine),await sV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new sW}createDatastore(e){var t;let n=su(e.databaseInfo.databaseId),r=new sa(e.databaseInfo);return t=e.authCredentials,new sp(t,e.appCheckCredentials,r,n)}createRemoteStore(e){var t,n;return t=this.localStore,n=this.datastore,new sm(t,n,e.asyncQueue,e=>oa(this.syncEngine,e,0),st.D()?new st:new se)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){let a=new s9(e,t,n,r,i,s);return o&&(a.Qa=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){t$("RemoteStore","RemoteStore shutting down."),e.L_.add(5),await sv(e),e.k_.shutdown(),e.q_.set("Unknown")}(this.remoteStore),null==(e=this.datastore)||e.terminate(),null==(t=this.eventManager)||t.terminate()}}oE.provider={build:()=>new oE};class oC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):tH("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}class oS{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=tV.UNAUTHENTICATED,this.clientId=t5.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{t$("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(t$("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new tX;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let t=s$(n,"Failed to shutdown persistence");e.reject(t)}}),e.promise}}async function oA(e,t){e.asyncQueue.verifyOperationInProgress(),t$("FirestoreClient","Initializing OfflineComponentProvider");let n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await i4(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function ox(e,t){e.asyncQueue.verifyOperationInProgress();let n=await oI(e);t$("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>sU(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>sU(t.remoteStore,n)),e._onlineComponents=t}async function oI(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){t$("FirestoreClient","Using user provided OfflineComponentProvider");try{await oA(e,e._uninitializedComponentsProvider._offline)}catch(t){if(!("FirebaseError"===t.name?t.code===tW.FAILED_PRECONDITION||t.code===tW.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code))throw t;tG("Error using user provided cache. Falling back to memory cache: "+t),await oA(e,new o_)}}else t$("FirestoreClient","Using default OfflineComponentProvider"),await oA(e,new o_);return e._offlineComponents}async function ok(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(t$("FirestoreClient","Using user provided OnlineComponentProvider"),await ox(e,e._uninitializedComponentsProvider._online)):(t$("FirestoreClient","Using default OnlineComponentProvider"),await ox(e,new oE))),e._onlineComponents}async function oT(e){let t=await ok(e),n=t.eventManager;return n.onListen=s7.bind(null,t.syncEngine),n.onUnlisten=or.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=oe.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=oi.bind(null,t.syncEngine),n}function oD(e){let t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const oN=new Map;function oL(e,t,n){if(!n)throw new tY(tW.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function oR(e){if(!ns.isDocumentKey(e))throw new tY(tW.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function oB(e){if(ns.isDocumentKey(e))throw new tY(tW.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function oP(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{var t;let n=(t=e).constructor?t.constructor.name:null;return n?`a custom ${n} object`:"an object"}}return"function"==typeof e?"a function":tQ()}function oO(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new tY(tW.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=oP(e);throw new tY(tW.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}class oM{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new tY(tW.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null==(t=e.ssl)||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=0x2800000;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new tY(tW.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new tY(tW.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oD(null!=(n=e.experimentalLongPollingOptions)?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new tY(tW.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new tY(tW.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new tY(tW.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){var t,n;return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class oF{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oM({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new tY(tW.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new tY(tW.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oM(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new tZ;switch(e.type){case"firstParty":return new t3(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new tY(tW.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){let t=oN.get(e);t&&(t$("ComponentProvider","Removing Datastore"),oN.delete(e),t.terminate())}(this),Promise.resolve()}}class oU{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new oU(this.firestore,e,this._query)}}class oV{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oj(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new oV(this.firestore,e,this._key)}}class oj extends oU{constructor(e,t,n){super(e,t,new ru(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new oV(this.firestore,null,new ns(e))}withConverter(e){return new oj(this.firestore,e,this._path)}}function oz(e,t,...n){if(e=el(e),oL("collection","path",t),e instanceof oF){let r=nn.fromString(t,...n);return oB(r),new oj(e,null,r)}{if(!(e instanceof oV||e instanceof oj))throw new tY(tW.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=e._path.child(nn.fromString(t,...n));return oB(r),new oj(e.firestore,null,r)}}function oq(e,t,...n){if(e=el(e),1==arguments.length&&(t=t5.newId()),oL("doc","path",t),e instanceof oF){let r=nn.fromString(t,...n);return oR(r),new oV(e,null,new ns(r))}{if(!(e instanceof oV||e instanceof oj))throw new tY(tW.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=e._path.child(nn.fromString(t,...n));return oR(r),new oV(e.firestore,e instanceof oj?e.converter:null,new ns(r))}}class o${constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new sc(this,"async_queue_retry"),this.Vu=()=>{let e=sl();e&&t$("AsyncQueue","Visibility state changed to "+e.visibilityState),this.t_.jo()},this.mu=e;let t=sl();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=sl();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new tX;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(0!==this.Pu.length){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!nc(e))throw e;t$("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(e=>{let t;throw this.Eu=e,this.du=!1,tH("INTERNAL UNHANDLED ERROR: ",(t=e.message||"",e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t)),e}).then(e=>(this.du=!1,e))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let r=sq.createAndSchedule(this,e,t,n,e=>this.yu(e));return this.Tu.push(r),r}fu(){this.Eu&&tQ()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{for(let t of(this.Tu.sort((e,t)=>e.targetTimeMs-t.targetTimeMs),this.Tu))if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class oH extends oF{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new o$,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new o$(e),this._firestoreClient=void 0,await e}}}function oG(e){if(e._terminated)throw new tY(tW.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||function(e){var t,n,r,i,s;let o=e._freezeSettings(),a=(i=e._databaseId,s=(null==(t=e._app)?void 0:t.options.appId)||"",new nN(i,s,e._persistenceKey,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,oD(o.experimentalLongPollingOptions),o.useFetchStreams));e._componentsProvider||(null==(n=o.localCache)?void 0:n._offlineComponentProvider)&&(null==(r=o.localCache)?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),e._firestoreClient=new oS(e._authCredentials,e._appCheckCredentials,e._queue,a,e._componentsProvider&&function(e){let t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}(e),e._firestoreClient}class oK{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oK(nC.fromBase64String(e))}catch(e){throw new tY(tW.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new oK(nC.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class oQ{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new tY(tW.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ni(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class oW{constructor(e){this._methodName=e}}class oY{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new tY(tW.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new tY(tW.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return t8(this._lat,e._lat)||t8(this._long,e._long)}}class oX{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const oJ=/^__.*__$/;class oZ{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new rW(e,this.data,this.fieldMask,t,this.fieldTransforms):new rQ(e,this.data,t,this.fieldTransforms)}}function o0(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tQ()}}class o1{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new o1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let n=null==(t=this.path)?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.Ou(e),r}Nu(e){var t;let n=null==(t=this.path)?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return o8(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(o0(this.Cu)&&oJ.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class o2{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||su(e)}Qu(e,t,n,r=!1){return new o1({Cu:e,methodName:t,qu:n,path:ni.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function o3(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof t7||e instanceof oY||e instanceof oK||e instanceof oV||e instanceof oW||e instanceof oX)}function o4(e,t,n){if(!o3(n)||"object"!=typeof n||null===n||Object.getPrototypeOf(n)!==Object.prototype&&null!==Object.getPrototypeOf(n)){let r=oP(n);throw"an object"===r?t.Bu(e+" a custom object"):t.Bu(e+" "+r)}}const o6=RegExp("[~\\*/\\[\\]]");function o5(e,t,n){if(t.search(o6)>=0)throw o8(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new oQ(...t.split("."))._internalPath}catch(r){throw o8(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function o8(e,t,n,r,i){let s=r&&!r.isEmpty(),o=void 0!==i,a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new tY(tW.INVALID_ARGUMENT,a+e+l)}class o9{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new oV(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){let e=new o7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(ae("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class o7 extends o9{data(){return super.data()}}function ae(e,t){return"string"==typeof t?o5(e,t):t instanceof oQ?t._internalPath:t._delegate._internalPath}class at{convertValue(e,t="none"){switch(nB(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nx(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(nI(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw tQ()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let n={};return np(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t,n,r;return new oX(null==(r=null==(n=null==(t=e.fields)?void 0:t.value.arrayValue)?void 0:n.values)?void 0:r.map(e=>nx(e.doubleValue)))}convertGeoPoint(e){return new oY(nx(e.latitude),nx(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":let n=nT(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(nD(e));default:return null}}convertTimestamp(e){let t=nA(e);return new t7(t.seconds,t.nanos)}convertDocumentKey(e,t){let n=nn.fromString(e);iN(n)||tQ();let r=new nL(n.get(1),n.get(3)),i=new ns(n.popFirst(5));return r.isEqual(t)||tH(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}class an{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ar extends o9{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new ai(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let n=this._document.data.field(ae("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class ai extends ar{data(e={}){return super.data(e)}}class as{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new an(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new ai(this._firestore,this._userDataWriter,n.key,n,new an(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new tY(tW.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{let r=new ai(e._firestore,e._userDataWriter,n.doc.key,n.doc,new an(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{let r=new ai(e._firestore,e._userDataWriter,t.doc.key,t.doc,new an(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(s=(n=n.add(t.doc)).indexOf(t.doc.key)),{type:function(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tQ()}}(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}class ao extends at{constructor(e){super(),this.firestore=e}convertBytes(e){return new oK(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new oV(this.firestore,null,t)}}function aa(e,t,n){e=oO(e,oV);let r=oO(e.firestore,oH),i=(s=e.converter,s?n&&(n.merge||n.mergeFields)?s.toFirestore(t,n):s.toFirestore(t):t);var s,o=r,a=[(function(e,t,n,r,i,s={}){let o,a,l=e.Qu(s.merge||s.mergeFields?2:0,t,n,i);o4("Data must be an object, but it was:",l,r);let u=function e(t,n){let r={};return ng(t)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):np(t,(t,i)=>{let s=function t(n,r){if(o3(n=el(n)))return o4("Unsupported field value:",r,n),e(n,r);if(n instanceof oW)return function(e,t){if(!o0(t.Cu))throw t.Bu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Bu(`${e._methodName}() is not currently supported inside arrays`);let n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(n,r),null;if(void 0===n&&r.ignoreUndefinedProperties)return null;if(r.path&&r.fieldMask.push(r.path),n instanceof Array){if(r.settings.xu&&4!==r.Cu)throw r.Bu("Nested arrays are not supported");let e=[],i=0;for(let s of n){let n=t(s,r.Lu(i));null==n&&(n={nullValue:"NULL_VALUE"}),e.push(n),i++}return{arrayValue:{values:e}}}return function(e,t){var n,r,i;if(null===(e=el(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return n=t.serializer,"number"==typeof(i=r=e)&&Number.isInteger(i)&&!nf(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER?rD(r):rT(n,r);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){let n=t7.fromDate(e);return{timestampValue:iy(t.serializer,n)}}if(e instanceof t7){let n=new t7(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:iy(t.serializer,n)}}if(e instanceof oY)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof oK)return{bytesValue:iv(t.serializer,e._byteString)};if(e instanceof oV){let n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Bu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:iw(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof oX)return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Bu("VectorValues must only contain numeric values.");return rT(t.serializer,e)})}}}}};throw t.Bu(`Unsupported field value: ${oP(e)}`)}(n,r)}(i,n.Mu(t));null!=s&&(r[t]=s)}),{mapValue:{fields:r}}}(r,l);if(s.merge)o=new n_(l.fieldMask),a=l.fieldTransforms;else if(s.mergeFields){let e=[];for(let r of s.mergeFields){let i=function(e,t,n){if((t=el(t))instanceof oQ)return t._internalPath;if("string"==typeof t)return o5(e,t);throw o8("Field path arguments must be of type string or ",e,!1,void 0,n)}(t,r,n);if(!l.contains(i))throw new tY(tW.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);(function(e,t){return e.some(e=>e.isEqual(t))})(e,i)||e.push(i)}o=new n_(e),a=l.fieldTransforms.filter(e=>o.covers(e.field))}else o=null,a=l.fieldTransforms;return new oZ(new nW(u),o,a)})(function(e){let t=e._freezeSettings(),n=su(e._databaseId);return new o2(e._databaseId,!!t.ignoreUndefinedProperties,n)}(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,rz.none())],l=oG(o);let u=new tX;return l.asyncQueue.enqueueAndForget(async()=>os(await ok(l).then(e=>e.syncEngine),a,u)),u.promise}new WeakMap,function(e=!0){tj="10.14.1",ez(new eu("firestore",(t,{instanceIdentifier:n,options:r})=>{let i=t.getProvider("app").getImmediate(),s=new oH(new t1(t.getProvider("auth-internal")),new t6(t.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new tY(tW.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nL(e.options.projectId,t)}(i,n),i);return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC").setMultipleInstances(!0)),eG(tU,"4.7.3",void 0),eG(tU,"4.7.3","esm2017")}();var al=(F("3OyDL"),F("3OyDL"));function au(){return(au=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}(s=N||(N={})).Pop="POP",s.Push="PUSH",s.Replace="REPLACE";const ac="popstate";function ah(e,t){if(!1===e||null==e)throw Error(t)}function af(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw Error(t)}catch(e){}}}function ad(e,t){return{usr:e.state,key:e.key,idx:t}}function ap(e,t,n,r){return void 0===n&&(n=null),au({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?am(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function ag(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function am(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}(o=L||(L={})).data="data",o.deferred="deferred",o.redirect="redirect",o.error="error";const ay=/^:[\w-]+$/,av=e=>"*"===e;function ab(e,t){var n,r,i;let s,o;"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[a,l]=(n=e.path,r=e.caseSensitive,i=e.end,void 0===r&&(r=!1),void 0===i&&(i=!0),af("*"===n||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were "'+n.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+n.replace(/\*$/,"/*")+'".'),s=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(s.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")),n.endsWith("*")?(s.push({paramName:"*"}),o+="*"===n||"/*"===n?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":""!==n&&"/"!==n&&(o+="(?:(?=\\/|$))"),[new RegExp(o,r?void 0:"i"),s]),u=t.match(a);if(!u)return null;let c=u[0],h=c.replace(/(.)\/+$/,"$1"),f=u.slice(1);return{params:l.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=f[n]||"";h=c.slice(0,c.length-e.length).replace(/(.)\/+$/,"$1")}let s=f[n];return i&&!s?e[r]=void 0:e[r]=(s||"").replace(/%2F/g,"/"),e},{}),pathname:c,pathnameBase:h,pattern:e}}function aw(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function a_(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field [")+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function aE(e,t){let n=e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function aC(e,t,n,r){let i,s;void 0===r&&(r=!1),"string"==typeof e?i=am(e):(ah(!(i=au({},e)).pathname||!i.pathname.includes("?"),a_("?","pathname","search",i)),ah(!i.pathname||!i.pathname.includes("#"),a_("#","pathname","hash",i)),ah(!i.search||!i.search.includes("#"),a_("#","search","hash",i)));let o=""===e||""===i.pathname,a=o?"/":i.pathname;if(null==a)s=n;else{let e=t.length-1;if(!r&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){var n;let r;void 0===t&&(t="/");let{pathname:i,search:s="",hash:o=""}="string"==typeof e?am(e):e;return{pathname:i?i.startsWith("/")?i:(n=i,r=t.replace(/\/+$/,"").split("/"),n.split("/").forEach(e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)}),r.length>1?r.join("/"):"/"):t,search:ax(s),hash:aI(o)}}(i,s),u=a&&"/"!==a&&a.endsWith("/"),c=(o||"."===a)&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const aS=e=>e.join("/").replace(/\/\/+/g,"/"),aA=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ax=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",aI=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Symbol("deferred");var al=F("3OyDL");function ak(){return(ak=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const aT=al.createContext(null),aD=al.createContext(null),aN=al.createContext(null),aL=al.createContext(null),aR=al.createContext({outlet:null,matches:[],isDataRoute:!1}),aB=al.createContext(null);function aP(){return null!=al.useContext(aL)}function aO(){return aP()||ah(!1),al.useContext(aL).location}function aM(e){al.useContext(aN).static||al.useLayoutEffect(e)}function aF(){let{isDataRoute:e}=al.useContext(aR);return e?function(){var e;let t,{router:n}=(a$.UseNavigateStable,(t=al.useContext(aT))||ah(!1),t),r=aG(aH.UseNavigateStable),i=al.useRef(!1);return aM(()=>{i.current=!0}),al.useCallback(function(e,t){void 0===t&&(t={}),i.current&&("number"==typeof e?n.navigate(e):n.navigate(e,ak({fromRouteId:r},t)))},[n,r])}():function(){aP()||ah(!1);let e=al.useContext(aT),{basename:t,future:n,navigator:r}=al.useContext(aN),{matches:i}=al.useContext(aR),{pathname:s}=aO(),o=JSON.stringify(aE(i,n.v7_relativeSplatPath)),a=al.useRef(!1);return aM(()=>{a.current=!0}),al.useCallback(function(n,i){if(void 0===i&&(i={}),!a.current)return;if("number"==typeof n)return void r.go(n);let l=aC(n,JSON.parse(o),s,"path"===i.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:aS([t,l.pathname])),(i.replace?r.replace:r.push)(l,i.state,i)},[t,r,o,s,e])}()}function aU(){let{matches:e}=al.useContext(aR),t=e[e.length-1];return t?t.params:{}}function aV(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=al.useContext(aN),{matches:i}=al.useContext(aR),{pathname:s}=aO(),o=JSON.stringify(aE(i,r.v7_relativeSplatPath));return al.useMemo(()=>aC(e,JSON.parse(o),s,"path"===n),[e,o,s,n])}const aj=al.createElement(function(){var e,t;let n,r,i,s,o=(r=al.useContext(aB),i=(aH.UseRouteError,(n=al.useContext(aD))||ah(!1),n),s=aG(aH.UseRouteError),void 0!==r?r:null==(e=i.errors)?void 0:e[s]),a=null!=o&&"number"==typeof o.status&&"string"==typeof o.statusText&&"boolean"==typeof o.internal&&"data"in o?o.status+" "+o.statusText:o instanceof Error?o.message:JSON.stringify(o),l=o instanceof Error?o.stack:null;return al.createElement(al.Fragment,null,al.createElement("h2",null,"Unexpected Application Error!"),al.createElement("h3",{style:{fontStyle:"italic"}},a),l?al.createElement("pre",{style:{padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"}},l):null,null)},null);class az extends al.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?al.createElement(aR.Provider,{value:this.props.routeContext},al.createElement(aB.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function aq(e){let{routeContext:t,match:n,children:r}=e,i=al.useContext(aT);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),al.createElement(aR.Provider,{value:t},r)}var a$=((a=a$||{}).UseBlocker="useBlocker",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a),aH=((l=aH||{}).UseBlocker="useBlocker",l.UseLoaderData="useLoaderData",l.UseActionData="useActionData",l.UseRouteError="useRouteError",l.UseNavigation="useNavigation",l.UseRouteLoaderData="useRouteLoaderData",l.UseMatches="useMatches",l.UseRevalidator="useRevalidator",l.UseNavigateStable="useNavigate",l.UseRouteId="useRouteId",l);function aG(e){let t,n=((t=al.useContext(aR))||ah(!1),t),r=n.matches[n.matches.length-1];return r.route.id||ah(!1),r.route.id}const aK={},aQ=(e,t,n)=>{};function aW(e){ah(!1)}function aY(e){let{basename:t="/",children:n=null,location:r,navigationType:i=N.Pop,navigator:s,static:o=!1,future:a}=e;aP()&&ah(!1);let l=t.replace(/^\/*/,"/"),u=al.useMemo(()=>({basename:l,navigator:s,static:o,future:ak({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);"string"==typeof r&&(r=am(r));let{pathname:c="/",search:h="",hash:f="",state:d=null,key:p="default"}=r,g=al.useMemo(()=>{let e=aw(c,l);return null==e?null:{location:{pathname:e,search:h,hash:f,state:d,key:p},navigationType:i}},[l,c,h,f,d,p,i]);return null==g?null:al.createElement(aN.Provider,{value:u},al.createElement(aL.Provider,{children:n,value:g}))}function aX(e){let{children:t,location:n}=e;return function(e,t,n,r){var i,s;let o;aP()||ah(!1);let{navigator:a,static:l}=al.useContext(aN),{matches:u}=al.useContext(aR),c=u[u.length-1],h=c?c.params:{};c&&c.pathname;let f=c?c.pathnameBase:"/";c&&c.route;let d=aO();if(t){let e="string"==typeof t?am(t):t;"/"===f||(null==(i=e.pathname)?void 0:i.startsWith(f))||ah(!1),o=e}else o=d;let p=o.pathname||"/",g=p;if("/"!==f){let e=f.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(e.length).join("/")}let m=(void 0===s&&(s="/"),function(e,t,n,r){let i=aw(("string"==typeof t?am(t):t).pathname||"/",n);if(null==i)return null;let s=function e(t,n,r,i){void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i="");let s=(t,s,o)=>{var a,l;let u,c,h={relativePath:void 0===o?t.path||"":o,caseSensitive:!0===t.caseSensitive,childrenIndex:s,route:t};h.relativePath.startsWith("/")&&(ah(h.relativePath.startsWith(i),'Absolute route path "'+h.relativePath+'" nested under path "'+i+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),h.relativePath=h.relativePath.slice(i.length));let f=aS([i,h.relativePath]),d=r.concat(h);t.children&&t.children.length>0&&(ah(!0!==t.index,'Index routes must not have child routes. Please remove all child routes from route path "'+f+'".'),e(t.children,n,d,f)),(null!=t.path||t.index)&&n.push({path:f,score:(a=f,l=t.index,c=(u=a.split("/")).length,u.some(av)&&(c+=-2),l&&(c+=2),u.filter(e=>!av(e)).reduce((e,t)=>e+(ay.test(t)?3:""===t?1:10),c)),routesMeta:d})};return t.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let n of function e(t){let n=t.split("/");if(0===n.length)return[];let[r,...i]=n,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return s?[o,""]:[o];let a=e(i.join("/")),l=[];return l.push(...a.map(e=>""===e?o:[o,e].join("/"))),s&&l.push(...a),l.map(e=>t.startsWith("/")&&""===e?"/":e)}(e.path))s(e,t,n);else s(e,t)}),n}(e);s.sort((e,t)=>{var n,r;return e.score!==t.score?t.score-e.score:(n=e.routesMeta.map(e=>e.childrenIndex),r=t.routesMeta.map(e=>e.childrenIndex),n.length===r.length&&n.slice(0,-1).every((e,t)=>e===r[t])?n[n.length-1]-r[r.length-1]:0)});let o=null;for(let e=0;null==o&&e<s.length;++e){let t=function(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return af(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}(i);o=function(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},s="/",o=[];for(let e=0;e<r.length;++e){let a=r[e],l=e===r.length-1,u="/"===s?t:t.slice(s.length)||"/",c=ab({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u),h=a.route;if(!c&&l&&n&&!r[r.length-1].route.index&&(c=ab({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},u)),!c)return null;Object.assign(i,c.params),o.push({params:i,pathname:aS([s,c.pathname]),pathnameBase:aA(aS([s,c.pathnameBase])),route:h}),"/"!==c.pathnameBase&&(s=aS([s,c.pathnameBase]))}return o}(s[e],t,r)}return o}(e,{pathname:g},s,!1)),y=function(e,t,n,r){var i,s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(null==(s=r)||!s.v7_partialHydration||0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let o=e,a=null==(i=n)?void 0:i.errors;if(null!=a){let e=o.findIndex(e=>e.route.id&&(null==a?void 0:a[e.route.id])!==void 0);e>=0||ah(!1),o=o.slice(0,Math.min(o.length,e+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let e=0;e<o.length;e++){let t=o[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(u=e),t.route.id){let{loaderData:e,errors:r}=n,i=t.route.loader&&void 0===e[t.route.id]&&(!r||void 0===r[t.route.id]);if(t.route.lazy||i){l=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight((e,r,i)=>{var s,c;let h,f=!1,d=null,p=null;n&&(h=a&&r.route.id?a[r.route.id]:void 0,d=r.route.errorElement||aj,l&&(u<0&&0===i?(s="route-fallback",c=0,aK[s]||(aK[s]=!0),f=!0,p=null):u===i&&(f=!0,p=r.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,i+1)),m=()=>{let t;return t=h?d:f?p:r.route.Component?al.createElement(r.route.Component,null):r.route.element?r.route.element:e,al.createElement(aq,{match:r,routeContext:{outlet:e,matches:g,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?al.createElement(az,{location:n.location,revalidation:n.revalidation,component:d,error:h,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}(m&&m.map(e=>Object.assign({},e,{params:Object.assign({},h,e.params),pathname:aS([f,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?f:aS([f,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),u,n,void 0);return t&&y?al.createElement(aL.Provider,{value:{location:ak({pathname:"/",search:"",hash:"",state:null,key:"default"},o),navigationType:N.Pop}},y):y}(function e(t,n){void 0===n&&(n=[]);let r=[];return al.Children.forEach(t,(t,i)=>{if(!al.isValidElement(t))return;let s=[...n,i];if(t.type===al.Fragment)return void r.push.apply(r,e(t.props.children,s));t.type!==aW&&ah(!1),t.props.index&&t.props.children&&ah(!1);let o={id:t.props.id||s.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(o.children=e(t.props.children,s)),r.push(o)}),r}(t),n)}al.startTransition;var aJ=((u=aJ||{})[u.pending=0]="pending",u[u.success=1]="success",u[u.error=2]="error",u);function aZ(){return(aZ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}new Promise(()=>{}),al.Component;const a0=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]),a1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(e){}const a2=al.startTransition;function a3(e){let{basename:t,children:n,future:r,window:i}=e,s=al.useRef();null==s.current&&(s.current=function(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=N.Pop,l=null,u=c();function c(){return(o.state||{idx:null}).idx}function h(){a=N.Pop;let e=c(),t=null==e?null:e-u;u=e,l&&l({action:a,location:d.location,delta:t})}function f(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"==typeof e?e:ag(e);return ah(t,"No window.location.(origin|href) available to create URL for href: "+(n=n.replace(/ $/,"%20"))),new URL(n,t)}null==u&&(u=0,o.replaceState(au({},o.state,{idx:u}),""));let d={get action(){return a},get location(){return e(i,o)},listen(e){if(l)throw Error("A history only accepts one active listener");return i.addEventListener(ac,h),l=e,()=>{i.removeEventListener(ac,h),l=null}},createHref:e=>t(i,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a=N.Push;let n=ap(d.location,e,t);let r=ad(n,u=c()+1),h=d.createHref(n);try{o.pushState(r,"",h)}catch(e){if(e instanceof DOMException&&"DataCloneError"===e.name)throw e;i.location.assign(h)}s&&l&&l({action:a,location:d.location,delta:1})},replace:function(e,t){a=N.Replace;let r=ap(d.location,e,t);n&&n(r,e);let i=ad(r,u=c()),h=d.createHref(r);o.replaceState(i,"",h),s&&l&&l({action:a,location:d.location,delta:0})},go:e=>o.go(e)};return d}(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return ap("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"==typeof t?t:ag(t)},null,{window:i,v5Compat:!0}));let o=s.current,[a,l]=al.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=al.useCallback(e=>{u&&a2?a2(()=>l(e)):l(e)},[l,u]);return al.useLayoutEffect(()=>o.listen(c),[o,c]),al.useEffect(()=>{var e;(null==r?void 0:r.v7_startTransition)===void 0&&aQ("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(null==r?void 0:r.v7_relativeSplatPath)===void 0&&aQ("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),e&&(void 0===e.v7_fetcherPersist&&aQ("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),void 0===e.v7_normalizeFormMethod&&aQ("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),void 0===e.v7_partialHydration&&aQ("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),void 0===e.v7_skipActionErrorRevalidation&&aQ("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))},[r]),al.createElement(aY,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}j.flushSync,al.useId;const a4="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,a6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,a5=al.forwardRef(function(e,t){let n,{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:h}=e,f=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,a1),{basename:d}=al.useContext(aN),p=!1;if("string"==typeof u&&a6.test(u)&&(n=u,a4))try{let e=new URL(window.location.href),t=new URL(u.startsWith("//")?e.protocol+u:u),n=aw(t.pathname,d);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:p=!0}catch(e){}let g=function(e,t){let{relative:n}=void 0===t?{}:t;aP()||ah(!1);let{basename:r,navigator:i}=al.useContext(aN),{hash:s,pathname:o,search:a}=aV(e,{relative:n}),l=o;return"/"!==r&&(l="/"===o?r:aS([r,o])),i.createHref({pathname:l,search:a,hash:s})}(u,{relative:i}),m=function(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=void 0===t?{}:t,l=aF(),u=aO(),c=aV(e,{relative:o});return al.useCallback(t=>{0!==t.button||n&&"_self"!==n||t.metaKey||t.altKey||t.ctrlKey||t.shiftKey||(t.preventDefault(),l(e,{replace:void 0!==r?r:ag(u)===ag(c),state:i,preventScrollReset:s,relative:o,viewTransition:a}))},[u,l,c,r,i,n,e,s,o,a])}(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:h});return al.createElement("a",aZ({},f,{href:n||g,onClick:p||s?r:function(e){r&&r(e),e.defaultPrevented||m(e)},ref:t,target:l}))});(c=R||(R={})).UseScrollRestoration="useScrollRestoration",c.UseSubmit="useSubmit",c.UseSubmitFetcher="useSubmitFetcher",c.UseFetcher="useFetcher",c.useViewTransitionState="useViewTransitionState",(h=B||(B={})).UseFetcher="useFetcher",h.UseFetchers="useFetchers",h.UseScrollRestoration="useScrollRestoration";let a8=0;F("3OyDL");var a9=function({quizData:e}){return e?(0,V.jsxs)("div",{children:[(0,V.jsx)("h2",{children:"選擇測驗類別"}),(0,V.jsx)("div",{className:"category-list",children:Object.keys(e).map(t=>(0,V.jsx)(a5,{to:`/category/${t}`,style:{textDecoration:"none",color:"inherit"},children:(0,V.jsxs)("div",{className:"category-card",children:[(0,V.jsx)("h3",{children:e[t]?.title||"無標題"}),(0,V.jsxs)("p",{children:["共 ",Object.keys(e[t]?.sections||{}).reduce((n,r)=>n+Object.keys(e[t]?.sections?.[r]?.sub_sections||{}).reduce((n,i)=>n+(e[t]?.sections?.[r]?.sub_sections?.[i]?.questions?.length||0),0),0)," 題"]})]})},t))})]}):(0,V.jsx)("div",{children:"沒有可用的測驗資料"})};F("3OyDL");var a7=function({quizData:e}){let{categoryId:t}=aU();if(!e||!e[t])return(0,V.jsx)("div",{children:"找不到此類別的測驗"});let n=e[t];return(0,V.jsxs)("div",{children:[(0,V.jsx)("h2",{children:n.title}),Object.keys(n.sections).map(e=>{let r=n.sections[e];return(0,V.jsxs)("div",{className:"quiz-card",children:[(0,V.jsx)("h3",{children:r.title}),(0,V.jsx)("div",{className:"category-list",children:Object.keys(r.sub_sections).map(n=>{let i=r.sub_sections[n],s=i.questions?.length||0;return(0,V.jsx)(a5,{to:`/quiz/${t}/${e}/${n}`,style:{textDecoration:"none",color:"inherit"},children:(0,V.jsxs)("div",{className:"category-card",children:[(0,V.jsx)("h4",{children:i.title}),(0,V.jsxs)("p",{children:["共 ",s," 題"]})]})},n)})})]},e)}),(0,V.jsx)("div",{className:"button-group",children:(0,V.jsx)(a5,{to:"/",children:(0,V.jsx)("button",{className:"button",children:"返回首頁"})})})]})},al=F("3OyDL"),le=function({quizData:e}){let{categoryId:t,sectionId:n,subSectionId:r}=aU(),i=aF(),[s,o]=(0,al.useState)(0),[a,l]=(0,al.useState)(null),[u,c]=(0,al.useState)(!1),[h,f]=(0,al.useState)([]),[d,p]=(0,al.useState)(60),g=e[t]?.sections[n]?.sub_sections[r]?.questions||[],m=g[s];if((0,al.useEffect)(()=>{if(d<=0)return void v();let e=setTimeout(()=>{p(e=>e-1)},1e3);return()=>clearTimeout(e)},[d]),(0,al.useEffect)(()=>{l(null),c(!1),p(60)},[s]),!m)return(0,V.jsx)("div",{children:"找不到測驗問題"});let y=e=>{a||(l(e),f(t=>[...t,{questionIndex:s,question:m.question_text,userAnswer:e,correctAnswer:m.correct_answer,isCorrect:e===m.correct_answer}]))},v=()=>{s<g.length-1?o(e=>e+1):i("/results",{state:{answers:h,totalQuestions:g.length,categoryTitle:e[t]?.title,sectionTitle:e[t]?.sections[n]?.title,subSectionTitle:e[t]?.sections[n]?.sub_sections[r]?.title}})},b=s===g.length-1;return(0,V.jsxs)("div",{children:[(0,V.jsx)("div",{className:"progress-bar",children:(0,V.jsx)("div",{className:"progress",style:{width:`${(s+1)/g.length*100}%`}})}),(0,V.jsxs)("div",{className:"quiz-card",children:[(0,V.jsxs)("div",{className:"quiz-header",children:[(0,V.jsxs)("span",{children:["問題 ",s+1," / ",g.length]}),(0,V.jsxs)("span",{className:"timer",children:["剩餘時間: ",d," 秒"]})]}),(0,V.jsx)("div",{className:"question",children:m.question_text}),(0,V.jsx)("div",{className:"options",children:Object.entries(m.options).map(([e,t])=>(0,V.jsxs)("div",{className:`option ${a===e?"selected":""} ${a&&e===m.correct_answer?"correct":""} ${a===e&&e!==m.correct_answer?"incorrect":""}`,onClick:()=>y(e),children:[(0,V.jsxs)("strong",{children:[e,"."]})," ",t]},e))}),a&&(0,V.jsxs)("div",{className:`solution ${u?"show":""}`,children:[(0,V.jsx)("h4",{children:"解析:"}),(0,V.jsx)("p",{children:m.solution})]}),(0,V.jsxs)("div",{className:"button-group",children:[a&&!u&&(0,V.jsx)("button",{className:"button",onClick:()=>{c(!0)},children:"查看解析"}),a&&(0,V.jsx)("button",{className:"button",onClick:v,children:b?"查看結果":"下一題"})]})]})]})};F("3OyDL");var lt=function(){let{answers:e=[],totalQuestions:t=0,categoryTitle:n="",sectionTitle:r="",subSectionTitle:i=""}=aO().state||{},s=e.filter(e=>e.isCorrect).length,o=Math.floor(s/t*100);return(0,V.jsxs)("div",{className:"results",children:[(0,V.jsx)("h2",{children:"測驗結果"}),(0,V.jsxs)("div",{className:"quiz-card",children:[(0,V.jsx)("h3",{children:n}),(0,V.jsxs)("h4",{children:[r," - ",i]}),(0,V.jsxs)("div",{className:"score",children:[o,"分"]}),(0,V.jsxs)("p",{children:["共",t,"題，答對",s,"題"]}),(0,V.jsx)("p",{className:"feedback",children:o>=90?"優異！你已精通此主題！":o>=80?"非常好！只有一些小細節需要加強。":o>=70?"好！你已掌握大部分內容。":o>=60?"及格！還有一些概念需要複習。":"繼續努力！建議重新學習本主題。"}),(0,V.jsx)("h3",{className:"mt-4",children:"答題記錄"}),e.map((e,t)=>(0,V.jsxs)("div",{className:`answer-item ${e.isCorrect?"correct":"incorrect"}`,children:[(0,V.jsxs)("div",{className:"question",children:[(0,V.jsxs)("span",{className:"question-number",children:[t+1,". "]}),e.question]}),(0,V.jsxs)("div",{className:"answer-details",children:[(0,V.jsxs)("div",{children:["你的答案: ",(0,V.jsx)("strong",{children:e.userAnswer})]}),!e.isCorrect&&(0,V.jsxs)("div",{children:["正確答案: ",(0,V.jsx)("strong",{children:e.correctAnswer})]})]})]},t)),(0,V.jsx)("div",{className:"button-group",children:(0,V.jsx)(a5,{to:"/",children:(0,V.jsx)("button",{className:"button",children:"返回首頁"})})})]})]})},al=F("3OyDL");const ln=e=>{let t={};try{e.forEach((e,n)=>{e&&"object"==typeof e?Object.entries(e).forEach(([e,n])=>{t[e]=n}):console.warn(`\u{8B66}\u{544A}: \u{6A94}\u{6848}\u{7D22}\u{5F15} ${n} \u{7121}\u{6548}\u{6216}\u{4E0D}\u{662F}\u{7269}\u{4EF6}`)})}catch(e){console.error("合併JSON數據時出錯:",e)}return t},lr=e=>{try{let t=JSON.parse(JSON.stringify(e||{}));return Object.keys(t||{}).forEach(e=>{let n=t[e];n&&"object"==typeof n&&Object.keys(n.sections||{}).forEach(e=>{let t=n.sections[e];t&&"object"==typeof t&&Object.keys(t.sub_sections||{}).forEach(e=>{let n=t.sub_sections[e];n&&"object"==typeof n&&Array.isArray(n.questions)&&n.questions.length>0&&(n.questions=li(n.questions))})})}),t}catch(t){return console.error("打亂問題順序時出錯:",t),e||{}}},li=e=>{if(!Array.isArray(e))return[];let t=[...e];for(let e=t.length-1;e>0;e--){let n=Math.floor(Math.random()*(e+1));[t[e],t[n]]=[t[n],t[e]]}return t},ls=e=>new Promise((t,n)=>{let r=new FileReader;r.onload=r=>{try{let e=JSON.parse(r.target.result);t(e)}catch(t){console.error(`\u{89E3}\u{6790}\u{6A94}\u{6848} ${e.name} \u{6642}\u{51FA}\u{932F}:`,t),n(Error(`\u{6A94}\u{6848}\u{683C}\u{5F0F}\u{4E0D}\u{6B63}\u{78BA}\u{FF0C}\u{7121}\u{6CD5}\u{89E3}\u{6790}\u{70BA}JSON: ${e.name}`))}},r.onerror=()=>{n(Error(`\u{8B80}\u{53D6}\u{6A94}\u{6848}\u{6642}\u{767C}\u{751F}\u{932F}\u{8AA4}: ${e.name}`))},r.readAsText(e)}),lo=e=>{try{if(!e||0===Object.keys(e).length)return console.warn("JSON 資料為空或不是物件"),!1;let t=!1;for(let n in e){let r=e[n];if(!r||!r.title||!r.sections){console.warn(`\u{985E}\u{5225} ${n} \u{7F3A}\u{5C11}\u{6A19}\u{984C}\u{6216}\u{7AE0}\u{7BC0}`);continue}let i=!1;for(let e in r.sections){let t=r.sections[e];if(!t||!t.title||!t.sub_sections){console.warn(`\u{7AE0}\u{7BC0} ${e} \u{7F3A}\u{5C11}\u{6A19}\u{984C}\u{6216}\u{5B50}\u{7AE0}\u{7BC0}`);continue}let n=!1;for(let e in t.sub_sections){let r=t.sub_sections[e];if(!r||!r.title){console.warn(`\u{5B50}\u{7AE0}\u{7BC0} ${e} \u{7F3A}\u{5C11}\u{6A19}\u{984C}`);continue}if(r.questions&&r.questions.length>0){let e=!0;for(let t of r.questions){if(!t.question_text||!t.options||!t.correct_answer||!t.solution){console.warn("問題缺少必要欄位"),e=!1;break}if(Object.keys(t.options).length<2){console.warn("問題選項數量不足"),e=!1;break}if(!t.options[t.correct_answer]){console.warn(`\u{6B63}\u{78BA}\u{7B54}\u{6848} ${t.correct_answer} \u{4E0D}\u{5728}\u{9078}\u{9805}\u{4E2D}`),e=!1;break}}e&&(n=!0)}else n=!0}n&&(i=!0)}i&&(t=!0)}return t}catch(e){return console.error("驗證JSON格式時出錯:",e),!1}},la=async e=>{try{let t=[],n=[];for(let r of e)try{let e=await ls(r);if(lo(e))t.push(e),console.log(`\u{6A94}\u{6848} ${r.name} \u{9A57}\u{8B49}\u{6210}\u{529F}`);else{let i=`\u{6A94}\u{6848} ${r.name} \u{683C}\u{5F0F}\u{4E0D}\u{6B63}\u{78BA}\u{FF0C}\u{4F46}\u{4ECD}\u{5C07}\u{5617}\u{8A66}\u{4F7F}\u{7528}`;console.warn(i),n.push(i),t.push(e)}}catch(e){console.error(`\u{8655}\u{7406}\u{6A94}\u{6848} ${r.name} \u{6642}\u{51FA}\u{932F}:`,e),n.push(e.message)}if(0===t.length)throw Error("沒有有效的JSON檔案可使用: "+n.join("; "));console.log("合併資料中...");let r=ln(t);return console.log("正在打亂問題順序..."),lr(r)}catch(e){throw console.error("匯入JSON檔案時出錯:",e),e}};let ll={},lu={},lc={};try{ll=F("jOES1"),console.log("成功載入 L21.json")}catch(e){console.error("載入 L21.json 失敗:",e),ll={}}try{lu=F("aMt6j"),console.log("成功載入 L22.json")}catch(e){console.error("載入 L22.json 失敗:",e),lu={}}try{lc=F("gDbeG"),console.log("成功載入 L23.json")}catch(e){console.error("載入 L23.json 失敗:",e),lc={}}const lh=[ll,lu,lc].filter(e=>e&&"object"==typeof e&&Object.keys(e).length>0);let lf={};if(lh.length>0)try{console.log("合併測驗資料中...");let e=ln(lh);console.log("打亂問題順序中..."),lf=lr(e),console.log("測驗資料準備完成")}catch(e){console.error("處理測驗資料時出錯:",e),lf={範例類別:{title:"範例測驗",sections:{範例章節:{title:"範例章節標題",sub_sections:{範例子章節:{title:"範例子章節標題",questions:[{question_text:"這是一個範例問題",options:{A:"選項A",B:"選項B",C:"選項C",D:"選項D"},correct_answer:"A",solution:"這是範例解析"}]}}}}}}}else console.warn("沒有找到有效的測驗資料，使用預設資料"),lf={範例類別:{title:"範例測驗",sections:{範例章節:{title:"範例章節標題",sub_sections:{範例子章節:{title:"範例子章節標題",questions:[{question_text:"這是一個範例問題",options:{A:"選項A",B:"選項B",C:"選項C",D:"選項D"},correct_answer:"A",solution:"這是範例解析"}]}}}}}};const ld=async(e,t)=>{try{let n=oq(ly,"categories",e);if(await aa(n,t),console.log(`\u{985E}\u{5225} ${e} \u{4E0A}\u{50B3}\u{6210}\u{529F}`),t.sections){let e=oz(n,"sections");for(let n in t.sections){let r=t.sections[n],i=oq(e,n);if(await aa(i,{title:r.title}),r.sub_sections){let e=oz(i,"subSections");for(let t in r.sub_sections){let n=r.sub_sections[t],i=oq(e,t);if(await aa(i,{title:n.title}),n.questions&&n.questions.length>0){let e=oz(i,"questions");for(let t=0;t<n.questions.length;t++){let r=n.questions[t],i=oq(e,`question_${t+1}`);await aa(i,r)}}}}}}return!0}catch(e){throw console.error("上傳資料到Firebase時出錯:",e),e}},lp=async(e=lf)=>{try{for(let t in e)await ld(t,e[t]);return console.log("所有資料上傳完成"),!0}catch(e){throw console.error("上傳所有資料時出錯:",e),e}};var lg=function(){let[e,t]=(0,al.useState)([]),[n,r]=(0,al.useState)(!1),[i,s]=(0,al.useState)(""),[o,a]=(0,al.useState)(""),[l,u]=(0,al.useState)(null),c=async()=>{if(0===e.length)return void a("請選擇至少一個JSON檔案");r(!0),s("正在處理檔案..."),a("");try{let t=await la(e);u(t),s("檔案處理成功！可以上傳到Firebase了。")}catch(e){a(`\u{6A94}\u{6848}\u{8655}\u{7406}\u{5931}\u{6557}: ${e.message}`),u(null)}finally{r(!1)}},h=async()=>{if(!l)return void a("沒有可上傳的資料，請先匯入檔案");r(!0),s("正在上傳資料到Firebase..."),a("");try{await lp(l),s("資料已成功上傳到Firebase！")}catch(e){a(`\u{4E0A}\u{50B3}\u{5931}\u{6557}: ${e.message}`)}finally{r(!1)}};return(0,V.jsxs)("div",{className:"admin-panel",children:[(0,V.jsx)("h2",{children:"測驗管理系統"}),(0,V.jsx)("p",{children:"在此處上傳和管理您的測驗資料"}),(0,V.jsxs)("div",{className:"upload-section",children:[(0,V.jsx)("h3",{children:"上傳JSON檔案"}),(0,V.jsxs)("div",{className:"file-input",children:[(0,V.jsx)("input",{type:"file",accept:".json",multiple:!0,onChange:e=>{t(Array.from(e.target.files)),s(""),a("")},disabled:n}),(0,V.jsxs)("p",{children:["已選擇 ",e.length," 個檔案"]})]}),(0,V.jsxs)("div",{className:"button-group",children:[(0,V.jsx)("button",{className:"button",onClick:c,disabled:n||0===e.length,children:"匯入檔案"}),(0,V.jsx)("button",{className:"button",onClick:h,disabled:n||!l,children:"上傳到Firebase"})]}),n&&(0,V.jsx)("div",{className:"loading",children:"處理中..."}),i&&(0,V.jsx)("div",{className:"success-message",children:i}),o&&(0,V.jsx)("div",{className:"error-message",children:o})]}),l&&(0,V.jsxs)("div",{className:"preview-section",children:[(0,V.jsx)("h3",{children:"資料預覽"}),(0,V.jsxs)("div",{className:"data-preview",children:[(0,V.jsxs)("h4",{children:["類別數量: ",Object.keys(l).length]}),(0,V.jsx)("ul",{children:Object.keys(l).map(e=>(0,V.jsxs)("li",{children:[(0,V.jsx)("strong",{children:l[e].title}),(0,V.jsx)("ul",{children:Object.keys(l[e].sections).map(t=>(0,V.jsxs)("li",{children:[l[e].sections[t].title,(0,V.jsx)("ul",{children:Object.keys(l[e].sections[t].sub_sections).map(n=>{let r=l[e].sections[t].sub_sections[n],i=r.questions?.length||0;return(0,V.jsxs)("li",{children:[r.title," (",i," 題)"]},n)})})]},t))})]},e))})]})]})]})};F("3OyDL");var lm=function(){return(0,V.jsx)("header",{children:(0,V.jsx)("div",{className:"container",children:(0,V.jsx)(a5,{to:"/",style:{color:"white",textDecoration:"none"},children:(0,V.jsx)("h1",{children:"互動式測驗系統"})})})})};const ly=function(e,t){let n=(function(e,t){let n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)})("object"==typeof e?e:function(e=eO){let t=eF.get(e);if(!t&&e===eO&&et())return eH();if(!t)throw eq.create("no-app",{appName:e});return t}(),"firestore").getImmediate({identifier:"string"==typeof e?e:"(default)"});if(!n._initialized){let e=ee("firestore");e&&function(e,t,n,r={}){var i;let s=(e=oO(e,oF))._getSettings(),o=`${t}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&tG("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=tV.MOCK_USER;else{t=function(e,t){if(e.uid)throw Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[K(JSON.stringify({alg:"none",type:"JWT"})),K(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null==(i=e._app)?void 0:i.options.projectId);let s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new tY(tW.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new tV(s)}e._authCredentials=new t0(new tJ(t,n))}}(n,...e)}return n}(eH({apiKey:"YOUR_API_KEY",authDomain:"YOUR_AUTH_DOMAIN",projectId:"YOUR_PROJECT_ID",storageBucket:"YOUR_STORAGE_BUCKET",messagingSenderId:"YOUR_MESSAGING_SENDER_ID",appId:"YOUR_APP_ID"}));f(document.getElementById("root")).render((0,V.jsx)(function(){let[e,t]=(0,al.useState)(null),[n,r]=(0,al.useState)(!0),[i,s]=(0,al.useState)(null);return((0,al.useEffect)(()=>{(async()=>{try{if(lf&&Object.keys(lf).length>0){console.log("使用本地測試資料"),t(lf),r(!1);return}if(console.log("嘗試從Firebase載入資料..."),!ly)throw console.warn("Firebase未初始化，使用預設資料"),Error("Firebase未初始化");let e=oz(ly,"categories"),n=await function(e){e=oO(e,oU);let t=oO(e.firestore,oH),n=oG(t),r=new ao(t);return function(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new tY(tW.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(e._query),(function(e,t,n={}){let r=new tX;return e.asyncQueue.enqueueAndForget(async()=>(function(e,t,n,r,i){let s=new oC({next:n=>{s.Za(),t.enqueueAndForget(()=>sJ(e,o)),n.fromCache&&"server"===r.source?i.reject(new tY(tW.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new s2(n,s,{includeMetadataChanges:!0,_a:!0});return sX(e,o)})(await oT(e),e.asyncQueue,t,n,r)),r.promise})(n,e._query).then(n=>new as(t,r,e,n))}(e);if(n.empty)console.log("Firebase沒有資料，使用測試資料"),t(lf);else{let e={};n.forEach(t=>{e[t.id]=t.data()}),console.log("從Firebase成功載入資料"),t(e)}r(!1)}catch(e){console.error("載入資料時出錯:",e),console.log("載入資料時發生錯誤，使用測試資料"),t(lf),lf&&0!==Object.keys(lf).length||s("無法載入測驗資料。請檢查您的JSON檔案格式是否正確。"),r(!1)}})()},[]),n)?(0,V.jsxs)("div",{className:"loading-container",children:[(0,V.jsx)("div",{className:"loading",children:"載入中..."}),(0,V.jsx)("div",{className:"loading-text",children:"正在準備測驗資料，請稍候..."})]}):i?(0,V.jsxs)("div",{className:"error-container",children:[(0,V.jsx)("div",{className:"error",children:i}),(0,V.jsx)("p",{children:"請檢查您的JSON檔案格式是否正確，或嘗試重新整理頁面。"}),(0,V.jsx)("button",{onClick:()=>window.location.reload(),className:"button",children:"重新整理"})]}):e&&Object.keys(e).length>0?(0,V.jsxs)(a3,{children:[(0,V.jsx)(lm,{}),(0,V.jsx)("div",{className:"container",children:(0,V.jsxs)(aX,{children:[(0,V.jsx)(aW,{path:"/",element:(0,V.jsx)(a9,{quizData:e})}),(0,V.jsx)(aW,{path:"/category/:categoryId",element:(0,V.jsx)(a7,{quizData:e})}),(0,V.jsx)(aW,{path:"/quiz/:categoryId/:sectionId/:subSectionId",element:(0,V.jsx)(le,{quizData:e})}),(0,V.jsx)(aW,{path:"/results",element:(0,V.jsx)(lt,{})}),(0,V.jsx)(aW,{path:"/admin",element:(0,V.jsx)(lg,{})})]})})]}):(0,V.jsxs)("div",{className:"error-container",children:[(0,V.jsx)("div",{className:"error",children:"沒有可用的測驗資料"}),(0,V.jsx)("p",{children:"請使用管理介面上傳JSON檔案，或將檔案放入src/data資料夾。"}),(0,V.jsx)("a",{href:"/admin",className:"button",children:"前往管理介面"})]})},{}));
//# sourceMappingURL=quiz-app.eb2503f2.js.map
